PLGUINS OFICIAIS:

@capacitor/action-sheet

The Action Sheet API provides access to native Action Sheets, which come up from the bottom of the screen and display actions a user can take.
Install

npm install @capacitor/action-sheet
npx cap sync

Variables

This plugin will use the following project variables (defined in your app's variables.gradle file):

    androidxMaterialVersion: version of com.google.android.material:material (default: 1.12.0)

PWA Notes

PWA Elements are required for Action Sheet plugin to work.
Example

import { ActionSheet, ActionSheetButtonStyle } from '@capacitor/action-sheet';

const showActions = async () => {
  const result = await ActionSheet.showActions({
    title: 'Photo Options',
    message: 'Select an option to perform',
    options: [
      {
        title: 'Upload',
      },
      {
        title: 'Share',
      },
      {
        title: 'Remove',
        style: ActionSheetButtonStyle.Destructive,
      },
    ],
  });

  console.log('Action Sheet result:', result);
};

API

    showActions(...)
    Interfaces
    Enums

showActions(...)

showActions(options: ShowActionsOptions) => Promise<ShowActionsResult>

Show an Action Sheet style modal with various options for the user to select.
Param	Type
options	

ShowActionsOptions

Returns:

Promise<ShowActionsResult>

Since: 1.0.0
Interfaces
ShowActionsResult
Prop	Type	Description	Since
index	number	The index of the clicked option (Zero-based)	1.0.0
ShowActionsOptions
Prop	Type	Description	Since
title	string	The title of the Action Sheet.	1.0.0
message	string	A message to show under the title. This option is only supported on iOS.	1.0.0
options	ActionSheetButton[]	Options the user can choose from.	1.0.0
ActionSheetButton
Prop	Type	Description	Since
title	string	The title of the option	1.0.0
style	

ActionSheetButtonStyle

	The style of the option This option is only supported on iOS.	1.0.0
icon	string	Icon for the option (ionicon naming convention) This option is only supported on Web.	1.0.0
Enums
ActionSheetButtonStyle
Members	Value	Description	Since
Default	'DEFAULT'	Default style of the option.	1.0.0
Destructive	'DESTRUCTIVE'	Style to use on destructive options.	1.0.0
Cancel	'CANCEL'	Style to use on the option that cancels the Action Sheet. If used, should be on the latest availabe option.	1.0.0

@capacitor/app-launcher

The AppLauncher API allows your app to check if an app can be opened and open it.

On iOS you can only open apps if you know their url scheme.

On Android you can open apps if you know their url scheme or use their public package name.

Note: On Android 11 and newer you have to add the app package names you want to query in the AndroidManifest.xml inside the queries tag.

Example:

<queries>
  <package android:name="com.getcapacitor.myapp" />
</queries>

Install

npm install @capacitor/app-launcher
npx cap sync

Example

import { AppLauncher } from '@capacitor/app-launcher';

const checkCanOpenUrl = async () => {
  const { value } = await AppLauncher.canOpenUrl({ url: 'com.getcapacitor.myapp' });

  console.log('Can open url: ', value);
};

const openPortfolioPage = async () => {
  await AppLauncher.openUrl({ url: 'com.getcapacitor.myapp://page?id=portfolio' });
};

API

    canOpenUrl(...)
    openUrl(...)
    Interfaces

canOpenUrl(...)

canOpenUrl(options: CanOpenURLOptions) => Promise<CanOpenURLResult>

Check if an app can be opened with the given URL.

On iOS you must declare the URL schemes you pass to this method by adding the LSApplicationQueriesSchemes key to your app's Info.plist file. Learn more about configuring Info.plist.

This method always returns false for undeclared schemes, whether or not an appropriate app is installed. To learn more about the key, see LSApplicationQueriesSchemes.
Param	Type
options	

CanOpenURLOptions

Returns:

Promise<CanOpenURLResult>

Since: 1.0.0
openUrl(...)

openUrl(options: OpenURLOptions) => Promise<OpenURLResult>

Open an app with the given URL. On iOS the URL should be a known URLScheme. On Android the URL can be a known URLScheme or an app package name.
Param	Type
options	

OpenURLOptions

Returns:

Promise<OpenURLResult>

Since: 1.0.0
Interfaces
CanOpenURLResult
Prop	Type
value	boolean
CanOpenURLOptions
Prop	Type
url	string
OpenURLResult
Prop	Type
completed	boolean
OpenURLOptions
Prop	Type
url	string

@capacitor/app

The App API handles high level App state and events. For example, this API emits events when the app enters and leaves the foreground, handles deeplinks, opens other apps, and manages persisted plugin state.
Install

npm install @capacitor/app
npx cap sync

iOS

For being able to open the app from a custom scheme you need to register the scheme first. You can do it by editing the Info.plist file and adding this lines.

<key>CFBundleURLTypes</key>
<array>
  <dict>
    <key>CFBundleURLName</key>
    <string>com.getcapacitor.capacitor</string>
    <key>CFBundleURLSchemes</key>
    <array>
      <string>mycustomscheme</string>
    </array>
  </dict>
</array>

Android

For being able to open the app from a custom scheme you need to register the scheme first. You can do it by adding this lines inside the activity section of the AndroidManifest.xml.

<intent-filter>
    <action android:name="android.intent.action.VIEW" />
    <category android:name="android.intent.category.DEFAULT" />
    <category android:name="android.intent.category.BROWSABLE" />
    <data android:scheme="@string/custom_url_scheme" />
</intent-filter>

custom_url_scheme value is stored in strings.xml. When the Android platform is added, @capacitor/cli adds the app's package name as default value, but can be replaced by editing the strings.xml file.
Example

import { App } from '@capacitor/app';

App.addListener('appStateChange', ({ isActive }) => {
  console.log('App state changed. Is active?', isActive);
});

App.addListener('appUrlOpen', data => {
  console.log('App opened with URL:', data);
});

App.addListener('appRestoredResult', data => {
  console.log('Restored state:', data);
});

const checkAppLaunchUrl = async () => {
  const { url } = await App.getLaunchUrl();

  console.log('App opened with URL: ' + url);
};

Configuration
Prop	Type	Description	Default	Since
disableBackButtonHandler	boolean	Disable the plugin's default back button handling. Only available for Android.	false	7.1.0
Examples

In capacitor.config.json:

{
  "plugins": {
    "App": {
      "disableBackButtonHandler": true
    }
  }
}

In capacitor.config.ts:

/// <reference types="@capacitor/app" />

import { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  plugins: {
    App: {
      disableBackButtonHandler: true,
    },
  },
};

export default config;

API

    exitApp()
    getInfo()
    getState()
    getLaunchUrl()
    minimizeApp()
    toggleBackButtonHandler(...)
    addListener('appStateChange', ...)
    addListener('pause', ...)
    addListener('resume', ...)
    addListener('appUrlOpen', ...)
    addListener('appRestoredResult', ...)
    addListener('backButton', ...)
    removeAllListeners()
    Interfaces
    Type Aliases

exitApp()

exitApp() => Promise<void>

Force exit the app. This should only be used in conjunction with the backButton handler for Android to exit the app when navigation is complete.

Ionic handles this itself so you shouldn't need to call this if using Ionic.

Since: 1.0.0
getInfo()

getInfo() => Promise<AppInfo>

Return information about the app.

Returns:

Promise<AppInfo>

Since: 1.0.0
getState()

getState() => Promise<AppState>

Gets the current app state.

Returns:

Promise<AppState>

Since: 1.0.0
getLaunchUrl()

getLaunchUrl() => Promise<AppLaunchUrl | undefined>

Get the URL the app was launched with, if any.

Returns:

Promise<AppLaunchUrl>

Since: 1.0.0
minimizeApp()

minimizeApp() => Promise<void>

Minimizes the application.

Only available for Android.

Since: 1.1.0
toggleBackButtonHandler(...)

toggleBackButtonHandler(options: ToggleBackButtonHandlerOptions) => Promise<void>

Enables or disables the plugin's back button handling during runtime.

Only available for Android.
Param	Type
options	

ToggleBackButtonHandlerOptions

Since: 7.1.0
addListener('appStateChange', ...)

addListener(eventName: 'appStateChange', listenerFunc: StateChangeListener) => Promise<PluginListenerHandle>

Listen for changes in the app or the activity states.

On iOS it's fired when the native UIApplication.willResignActiveNotification and UIApplication.didBecomeActiveNotification events get fired. On Android it's fired when the Capacitor's Activity onResume and onStop methods gets called. On Web it's fired when the document's visibilitychange gets fired.
Param	Type
eventName	'appStateChange'
listenerFunc	

StateChangeListener

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
addListener('pause', ...)

addListener(eventName: 'pause', listenerFunc: () => void) => Promise<PluginListenerHandle>

Listen for when the app or the activity are paused.

On iOS it's fired when the native UIApplication.didEnterBackgroundNotification event gets fired. On Android it's fired when the Capacitor's Activity onPause method gets called. On Web it's fired when the document's visibilitychange gets fired and document.hidden is true.
Param	Type
eventName	'pause'
listenerFunc	() => void

Returns:

Promise<PluginListenerHandle>

Since: 4.1.0
addListener('resume', ...)

addListener(eventName: 'resume', listenerFunc: () => void) => Promise<PluginListenerHandle>

Listen for when the app or activity are resumed.

On iOS it's fired when the native UIApplication.willEnterForegroundNotification event gets fired. On Android it's fired when the Capacitor's Activity onResume method gets called, but only after resume has fired first. On Web it's fired when the document's visibilitychange gets fired and document.hidden is false.
Param	Type
eventName	'resume'
listenerFunc	() => void

Returns:

Promise<PluginListenerHandle>

Since: 4.1.0
addListener('appUrlOpen', ...)

addListener(eventName: 'appUrlOpen', listenerFunc: URLOpenListener) => Promise<PluginListenerHandle>

Listen for url open events for the app. This handles both custom URL scheme links as well as URLs your app handles (Universal Links on iOS and App Links on Android)
Param	Type
eventName	'appUrlOpen'
listenerFunc	

URLOpenListener

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
addListener('appRestoredResult', ...)

addListener(eventName: 'appRestoredResult', listenerFunc: RestoredListener) => Promise<PluginListenerHandle>

If the app was launched with previously persisted plugin call data, such as on Android when an activity returns to an app that was closed, this call will return any data the app was launched with, converted into the form of a result from a plugin call.

On Android, due to memory constraints on low-end devices, it's possible that, if your app launches a new activity, your app will be terminated by the operating system in order to reduce memory consumption.

For example, that means the Camera API, which launches a new Activity to take a photo, may not be able to return data back to your app.

To avoid this, Capacitor stores all restored activity results on launch. You should add a listener for appRestoredResult in order to handle any plugin call results that were delivered when your app was not running.

Once you have that result (if any), you can update the UI to restore a logical experience for the user, such as navigating or selecting the proper tab.

We recommend every Android app using plugins that rely on external Activities (for example, Camera) to have this event and process handled.
Param	Type
eventName	'appRestoredResult'
listenerFunc	

RestoredListener

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
addListener('backButton', ...)

addListener(eventName: 'backButton', listenerFunc: BackButtonListener) => Promise<PluginListenerHandle>

Listen for the hardware back button event (Android only). Listening for this event will disable the default back button behaviour, so you might want to call window.history.back() manually. If you want to close the app, call App.exitApp().
Param	Type
eventName	'backButton'
listenerFunc	

BackButtonListener

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
removeAllListeners()

removeAllListeners() => Promise<void>

Remove all native listeners for this plugin

Since: 1.0.0
Interfaces
AppInfo
Prop	Type	Description	Since
name	string	The name of the app.	1.0.0
id	string	The identifier of the app. On iOS it's the Bundle Identifier. On Android it's the Application ID	1.0.0
build	string	The build version. On iOS it's the CFBundleVersion. On Android it's the versionCode.	1.0.0
version	string	The app version. On iOS it's the CFBundleShortVersionString. On Android it's package's versionName.	1.0.0
AppState
Prop	Type	Description	Since
isActive	boolean	Whether the app is active or not.	1.0.0
AppLaunchUrl
Prop	Type	Description	Since
url	string	The url used to open the app.	1.0.0
ToggleBackButtonHandlerOptions
Prop	Type	Description	Since
enabled	boolean	Indicates whether to enable or disable default back button handling.	7.1.0
PluginListenerHandle
Prop	Type
remove	() => Promise<void>
URLOpenListenerEvent
Prop	Type	Description	Since
url	string	The URL the app was opened with.	1.0.0
iosSourceApplication	any	The source application opening the app (iOS only) https://developer.apple.com/documentation/uikit/uiapplicationopenurloptionskey/1623128-sourceapplication	1.0.0
iosOpenInPlace	boolean	Whether the app should open the passed document in-place or must copy it first. https://developer.apple.com/documentation/uikit/uiapplicationopenurloptionskey/1623123-openinplace	1.0.0
RestoredListenerEvent
Prop	Type	Description	Since
pluginId	string	The pluginId this result corresponds to. For example, Camera.	1.0.0
methodName	string	The methodName this result corresponds to. For example, getPhoto	1.0.0
data	any	The result data passed from the plugin. This would be the result you'd expect from normally calling the plugin method. For example, CameraPhoto	1.0.0
success	boolean	Boolean indicating if the plugin call succeeded.	1.0.0
error	{ message: string; }	If the plugin call didn't succeed, it will contain the error message.	1.0.0
BackButtonListenerEvent
Prop	Type	Description	Since
canGoBack	boolean	Indicates whether the browser can go back in history. False when the history stack is on the first entry.	1.0.0
Type Aliases
StateChangeListener

(state: AppState): void

URLOpenListener

(event: URLOpenListenerEvent): void

RestoredListener

(event: RestoredListenerEvent): void

BackButtonListener

(event: BackButtonListenerEvent): void

@capacitor/background-runner

Background Runner provides an event-based standalone JavaScript environment for executing your Javascript code outside of the web view.
Install

npm install @capacitor/background-runner
npx cap sync

Background Runner has support for various device APIs that require permission from the user prior to use.
iOS

On iOS you must enable the Background Modes capability.

Enable Background Mode Capability in Xcode

Once added, you must enable the Background fetch and Background processing modes at a minimum to enable the ability to register and schedule your background tasks.

If you will be making use of Geolocation or Push Notifications, enable Location updates or Remote notifications respectively.

Configure Background Modes in Xcode

After enabling the Background Modes capability, add the following to your app's AppDelegate.swift:

At the top of the file, under import Capacitor add:

import CapacitorBackgroundRunner

func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {

    // ....
    BackgroundRunnerPlugin.registerBackgroundTask()
    BackgroundRunnerPlugin.handleApplicationDidFinishLaunching(launchOptions: launchOptions)
    // ....

    return true
}

To allow the Background Runner to handle remote notifications, add the following:

func application(_ application: UIApplication, didReceiveRemoteNotification userInfo: [AnyHashable : Any], fetchCompletionHandler completionHandler: @escaping (UIBackgroundFetchResult) -> Void) {
        // ....
        BackgroundRunnerPlugin.dispatchEvent(event: "remoteNotification", eventArgs: userInfo) { result in
            switch result {
            case .success:
                completionHandler(.newData)
            case .failure:
                completionHandler(.failed)
            }
        }
    }

Geolocation

Apple requires privacy descriptions to be specified in Info.plist for location information:

    NSLocationAlwaysUsageDescription (Privacy - Location Always Usage Description)
    NSLocationWhenInUseUsageDescription (Privacy - Location When In Use Usage Description)

Read about Configuring Info.plist in the iOS Guide for more information on setting iOS permissions in Xcode
Android

Insert the following line to android/app/build.gradle:

...

repositories {
    flatDir{
        dirs '../capacitor-cordova-android-plugins/src/main/libs', 'libs'
+		dirs '../../node_modules/@capacitor/background-runner/android/src/main/libs', 'libs'
    }
}
...

If you are upgrading from 1.0.5 with an existing Android project, be sure to delete the android-js-engine-release.aar from android/src/main/libs.
Geolocation

This API requires the following permissions be added to your AndroidManifest.xml:

<!-- Geolocation API -->
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-feature android:name="android.hardware.location.gps" />

The first two permissions ask for location data, both fine and coarse, and the last line is optional but necessary if your app requires GPS to function. You may leave it out, though keep in mind that this may mean your app is installed on devices lacking GPS hardware.
Local Notifications

Android 13 requires a permission check in order to send notifications. You are required to call checkPermissions() and requestPermissions() accordingly.

On Android 12 and older it won't show a prompt and will just return as granted.

Starting on Android 12, scheduled notifications won't be exact unless this permission is added to your AndroidManifest.xml:

<uses-permission android:name="android.permission.SCHEDULE_EXACT_ALARM" />

Note that even if the permission is present, users can still disable exact notifications from the app settings.

Read about Setting Permissions in the Android Guide for more information on setting Android permissions.
About Background Runner

During the course of building complex applications, its sometimes necessary to perform work while the application is not in the foreground. The challenge with standard Capacitor applications is that the webview is not available when these background events occur, requiring you to write native code to handle these events. This is where the Background Runner plugin comes in.

Background Runner makes it easy to write JavaScript code to handle native background events. All you need to do is create your runner JavaScript file and define your configuration, then the Background Runner plugin will automatically configure and schedule a native background task that will be executed according to your config and the rules of the platform. No modification to your UI code is necessary.
Using Background Runner

Background Runner contains a headless JavaScript environment that calls event handlers in javascript file that you designate in your capacitor.config.ts file. If the runner finds a event handler corresponding to incoming event in your runner file, it will execute the event handler, then shutdown once resolve() or reject() are called (or if the OS force kills your process).
Example Runner JS File

addEventListener('myCustomEvent', (resolve, reject, args) => {
  console.log('do something to update the system here');
  resolve();
});

addEventListener('myCustomEventWithReturnData', (resolve, reject, args) => {
  try {
    console.log('accepted this data: ' + JSON.stringify(args.user));

    const updatedUser = args.user;
    updatedUser.firstName = updatedUser.firstName + ' HELLO';
    updatedUser.lastName = updatedUser.lastName + ' WORLD';

    resolve(updatedUser);
  } catch (err) {
    reject(err);
  }
});

addEventListener('remoteNotification', (resolve, reject, args) => {
  try {
    console.log('received silent push notification');

    CapacitorNotifications.schedule([
      {
        id: 100,
        title: 'Enterprise Background Runner',
        body: 'Received silent push notification',
      },
    ]);

    resolve();
  } catch (err) {
    reject();
  }
});

Calling resolve() \ reject() is required within every event handler called by the runner. Failure to do this could result in your runner being killed by the OS if your event is called while the app is in the background. If the app is in the foreground, async calls to dispatchEvent may not resolve.

For more real world examples of using Background Runner, check out the Background Runner Test App.
Configuring Background Runner

On load, Background Runner will automatically register a background task that will be scheduled and run once your app is backgrounded.
Prop	Type	Description	Since
label	string	The name of the runner, used in logs.	1.0.0
src	string	The path to the runner JavaScript file, relative to the app bundle.	1.0.0
event	string	The name of the event that will be called when the OS executes the background task.	1.0.0
repeat	boolean	If background task should repeat based on the interval set in interval.	1.0.0
interval	number	The number of minutes after the the app is put into the background in which the background task should begin. If repeat is true, this also specifies the number of minutes between each execution.	1.0.0
autoStart	boolean	Automatically register and schedule background task on app load.	1.0.0
Examples

In capacitor.config.json:

{
  "plugins": {
    "BackgroundRunner": {
      "label": "com.example.background.task",
      "src": "runners/background.js",
      "event": "myCustomEvent",
      "repeat": true,
      "interval": 15,
      "autoStart": true
    }
  }
}

In capacitor.config.ts:

/// <reference types="@capacitor/background-runner" />

import { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  plugins: {
    BackgroundRunner: {
      label: "com.example.background.task",
      src: "runners/background.js",
      event: "myCustomEvent",
      repeat: true,
      interval: 15,
      autoStart: true,
    },
  },
};

export default config;

JavaScript API

Background Runner does not execute your Javascript code in a browser or web view, therefore the typical Web APIs you may be used to may not be available. This includes DOM APIs nor ability to interact with your application's DOM.

Below is a list of the available Web APIs provided in Background Runner:

    console
        only info, log, warn, error , and debug are available
    TextDecoder
        only decode is available
    TextEncoder
        only encode is available
    addEventListener
        Event Listener options and useCapture not supported
    setTimeout
    setInterval
    clearTimeout
    clearInterval
    crypto
    fetch
        Request object not yet supported
        Only method, headers and body supported in options object

In addition to the standard Web APIs, Background Runner also supports a number of custom Capacitor APIs custom APIs that expose relevant mobile device functionality
Runner Lifetimes

Currently, the runners are designed for performing periodic bursts of work while your app is in the background, or for executing asynchronous work in a thread separate from your UI while your app is in the foreground. As a result, runners are not long lived. State is not maintained between calls to events in the runner. Each call to dispatchEvent() creates a new context in which your runner code is loaded and executed, and once resolve() or reject() is called, the context is destroyed.
Android Battery Optimizations

Some Android vendors offer built-in battery optimization settings that go beyond what stock Android provides. Some of these optimizations must be disabled by your end users in order for your background tasks to work properly.

Visit Don't kill my app! for more information on the affected manufacturers and steps required by your users to adjust the settings.
Limitations of Background Tasks

It's not possible to run persistent, always running background services on mobile operating systems. Due to the limitations imposed by iOS and Android designed to reduce battery and data consumption, background tasks are constrained with various limitations that you must keep in mind while designing and implementing your background task.
iOS

    Each invocation of your task has approximately up to 30 seconds of runtime before you must call completed() or your task is killed.
    While you can set an interval to define when your task runs after the app is backgrounded, or how often it should run, this is not guaranteed. iOS will determine when and how often you task will ultimately run, determined in part by how often you app is used.
    Background tasks are not executed in the simulator.

Android

    Your task has a maximum of 10 minutes to perform work, but to keep your task cross platform compatible, you should limit your work to 30 seconds at most.
    Repeating background tasks have a minimal interval of at least 15 minutes. Similar to iOS, any interval you request may not be hit exactly - actual execution time is subject to OS battery optimizations and other heuristics.

API

    checkPermissions()
    requestPermissions(...)
    dispatchEvent(...)
    addListener('backgroundRunnerNotificationReceived', ...)
    removeNotificationListeners()
    Interfaces
    Type Aliases

checkPermissions()

checkPermissions() => any

Check permissions for the various Capacitor device APIs.

Returns: any

Since: 1.0.0
requestPermissions(...)

requestPermissions(options: RequestPermissionOptions) => any

Request permission to display local notifications.
Param	Type
options	

RequestPermissionOptions

Returns: any

Since: 1.0.0
dispatchEvent(...)

dispatchEvent<T = void>(options: DispatchEventOptions) => any

Dispatches an event to the configured runner.
Param	Type
options	

DispatchEventOptions

Returns: any

Since: 1.0.0
addListener('backgroundRunnerNotificationReceived', ...)

addListener(eventName: 'backgroundRunnerNotificationReceived', listenerFunc: (event: NotificationActionEvent) => void) => any

Add a listener for notification actions.
Param	Type
eventName	'backgroundRunnerNotificationReceived'
listenerFunc	

(event: NotificationActionEvent) => void

Returns: any

Since: 2.1.1
removeNotificationListeners()

removeNotificationListeners() => any

Remove notification action listeners for this plugin.

Returns: any

Since: 2.1.1
Interfaces
PermissionStatus
Prop	Type
geolocation	

PermissionState

notifications	

PermissionState

RequestPermissionOptions
Prop	Type
apis	{}
DispatchEventOptions
Prop	Type	Description	Since
label	string	The runner label to dispatch the event to	1.0.0
event	string	The name of the registered event listener.	1.0.0
details	{ [key: string]: any; }		
NotificationActionEvent
Prop	Type
actionTypeId	string
notificationId	number
PluginListenerHandle
Prop	Type
remove	() => any
Type Aliases
PermissionState

'prompt' | 'prompt-with-rationale' | 'granted' | 'denied'
API

'geolocation' | 'notifications'
Capacitor API
Interfaces
CapacitorDevice

Get information on the device, such as network connectivity and battery status.
Prop	Type	Description	Since
getBatteryStatus	

() => BatteryStatus

	Get the current battery status for the device.	1.0.0
getNetworkStatus	

() => NetworkStatus

	Get the current network status for the device.	1.0.0
BatteryStatus
Prop	Type
batteryLevel	number
isCharging	boolean
NetworkStatus
Prop	Type
connected	boolean
connectionType	string
CapacitorKV

A simple string key / value store backed by UserDefaults on iOS and Shared Preferences on Android.
Prop	Type	Description	Since
set	(key: string, value: string) => void	Set a string value with the given key.	1.0.0
get	(key: string) => { value: string; }	Get a string value for the given key.	1.0.0
remove	(key: string) => void	Remove a value with the given key.	1.0.0
CapacitorNotifications

Send basic local notifications.
Prop	Type	Description	Since
schedule	(options: {}) => void	Schedule a local notification	1.0.0
setBadge	

(options: NotificationBadgeOptions) => void

	Set the application badge count	2.0.0
clearBadge	() => void	Clears the application badge count	2.0.0
NotificationScheduleOptions
Prop	Type	Description	Since
id	number	The notification identifier. On Android it's a 32-bit int. So the value should be between -2147483648 and 2147483647 inclusive.	1.0.0
title	string	The title of the notification.	1.0.0
body	string	The body of the notification, shown below the title.	1.0.0
scheduleAt	Date	Date to send this notification.	1.0.0
sound	string	Name of the audio file to play when this notification is displayed. Include the file extension with the filename. On iOS, the file should be in the app bundle. On Android, the file should be in res/raw folder. Recommended format is .wav because is supported by both iOS and Android. Only available for iOS and Android < 26. For Android 26+ use channelId of a channel configured with the desired sound. If the sound file is not found, (i.e. empty string or wrong name) the default system notification sound will be used. If not provided, it will produce the default sound on Android and no sound on iOS.	1.0.0
actionTypeId	string	Associate an action type with this notification.	1.0.0
threadIdentifier	string	Used to group multiple notifications. Sets threadIdentifier on the UNMutableNotificationContent. Only available for iOS.	1.0.0
summaryArgument	string	The string this notification adds to the category's summary format string. Sets summaryArgument on the UNMutableNotificationContent. Only available for iOS.	1.0.0
group	string	Used to group multiple notifications. Calls setGroup() on NotificationCompat.Builder with the provided value. Only available for Android.	1.0.0
groupSummary	string	If true, this notification becomes the summary for a group of notifications. Calls setGroupSummary() on NotificationCompat.Builder with the provided value. Only available for Android when using group.	1.0.0
extra	any	Set extra data to store within this notification.	1.0.0
ongoing	boolean	If true, the notification can't be swiped away. Calls setOngoing() on NotificationCompat.Builder with the provided value. Only available for Android.	1.0.0
autoCancel	boolean	If true, the notification is canceled when the user clicks on it. Calls setAutoCancel() on NotificationCompat.Builder with the provided value. Only available for Android.	1.0.0
largeBody	string	Sets a multiline text block for display in a big text notification style.	1.0.0
summaryText	string	Used to set the summary text detail in inbox and big text notification styles. Only available for Android.	1.0.0
smallIcon	string	Set a custom status bar icon. If set, this overrides the smallIcon option from Capacitor configuration. Icons should be placed in your app's res/drawable folder. The value for this option should be the drawable resource ID, which is the filename without an extension. Only available for Android.	1.0.0
largeIcon	string	Set a large icon for notifications. Icons should be placed in your app's res/drawable folder. The value for this option should be the drawable resource ID, which is the filename without an extension. Only available for Android.	1.0.0
channelId	string	Specifies the channel the notification should be delivered on. If channel with the given name does not exist then the notification will not fire. If not provided, it will use the default channel. Calls setChannelId() on NotificationCompat.Builder with the provided value. Only available for Android 26+.	1.0.0
NotificationBadgeOptions
Prop	Type	Description	Since
count	number	The number to set on the application badge count.	2.0.0
notificationTitle	string	The required title for the associated badge count notification. Only for Android.	2.0.0
notificationSubtitle	string	The subtitle for the associated badge count notification. Only for Android.	2.0.0
CapacitorGeolocation

Get access to device location information.
Prop	Type	Description	Since
getCurrentPosition	

() => GetCurrentPositionResult

	Get the device's last known location	1.0.0
GetCurrentPositionResult
Prop	Type	Description	Since
latitude	number	Latitude in decimal degrees	1.0.0
longitude	number	longitude in decimal degrees	1.0.0
accuracy	number	Accuracy level of the latitude and longitude coordinates in meters	1.0.0
altitude	number | null	The altitude the user is at (if available)	1.0.0
altitudeAccuracy	number | null	Accuracy level of the altitude coordinate in meters, if available. Available on all iOS versions and on Android 8.0+.	1.0.0
speed	number | null	The speed the user is traveling (if available)	1.0.0
heading	number | null	The heading the user is facing (if available)	1.0.0
CapacitorWatch

Interact with a watch paired with this app

sendMessage, transferUserInfo and updateApplicationContext are raw routes to the WCSession delegate methods, but have no effects currently in a CapacitorWatch Watch application. They could be used if a native watch app is developed as a companion app to a Capacitor app
Prop	Type	Description
sendMessage	(options: []) => void	Sends a message to the watch with the sendMessage() WCSession delegate method This has no effect on a CapacitorWatch watch app
transferUserInfo	(options: []) => void	Sends information to the watch with the transferUserInfo() WCSession delegate method This has no effect on a CapacitorWatch watch app
updateApplicationContext	(options: []) => void	Updates the application context on the watch with the updateApplicationContext() WCSession delegate method This has no effect on a CapacitorWatch watch app
isReachable	boolean	Checks to see if the compaion watch is reachable
updateWatchUI	(options: { watchUI: string; }) => void	Replaces the current UI on the watch with what is specified here.
updateWatchData	(options: { data: { [key: string]: string; }; }) => void	Updates the data the watch is using to display variables in text and button fields
CapacitorApp
Prop	Type
getState	

() => AppState

getInfo	

() => AppInfo

AppState
Prop	Type	Description	Since
isActive	boolean	Whether the app is active or not.	1.0.0
AppInfo
Prop	Type	Description	Since
name	string	The name of the app.	1.0.0
id	string	The identifier of the app. On iOS it's the Bundle Identifier. On Android it's the Application ID	1.0.0
build	string	The build version. On iOS it's the CFBundleVersion. On Android it's the versionCode.	1.0.0
version	string	The app version. On iOS it's the CFBundleShortVersionString. On Android it's package's versionName.	1.0.0


@capacitor/barcode-scanner

Capacitor plugin using Outsystems Barcode libs
Install

npm install @capacitor/barcode-scanner
npx cap sync

Android

The barcode scanner plugin requires a minimum Android SDK target of 26. This is higher than the default that comes with your Capacitor application. You can update this value in your android/variables.gradle file.

ext {
    minSdkVersion = 26
}

Note: Android with ZXING scanning library supports all formats, while MLKIT supports all except MAXICODE, RSS_14, RSS_EXPANDED and UPC_EAN_EXTENSION - using one of these in hint will default to scanning any format.
iOS

The barcode scanner uses the camera on the device. Ensure you configure the Privacy - Camera Usage Description in your Info.plist file so that your application can access the device's camera.

Note: iOS supports all formats except MAXICODE and UPC_EAN_EXTENSION - using them in hint will default to scanning any format. Also, Apple Vision does not distinguish between UPC_A and EAN_13, so specifying one of these in hint will allow to scan both.
API

    scanBarcode(...)
    Type Aliases
    Enums

Interface defining the contract for a plugin capable of scanning barcodes. Requires implementation of the scanBarcode method, which initiates a barcode scan with given options.
scanBarcode(...)

scanBarcode(options: CapacitorBarcodeScannerOptions) => Promise<CapacitorBarcodeScannerScanResult>

Param	Type
options	

CapacitorBarcodeScannerOptions

Returns:

Promise<CapacitorBarcodeScannerScanResult>

Type Aliases
CapacitorBarcodeScannerScanResult

Defines the structure of the result returned from a barcode scan.

{ ScanResult: string; format: CapacitorBarcodeScannerTypeHint; }

CapacitorBarcodeScannerTypeHint

Extends supported formats from Html5Qrcode with a special 'ALL' option, indicating support for all barcode types. Type definition combining Html5QrcodeSupportedFormats and OSBarcodeTypeHintALLOption to represent the hint for the type of barcode to be scanned.

Html5QrcodeSupportedFormats | CapacitorBarcodeScannerTypeHintALLOption

CapacitorBarcodeScannerOptions

Defines the options for configuring a barcode scan.

{ hint: CapacitorBarcodeScannerTypeHint; scanInstructions?: string; scanButton?: boolean; scanText?: string; cameraDirection?: CapacitorBarcodeScannerCameraDirection; scanOrientation?: CapacitorBarcodeScannerScanOrientation; android?: { scanningLibrary?: CapacitorBarcodeScannerAndroidScanningLibrary; }; web?: { showCameraSelection?: boolean; scannerFPS?: number; }; }

Enums
Html5QrcodeSupportedFormats
Members	Value
QR_CODE	0
AZTEC	1
CODABAR	2
CODE_39	3
CODE_93	4
CODE_128	5
DATA_MATRIX	6
MAXICODE	7
ITF	8
EAN_13	9
EAN_8	10
PDF_417	11
RSS_14	12
RSS_EXPANDED	13
UPC_A	14
UPC_E	15
UPC_EAN_EXTENSION	16
CapacitorBarcodeScannerTypeHintALLOption
Members	Value
ALL	17
CapacitorBarcodeScannerCameraDirection
Members	Value
BACK	1
FRONT	2
CapacitorBarcodeScannerScanOrientation
Members	Value
PORTRAIT	1
LANDSCAPE	2
ADAPTIVE	3
CapacitorBarcodeScannerAndroidScanningLibrary
Members	Value
ZXING	'zxing'
MLKIT	'mlkit'

@capacitor/browser

The Browser API provides the ability to open an in-app browser and subscribe to browser events.

On iOS, this uses SFSafariViewController and is compliant with leading OAuth service in-app-browser requirements.
Install

npm install @capacitor/browser
npx cap sync

Android
Variables

This plugin will use the following project variables (defined in your app's variables.gradle file):

    androidxBrowserVersion: version of androidx.browser:browser (default: 1.8.0)

Example

import { Browser } from '@capacitor/browser';

const openCapacitorSite = async () => {
  await Browser.open({ url: 'http://capacitorjs.com/' });
};

API

    open(...)
    close()
    addListener('browserFinished', ...)
    addListener('browserPageLoaded', ...)
    removeAllListeners()
    Interfaces

open(...)

open(options: OpenOptions) => Promise<void>

Open a page with the specified options.
Param	Type
options	

OpenOptions

Since: 1.0.0
close()

close() => Promise<void>

Web & iOS only: Close an open browser window.

No-op on other platforms.

Since: 1.0.0
addListener('browserFinished', ...)

addListener(eventName: 'browserFinished', listenerFunc: () => void) => Promise<PluginListenerHandle>

Android & iOS only: Listen for the browser finished event. It fires when the Browser is closed by the user.
Param	Type
eventName	'browserFinished'
listenerFunc	() => void

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
addListener('browserPageLoaded', ...)

addListener(eventName: 'browserPageLoaded', listenerFunc: () => void) => Promise<PluginListenerHandle>

Android & iOS only: Listen for the page loaded event. It's only fired when the URL passed to open method finish loading. It is not invoked for any subsequent page loads.
Param	Type
eventName	'browserPageLoaded'
listenerFunc	() => void

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
removeAllListeners()

removeAllListeners() => Promise<void>

Remove all native listeners for this plugin.

Since: 1.0.0
Interfaces
OpenOptions

Represents the options passed to open.
Prop	Type	Description	Since
url	string	The URL to which the browser is opened.	1.0.0
windowName	string	Web only: Optional target for browser open. Follows the target property for window.open. Defaults to _blank. Ignored on other platforms.	1.0.0
toolbarColor	string	A hex color to which the toolbar color is set.	1.0.0
presentationStyle	'fullscreen' | 'popover'	iOS only: The presentation style of the browser. Defaults to fullscreen. Ignored on other platforms.	1.0.0
width	number	iOS only: The width the browser when using presentationStyle 'popover' on iPads. Ignored on other platforms.	4.0.0
height	number	iOS only: The height the browser when using presentationStyle 'popover' on iPads. Ignored on other platforms.	4.0.0
PluginListenerHandle
Prop	Type
remove	() => Promise<void>


@capacitor/camera

The Camera API provides the ability to take a photo with the camera or choose an existing one from the photo album.
Install

npm install @capacitor/camera
npx cap sync

iOS

iOS requires the following usage description be added and filled out for your app in Info.plist:

    NSCameraUsageDescription (Privacy - Camera Usage Description)
    NSPhotoLibraryAddUsageDescription (Privacy - Photo Library Additions Usage Description)
    NSPhotoLibraryUsageDescription (Privacy - Photo Library Usage Description)

Read about Configuring Info.plist in the iOS Guide for more information on setting iOS permissions in Xcode
Android

When picking existing images from the device gallery, the Android Photo Picker component is now used. The Photo Picker is available on devices that meet the following criteria:

    Run Android 11 (API level 30) or higher
    Receive changes to Modular System Components through Google System Updates

Older devices and Android Go devices running Android 11 or 12 that support Google Play services can install a backported version of the photo picker. To enable the automatic installation of the backported photo picker module through Google Play services, add the following entry to the <application> tag in your AndroidManifest.xml file:

<!-- Trigger Google Play services to install the backported photo picker module. -->
<!--suppress AndroidDomInspection -->
<service android:name="com.google.android.gms.metadata.ModuleDependencies"
    android:enabled="false"
    android:exported="false"
    tools:ignore="MissingClass">
    <intent-filter>
        <action android:name="com.google.android.gms.metadata.MODULE_DEPENDENCIES" />
    </intent-filter>
    <meta-data android:name="photopicker_activity:0:required" android:value="" />
</service>

If that entry is not added, the devices that don't support the Photo Picker, the Photo Picker component fallbacks to Intent.ACTION_OPEN_DOCUMENT.

The Camera plugin requires no permissions, unless using saveToGallery: true, in that case the following permissions should be added to your AndroidManifest.xml:

<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />

You can also specify those permissions only for the Android versions where they will be requested:

<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" android:maxSdkVersion="32"/>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" android:maxSdkVersion="29"/>

The storage permissions are for reading/saving photo files.

Read about Setting Permissions in the Android Guide for more information on setting Android permissions.

Additionally, because the Camera API launches a separate Activity to handle taking the photo, you should listen for appRestoredResult in the App plugin to handle any camera data that was sent in the case your app was terminated by the operating system while the Activity was running.
Variables

This plugin will use the following project variables (defined in your app's variables.gradle file):

    androidxExifInterfaceVersion: version of androidx.exifinterface:exifinterface (default: 1.3.7)
    androidxMaterialVersion: version of com.google.android.material:material (default: 1.12.0)

PWA Notes

PWA Elements are required for Camera plugin to work.
Example

import { Camera, CameraResultType } from '@capacitor/camera';

const takePicture = async () => {
  const image = await Camera.getPhoto({
    quality: 90,
    allowEditing: true,
    resultType: CameraResultType.Uri
  });

  // image.webPath will contain a path that can be set as an image src.
  // You can access the original file using image.path, which can be
  // passed to the Filesystem API to read the raw data of the image,
  // if desired (or pass resultType: CameraResultType.Base64 to getPhoto)
  var imageUrl = image.webPath;

  // Can be set to the src of an image now
  imageElement.src = imageUrl;
};

API

    getPhoto(...)
    pickImages(...)
    pickLimitedLibraryPhotos()
    getLimitedLibraryPhotos()
    checkPermissions()
    requestPermissions(...)
    Interfaces
    Type Aliases
    Enums

getPhoto(...)

getPhoto(options: ImageOptions) => Promise<Photo>

Prompt the user to pick a photo from an album, or take a new photo with the camera.
Param	Type
options	

ImageOptions

Returns:

Promise<Photo>

Since: 1.0.0
pickImages(...)

pickImages(options: GalleryImageOptions) => Promise<GalleryPhotos>

Allows the user to pick multiple pictures from the photo gallery. On iOS 13 and older it only allows to pick one picture.
Param	Type
options	

GalleryImageOptions

Returns:

Promise<GalleryPhotos>

Since: 1.2.0
pickLimitedLibraryPhotos()

pickLimitedLibraryPhotos() => Promise<GalleryPhotos>

iOS 14+ Only: Allows the user to update their limited photo library selection. On iOS 15+ returns all the limited photos after the picker dismissal. On iOS 14 or if the user gave full access to the photos it returns an empty array.

Returns:

Promise<GalleryPhotos>

Since: 4.1.0
getLimitedLibraryPhotos()

getLimitedLibraryPhotos() => Promise<GalleryPhotos>

iOS 14+ Only: Return an array of photos selected from the limited photo library.

Returns:

Promise<GalleryPhotos>

Since: 4.1.0
checkPermissions()

checkPermissions() => Promise<PermissionStatus>

Check camera and photo album permissions

Returns:

Promise<PermissionStatus>

Since: 1.0.0
requestPermissions(...)

requestPermissions(permissions?: CameraPluginPermissions | undefined) => Promise<PermissionStatus>

Request camera and photo album permissions
Param	Type
permissions	

CameraPluginPermissions

Returns:

Promise<PermissionStatus>

Since: 1.0.0
Interfaces
Photo
Prop	Type	Description	Since
base64String	string	The base64 encoded string representation of the image, if using CameraResultType.Base64.	1.0.0
dataUrl	string	The url starting with 'data:image/jpeg;base64,' and the base64 encoded string representation of the image, if using CameraResultType.DataUrl. Note: On web, the file format could change depending on the browser.	1.0.0
path	string	If using CameraResultType.Uri, the path will contain a full, platform-specific file URL that can be read later using the Filesystem API.	1.0.0
webPath	string	webPath returns a path that can be used to set the src attribute of an image for efficient loading and rendering.	1.0.0
exif	any	Exif data, if any, retrieved from the image	1.0.0
format	string	The format of the image, ex: jpeg, png, gif. iOS and Android only support jpeg. Web supports jpeg, png and gif, but the exact availability may vary depending on the browser. gif is only supported if webUseInput is set to true or if source is set to Photos.	1.0.0
saved	boolean	Whether if the image was saved to the gallery or not. On Android and iOS, saving to the gallery can fail if the user didn't grant the required permissions. On Web there is no gallery, so always returns false.	1.1.0
ImageOptions
Prop	Type	Description	Default	Since
quality	number	The quality of image to return as JPEG, from 0-100 Note: This option is only supported on Android and iOS		1.0.0
allowEditing	boolean	Whether to allow the user to crop or make small edits (platform specific). On iOS 14+ it's only supported for CameraSource.Camera, but not for CameraSource.Photos.		1.0.0
resultType	

CameraResultType

	How the data should be returned. Currently, only 'Base64', 'DataUrl' or 'Uri' is supported		1.0.0
saveToGallery	boolean	Whether to save the photo to the gallery. If the photo was picked from the gallery, it will only be saved if edited.	: false	1.0.0
width	number	The desired maximum width of the saved image. The aspect ratio is respected.		1.0.0
height	number	The desired maximum height of the saved image. The aspect ratio is respected.		1.0.0
correctOrientation	boolean	Whether to automatically rotate the image "up" to correct for orientation in portrait mode	: true	1.0.0
source	

CameraSource

	The source to get the photo from. By default this prompts the user to select either the photo album or take a photo.	: CameraSource.Prompt	1.0.0
direction	

CameraDirection

	iOS and Web only: The camera direction.	: CameraDirection.Rear	1.0.0
presentationStyle	'fullscreen' | 'popover'	iOS only: The presentation style of the Camera.	: 'fullscreen'	1.0.0
webUseInput	boolean	Web only: Whether to use the PWA Element experience or file input. The default is to use PWA Elements if installed and fall back to file input. To always use file input, set this to true. Learn more about PWA Elements: https://capacitorjs.com/docs/web/pwa-elements		1.0.0
promptLabelHeader	string	Text value to use when displaying the prompt.	: 'Photo'	1.0.0
promptLabelCancel	string	Text value to use when displaying the prompt. iOS only: The label of the 'cancel' button.	: 'Cancel'	1.0.0
promptLabelPhoto	string	Text value to use when displaying the prompt. The label of the button to select a saved image.	: 'From Photos'	1.0.0
promptLabelPicture	string	Text value to use when displaying the prompt. The label of the button to open the camera.	: 'Take Picture'	1.0.0
GalleryPhotos
Prop	Type	Description	Since
photos	GalleryPhoto[]	Array of all the picked photos.	1.2.0
GalleryPhoto
Prop	Type	Description	Since
path	string	Full, platform-specific file URL that can be read later using the Filesystem API.	1.2.0
webPath	string	webPath returns a path that can be used to set the src attribute of an image for efficient loading and rendering.	1.2.0
exif	any	Exif data, if any, retrieved from the image	1.2.0
format	string	The format of the image, ex: jpeg, png, gif. iOS and Android only support jpeg. Web supports jpeg, png and gif.	1.2.0
GalleryImageOptions
Prop	Type	Description	Default	Since
quality	number	The quality of image to return as JPEG, from 0-100 Note: This option is only supported on Android and iOS.		1.2.0
width	number	The desired maximum width of the saved image. The aspect ratio is respected.		1.2.0
height	number	The desired maximum height of the saved image. The aspect ratio is respected.		1.2.0
correctOrientation	boolean	Whether to automatically rotate the image "up" to correct for orientation in portrait mode	: true	1.2.0
presentationStyle	'fullscreen' | 'popover'	iOS only: The presentation style of the Camera.	: 'fullscreen'	1.2.0
limit	number	Maximum number of pictures the user will be able to choose. Note: This option is only supported on Android 13+ and iOS.	0 (unlimited)	1.2.0
PermissionStatus
Prop	Type
camera	

CameraPermissionState

photos	

CameraPermissionState

CameraPluginPermissions
Prop	Type
permissions	CameraPermissionType[]
Type Aliases
CameraPermissionState

PermissionState | 'limited'

PermissionState

'prompt' | 'prompt-with-rationale' | 'granted' | 'denied'
CameraPermissionType

'camera' | 'photos'
Enums
CameraResultType
Members	Value
Uri	'uri'
Base64	'base64'
DataUrl	'dataUrl'
CameraSource
Members	Value	Description
Prompt	'PROMPT'	Prompts the user to select either the photo album or take a photo.
Camera	'CAMERA'	Take a new photo using the camera.
Photos	'PHOTOS'	Pick an existing photo from the gallery or photo album.
CameraDirection
Members	Value
Rear	'REAR'
Front	'FRONT'

@capacitor/clipboard

The Clipboard API enables copy and pasting to/from the system clipboard.
Install

npm install @capacitor/clipboard
npx cap sync

Example

import { Clipboard } from '@capacitor/clipboard';

const writeToClipboard = async () => {
  await Clipboard.write({
    string: "Hello World!"
  });
};

const checkClipboard = async () => {
  const { type, value } = await Clipboard.read();

  console.log(`Got ${type} from clipboard: ${value}`);
};

API

    write(...)
    read()
    Interfaces

write(...)

write(options: WriteOptions) => Promise<void>

Write a value to the clipboard (the "copy" action)
Param	Type
options	

WriteOptions

Since: 1.0.0
read()

read() => Promise<ReadResult>

Read a value from the clipboard (the "paste" action)

Returns:

Promise<ReadResult>

Since: 1.0.0
Interfaces
WriteOptions

Represents the data to be written to the clipboard.
Prop	Type	Description	Since
string	string	Text value to copy.	1.0.0
image	string	Image in Data URL format to copy.	1.0.0
url	string	URL string to copy.	1.0.0
label	string	User visible label to accompany the copied data (Android Only).	1.0.0
ReadResult

Represents the data read from the clipboard.
Prop	Type	Description	Since
value	string	Data read from the clipboard.	1.0.0
type	string	Type of data in the clipboard.	1.0.0


CapacitorCookies

The Capacitor Cookies API provides native cookie support via patching document.cookie to use native libraries. It also provides methods for modifying cookies at a specific url. This plugin is bundled with @capacitor/core.
Configuration

By default, the patching of document.cookie to use native libraries is disabled. If you would like to enable this feature, modify the configuration below in the capacitor.config file.
Prop	Type	Description	Default
enabled	boolean	Enable the patching of document.cookie to use native libraries instead.	false
Example Configuration

In capacitor.config.json:

{
  "plugins": {
    "CapacitorCookies": {
      "enabled": true
    }
  }
}

In capacitor.config.ts:

import { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  plugins: {
    CapacitorCookies: {
      enabled: true,
    },
  },
};

export default config;

Example

import { CapacitorCookies } from '@capacitor/core';

const getCookies = () => {
  return document.cookie;
};

const setCookie = () => {
  document.cookie = key + '=' + value;
};

const setCapacitorCookie = async () => {
  await CapacitorCookies.setCookie({
    url: 'http://example.com',
    key: 'language',
    value: 'en',
  });
};

const deleteCookie = async () => {
  await CapacitorCookies.deleteCookie({
    url: 'https://example.com',
    key: 'language',
  });
};

const clearCookiesOnUrl = async () => {
  await CapacitorCookies.clearCookies({
    url: 'https://example.com',
  });
};

const clearAllCookies = async () => {
  await CapacitorCookies.clearAllCookies();
};

Third Party Cookies on iOS

As of iOS 14, you cannot use 3rd party cookies by default. Add the following lines to your Info.plist file to get better support for cookies on iOS. You can add up to 10 domains.

<key>WKAppBoundDomains</key>
<array>
  <string>www.mydomain.com</string>
  <string>api.mydomain.com</string>
  <string>www.myothercooldomain.com</string>
</array>

API

    getCookies(...)
    setCookie(...)
    deleteCookie(...)
    clearCookies(...)
    clearAllCookies()
    Interfaces
    Type Aliases

getCookies(...)

getCookies(options?: GetCookieOptions) => Promise<HttpCookieMap>

Param	Type
options	

GetCookieOptions

Returns:

Promise<HttpCookieMap>

setCookie(...)

setCookie(options: SetCookieOptions) => Promise<void>

Write a cookie to the device.
Param	Type
options	

SetCookieOptions

deleteCookie(...)

deleteCookie(options: DeleteCookieOptions) => Promise<void>

Delete a cookie from the device.
Param	Type
options	

DeleteCookieOptions

clearCookies(...)

clearCookies(options: ClearCookieOptions) => Promise<void>

Clear cookies from the device at a given URL.
Param	Type
options	

ClearCookieOptions

clearAllCookies()

clearAllCookies() => Promise<void>

Clear all cookies on the device.
Interfaces
HttpCookieMap
HttpCookie
Prop	Type	Description
url	string	The URL of the cookie.
key	string	The key of the cookie.
value	string	The value of the cookie.
HttpCookieExtras
Prop	Type	Description
path	string	The path to write the cookie to.
expires	string	The date to expire the cookie.
Type Aliases
GetCookieOptions

Omit<HttpCookie, 'key' | 'value'>

Omit

Construct a type with the properties of T except for those in type K.

Pick<T, Exclude<keyof T, K>>

Pick

From T, pick a set of properties whose keys are in the union K

{ [P in K]: T[P]; }
Exclude

Exclude from T those types that are assignable to U

T extends U ? never : T
SetCookieOptions

HttpCookie & HttpCookieExtras

DeleteCookieOptions

Omit<HttpCookie, 'value'>

ClearCookieOptions

Omit<HttpCookie, 'key' | 'value'>

@capacitor/device

The Device API exposes internal information about the device, such as the model and operating system version, along with user information such as unique ids.
Install

npm install @capacitor/device
npx cap sync

Example Plugin Usage

import { Device } from '@capacitor/device';

const logDeviceInfo = async () => {
  const info = await Device.getInfo();

  console.log(info);
};

const logBatteryInfo = async () => {
  const info = await Device.getBatteryInfo();

  console.log(info);
};

API

    getId()
    getInfo()
    getBatteryInfo()
    getLanguageCode()
    getLanguageTag()
    Interfaces
    Type Aliases

getId()

getId() => Promise<DeviceId>

Return an unique identifier for the device.

Returns:

Promise<DeviceId>

Since: 1.0.0
getInfo()

getInfo() => Promise<DeviceInfo>

Return information about the underlying device/os/platform.

Returns:

Promise<DeviceInfo>

Since: 1.0.0
getBatteryInfo()

getBatteryInfo() => Promise<BatteryInfo>

Return information about the battery.

Returns:

Promise<BatteryInfo>

Since: 1.0.0
getLanguageCode()

getLanguageCode() => Promise<GetLanguageCodeResult>

Get the device's current language locale code.

Returns:

Promise<GetLanguageCodeResult>

Since: 1.0.0
getLanguageTag()

getLanguageTag() => Promise<LanguageTag>

Get the device's current language locale tag.

Returns:

Promise<LanguageTag>

Since: 4.0.0
Interfaces
DeviceId
Prop	Type	Description	Since
identifier	string	The identifier of the device as available to the app. This identifier may change on modern mobile platforms that only allow per-app install ids. On iOS, the identifier is a UUID that uniquely identifies a device to the apps vendor (read more). on Android 8+, the identifier is a 64-bit number (expressed as a hexadecimal string), unique to each combination of app-signing key, user, and device (read more). On web, a random identifier is generated and stored on localStorage for subsequent calls. If localStorage is not available a new random identifier will be generated on every call.	1.0.0
DeviceInfo
Prop	Type	Description	Since
name	string	The name of the device. For example, "John's iPhone". This is only supported on iOS and Android 7.1 or above. On iOS 16+ this will return a generic device name without the appropriate entitlements.	1.0.0
model	string	The device model. For example, "iPhone13,4".	1.0.0
platform	'ios' | 'android' | 'web'	The device platform (lowercase).	1.0.0
operatingSystem	

OperatingSystem

	The operating system of the device.	1.0.0
osVersion	string	The version of the device OS.	1.0.0
iOSVersion	number	The iOS version number. Only available on iOS. Multi-part version numbers are crushed down into an integer padded to two-digits, ex: "16.3.1" -> 160301	5.0.0
androidSDKVersion	number	The Android SDK version number. Only available on Android.	5.0.0
manufacturer	string	The manufacturer of the device.	1.0.0
isVirtual	boolean	Whether the app is running in a simulator/emulator.	1.0.0
memUsed	number	Approximate memory used by the current app, in bytes. Divide by 1048576 to get the number of MBs used.	1.0.0
webViewVersion	string	The web view browser version	1.0.0
BatteryInfo
Prop	Type	Description	Since
batteryLevel	number	A percentage (0 to 1) indicating how much the battery is charged.	1.0.0
isCharging	boolean	Whether the device is charging.	1.0.0
GetLanguageCodeResult
Prop	Type	Description	Since
value	string	Two character language code.	1.0.0
LanguageTag
Prop	Type	Description	Since
value	string	Returns a well-formed IETF BCP 47 language tag.	4.0.0
Type Aliases
OperatingSystem

'ios' | 'android' | 'windows' | 'mac' | 'unknown'


@capacitor/dialog

The Dialog API provides methods for triggering native dialog windows for alerts, confirmations, and input prompts
Install

npm install @capacitor/dialog
npx cap sync

Example

import { Dialog } from '@capacitor/dialog';

const showAlert = async () => {
  await Dialog.alert({
    title: 'Stop',
    message: 'this is an error',
  });
};

const showConfirm = async () => {
  const { value } = await Dialog.confirm({
    title: 'Confirm',
    message: `Are you sure you'd like to press the red button?`,
  });

  console.log('Confirmed:', value);
};

const showPrompt = async () => {
  const { value, cancelled } = await Dialog.prompt({
    title: 'Hello',
    message: `What's your name?`,
  });

  console.log('Name:', value);
  console.log('Cancelled:', cancelled);
};

API

    alert(...)
    prompt(...)
    confirm(...)
    Interfaces

alert(...)

alert(options: AlertOptions) => Promise<void>

Show an alert dialog
Param	Type
options	

AlertOptions

Since: 1.0.0
prompt(...)

prompt(options: PromptOptions) => Promise<PromptResult>

Show a prompt dialog
Param	Type
options	

PromptOptions

Returns:

Promise<PromptResult>

Since: 1.0.0
confirm(...)

confirm(options: ConfirmOptions) => Promise<ConfirmResult>

Show a confirmation dialog
Param	Type
options	

ConfirmOptions

Returns:

Promise<ConfirmResult>

Since: 1.0.0
Interfaces
AlertOptions
Prop	Type	Description	Default	Since
title	string	Title of the dialog.		1.0.0
message	string	Message to show on the dialog.		1.0.0
buttonTitle	string	Text to use on the action button.	"OK"	1.0.0
PromptResult
Prop	Type	Description	Since
value	string	Text entered on the prompt.	1.0.0
cancelled	boolean	Whether if the prompt was canceled or accepted.	1.0.0
PromptOptions
Prop	Type	Description	Default	Since
title	string	Title of the dialog.		1.0.0
message	string	Message to show on the dialog.		1.0.0
okButtonTitle	string	Text to use on the positive action button.	"OK"	1.0.0
cancelButtonTitle	string	Text to use on the negative action button.	"Cancel"	1.0.0
inputPlaceholder	string	Placeholder text for hints.		1.0.0
inputText	string	Prepopulated text.		1.0.0
ConfirmResult
Prop	Type	Description	Since
value	boolean	true if the positive button was clicked, false otherwise.	1.0.0
ConfirmOptions
Prop	Type	Description	Default	Since
title	string	Title of the dialog.		1.0.0
message	string	Message to show on the dialog.		1.0.0
okButtonTitle	string	Text to use on the positive action button.	"OK"	1.0.0
cancelButtonTitle	string	Text to use on the negative action button.	"Cancel"	1.0.0

@capacitor/filesystem

The Filesystem API provides a NodeJS-like API for working with files on the device.
Install

npm install @capacitor/filesystem
npx cap sync

Apple Privacy Manifest Requirements

Apple mandates that app developers now specify approved reasons for API usage to enhance user privacy. By May 1st, 2024, it's required to include these reasons when submitting apps to the App Store Connect.

When using this specific plugin in your app, you must create a PrivacyInfo.xcprivacy file in /ios/App or use the VS Code Extension to generate it, specifying the usage reasons.

For detailed steps on how to do this, please see the Capacitor Docs.

For this plugin, the required dictionary key is NSPrivacyAccessedAPICategoryFileTimestamp and the recommended reason is C617.1.
Example PrivacyInfo.xcprivacy

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>NSPrivacyAccessedAPITypes</key>
    <array>
      <!-- Add this dict entry to the array if the PrivacyInfo file already exists -->
      <dict>
        <key>NSPrivacyAccessedAPIType</key>
        <string>NSPrivacyAccessedAPICategoryFileTimestamp</string>
        <key>NSPrivacyAccessedAPITypeReasons</key>
        <array>
          <string>C617.1</string>
        </array>
      </dict>
    </array>
  </dict>
</plist>

Migrating from downloadFile to File Transfer plugin

As of version 7.1.0, the downloadFile functionality in the Filesystem plugin has been deprecated in favor of the new @capacitor/file-transfer plugin.
Installing the File Transfer plugin

npm install @capacitor/file-transfer
npx cap sync

Migration example

Before (using Filesystem plugin):

import { Filesystem, Directory } from '@capacitor/filesystem';

await Filesystem.downloadFile({
  url: 'https://example.com/file.pdf',
  path: 'downloaded-file.pdf',
  directory: Directory.Documents,
  progress: true
});

// Progress events
Filesystem.addListener('progress', (progress) => {
  console.log(`Downloaded ${progress.bytes} of ${progress.contentLength}`);
});

After (using File Transfer plugin):

import { FileTransfer } from '@capacitor/file-transfer';
import { Filesystem, Directory } from '@capacitor/filesystem';

// First get the full file path using Filesystem
const fileInfo = await Filesystem.getUri({
  directory: Directory.Documents,
  path: 'downloaded-file.pdf'
});

// Then use the FileTransfer plugin to download
await FileTransfer.downloadFile({
  url: 'https://example.com/file.pdf',
  path: fileInfo.uri,
  progress: true
});

// Progress events
FileTransfer.addListener('progress', (progress) => {
  console.log(`Downloaded ${progress.bytes} of ${progress.contentLength}`);
});

The File Transfer plugin offers improved reliability, better error handling with specific error codes, and also adds upload functionality.
iOS

To have files appear in the Files app, you must also set the following keys to YES in Info.plist:

    UIFileSharingEnabled (Application supports iTunes file sharing)
    LSSupportsOpeningDocumentsInPlace (Supports opening documents in place)

Read about Configuring iOS for help.
Android

If using Directory.Documents or Directory.ExternalStorage, in Android 10 and older, this API requires the following permissions be added to your AndroidManifest.xml:

<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />

Read about Setting Permissions in the Android Guide for more information on setting Android permissions.

Note that Directory.ExternalStorage is only available on Android 9 or older and Directory.Documents only allows to access the files/folders created by your app on Android on Android 11 and newer.

Working with large files may require you to add android:largeHeap="true" to the <application> tag in AndroidManifest.xml.
Understanding Directories and Files

iOS and Android have additional layers of separation between files, such as special directories that are backed up to the Cloud, or ones for storing Documents. The Filesystem API offers a simple way to scope each operation to a specific special directory on the device.

Additionally, the Filesystem API supports using full file:// paths, or reading content:// files on Android. Simply leave out the directory param to use a full file path.
Example

import { Filesystem, Directory, Encoding } from "@capacitor/filesystem";

const writeSecretFile = async () => {
  await Filesystem.writeFile({
    path: "secrets/text.txt",
    data: "This is a test",
    directory: Directory.Documents,
    encoding: Encoding.UTF8,
  });
};

const readSecretFile = async () => {
  const contents = await Filesystem.readFile({
    path: "secrets/text.txt",
    directory: Directory.Documents,
    encoding: Encoding.UTF8,
  });

  console.log("secrets:", contents);
};

const deleteSecretFile = async () => {
  await Filesystem.deleteFile({
    path: "secrets/text.txt",
    directory: Directory.Documents,
  });
};

const readFilePath = async () => {
  // Here's an example of reading a file with a full file path. Use this to
  // read binary data (base64 encoded) from plugins that return File URIs, such as
  // the Camera.
  const contents = await Filesystem.readFile({
    path: "file:///var/mobile/Containers/Data/Application/22A433FD-D82D-4989-8BE6-9FC49DEA20BB/Documents/text.txt",
  });

  console.log("data:", contents);
};

API

    checkPermissions()
    requestPermissions()
    readFile(...)
    readFileInChunks(...)
    writeFile(...)
    appendFile(...)
    deleteFile(...)
    mkdir(...)
    rmdir(...)
    readdir(...)
    getUri(...)
    stat(...)
    rename(...)
    copy(...)
    downloadFile(...)
    addListener('progress', ...)
    removeAllListeners()
    Interfaces
    Type Aliases
    Enums

For list of existing error codes, see Errors.
checkPermissions()

checkPermissions() => Promise<PermissionStatus>

Check read/write permissions. Required on Android, only when using Directory.Documents or Directory.ExternalStorage.

Returns:

Promise<PermissionStatus>

Since: 1.0.0
requestPermissions()

requestPermissions() => Promise<PermissionStatus>

Request read/write permissions. Required on Android, only when using Directory.Documents or Directory.ExternalStorage.

Returns:

Promise<PermissionStatus>

Since: 1.0.0
readFile(...)

readFile(options: ReadFileOptions) => Promise<ReadFileResult>

Read a file from disk
Param	Type
options	

ReadFileOptions

Returns:

Promise<ReadFileResult>

Since: 1.0.0
readFileInChunks(...)

readFileInChunks(options: ReadFileInChunksOptions, callback: ReadFileInChunksCallback) => Promise<CallbackID>

Read a file from disk, in chunks. Native only (not available in web). Use the callback to receive each read chunk. If empty chunk is returned, it means file has been completely read.
Param	Type
options	

ReadFileInChunksOptions

callback	

ReadFileInChunksCallback

Returns: Promise<string>

Since: 7.1.0
writeFile(...)

writeFile(options: WriteFileOptions) => Promise<WriteFileResult>

Write a file to disk in the specified location on device
Param	Type
options	

WriteFileOptions

Returns:

Promise<WriteFileResult>

Since: 1.0.0
appendFile(...)

appendFile(options: AppendFileOptions) => Promise<void>

Append to a file on disk in the specified location on device
Param	Type
options	

AppendFileOptions

Since: 1.0.0
deleteFile(...)

deleteFile(options: DeleteFileOptions) => Promise<void>

Delete a file from disk
Param	Type
options	

DeleteFileOptions

Since: 1.0.0
mkdir(...)

mkdir(options: MkdirOptions) => Promise<void>

Create a directory.
Param	Type
options	

MkdirOptions

Since: 1.0.0
rmdir(...)

rmdir(options: RmdirOptions) => Promise<void>

Remove a directory
Param	Type
options	

RmdirOptions

Since: 1.0.0
readdir(...)

readdir(options: ReaddirOptions) => Promise<ReaddirResult>

Return a list of files from the directory (not recursive)
Param	Type
options	

ReaddirOptions

Returns:

Promise<ReaddirResult>

Since: 1.0.0
getUri(...)

getUri(options: GetUriOptions) => Promise<GetUriResult>

Return full File URI for a path and directory
Param	Type
options	

GetUriOptions

Returns:

Promise<GetUriResult>

Since: 1.0.0
stat(...)

stat(options: StatOptions) => Promise<StatResult>

Return data about a file
Param	Type
options	

StatOptions

Returns:

Promise<FileInfo>

Since: 1.0.0
rename(...)

rename(options: RenameOptions) => Promise<void>

Rename a file or directory
Param	Type
options	

CopyOptions

Since: 1.0.0
copy(...)

copy(options: CopyOptions) => Promise<CopyResult>

Copy a file or directory
Param	Type
options	

CopyOptions

Returns:

Promise<CopyResult>

Since: 1.0.0
downloadFile(...)

downloadFile(options: DownloadFileOptions) => Promise<DownloadFileResult>

Perform a http request to a server and download the file to the specified destination.

This method has been deprecated since version 7.1.0. We recommend using the @capacitor/file-transfer plugin instead, in conjunction with this plugin.
Param	Type
options	

DownloadFileOptions

Returns:

Promise<DownloadFileResult>

Since: 5.1.0
addListener('progress', ...)

addListener(eventName: 'progress', listenerFunc: ProgressListener) => Promise<PluginListenerHandle>

Add a listener to file download progress events.

This method has been deprecated since version 7.1.0. We recommend using the @capacitor/file-transfer plugin instead, in conjunction with this plugin.
Param	Type
eventName	'progress'
listenerFunc	

ProgressListener

Returns:

Promise<PluginListenerHandle>

Since: 5.1.0
removeAllListeners()

removeAllListeners() => Promise<void>

Remove all listeners for this plugin.

This method has been deprecated since version 7.1.0. We recommend using the @capacitor/file-transfer plugin instead, in conjunction with this plugin.

Since: 5.2.0
Interfaces
PermissionStatus
Prop	Type
publicStorage	

PermissionState

ReadFileResult
Prop	Type	Description	Since
data	string | Blob	The representation of the data contained in the file Note: Blob is only available on Web. On native, the data is returned as a string.	1.0.0
ReadFileOptions
Prop	Type	Description	Since
path	string	The path of the file to read	1.0.0
directory	

Directory

	The Directory to read the file from	1.0.0
encoding	

Encoding

	The encoding to read the file in, if not provided, data is read as binary and returned as base64 encoded. Pass Encoding.UTF8 to read data as string	1.0.0
ReadFileInChunksOptions
Prop	Type	Description	Since
chunkSize	number	Size of the chunks in bytes.	7.1.0
WriteFileResult
Prop	Type	Description	Since
uri	string	The uri where the file was written into	1.0.0
WriteFileOptions
Prop	Type	Description	Default	Since
path	string	The path of the file to write		1.0.0
data	string | Blob	The data to write Note: Blob data is only supported on Web.		1.0.0
directory	

Directory

	The Directory to store the file in		1.0.0
encoding	

Encoding

	The encoding to write the file in. If not provided, data is written as base64 encoded. Pass Encoding.UTF8 to write data as string		1.0.0
recursive	boolean	Whether to create any missing parent directories.	false	1.0.0
AppendFileOptions
Prop	Type	Description	Since
path	string	The path of the file to append	1.0.0
data	string	The data to write	1.0.0
directory	

Directory

	The Directory to store the file in	1.0.0
encoding	

Encoding

	The encoding to write the file in. If not provided, data is written as base64 encoded. Pass Encoding.UTF8 to write data as string	1.0.0
DeleteFileOptions
Prop	Type	Description	Since
path	string	The path of the file to delete	1.0.0
directory	

Directory

	The Directory to delete the file from	1.0.0
MkdirOptions
Prop	Type	Description	Default	Since
path	string	The path of the new directory		1.0.0
directory	

Directory

	The Directory to make the new directory in		1.0.0
recursive	boolean	Whether to create any missing parent directories as well.	false	1.0.0
RmdirOptions
Prop	Type	Description	Default	Since
path	string	The path of the directory to remove		1.0.0
directory	

Directory

	The Directory to remove the directory from		1.0.0
recursive	boolean	Whether to recursively remove the contents of the directory	false	1.0.0
ReaddirResult
Prop	Type	Description	Since
files	FileInfo[]	List of files and directories inside the directory	1.0.0
FileInfo
Prop	Type	Description	Since
name	string	Name of the file or directory.	7.1.0
type	'file' | 'directory'	Type of the file.	4.0.0
size	number	Size of the file in bytes.	4.0.0
ctime	number	Time of creation in milliseconds. It's not available on Android 7 and older devices.	7.1.0
mtime	number	Time of last modification in milliseconds.	7.1.0
uri	string	The uri of the file.	4.0.0
ReaddirOptions
Prop	Type	Description	Since
path	string	The path of the directory to read	1.0.0
directory	

Directory

	The Directory to list files from	1.0.0
GetUriResult
Prop	Type	Description	Since
uri	string	The uri of the file	1.0.0
GetUriOptions
Prop	Type	Description	Since
path	string	The path of the file to get the URI for	1.0.0
directory	

Directory

	The Directory to get the file under	1.0.0
StatOptions
Prop	Type	Description	Since
path	string	The path of the file to get data about	1.0.0
directory	

Directory

	The Directory to get the file under	1.0.0
CopyOptions
Prop	Type	Description	Since
from	string	The existing file or directory	1.0.0
to	string	The destination file or directory	1.0.0
directory	

Directory

	The Directory containing the existing file or directory	1.0.0
toDirectory	

Directory

	The Directory containing the destination file or directory. If not supplied will use the 'directory' parameter as the destination	1.0.0
CopyResult
Prop	Type	Description	Since
uri	string	The uri where the file was copied into	4.0.0
DownloadFileResult
Prop	Type	Description	Since
path	string	The path the file was downloaded to.	5.1.0
blob	Blob	The blob data of the downloaded file. This is only available on web.	5.1.0
DownloadFileOptions
Prop	Type	Description	Default	Since
path	string	The path the downloaded file should be moved to.		5.1.0
directory	

Directory

	The directory to write the file to. If this option is used, filePath can be a relative path rather than absolute. The default is the DATA directory.		5.1.0
progress	boolean	An optional listener function to receive downloaded progress events. If this option is used, progress event should be dispatched on every chunk received. Chunks are throttled to every 100ms on Android/iOS to avoid slowdowns.		5.1.0
recursive	boolean	Whether to create any missing parent directories.	false	5.1.2
PluginListenerHandle
Prop	Type
remove	() => Promise<void>
ProgressStatus
Prop	Type	Description	Since
url	string	The url of the file being downloaded.	5.1.0
bytes	number	The number of bytes downloaded so far.	5.1.0
contentLength	number	The total number of bytes to download for this file.	5.1.0
Type Aliases
PermissionState

'prompt' | 'prompt-with-rationale' | 'granted' | 'denied'
ReadFileInChunksCallback

Callback for receiving chunks read from a file, or error if something went wrong.

(chunkRead: ReadFileResult | null, err?: any): void

CallbackID

string
StatResult

FileInfo

RenameOptions

CopyOptions

ProgressListener

A listener function that receives progress events.

(progress: ProgressStatus): void

Enums
Directory
Members	Value	Description	Since
Documents	'DOCUMENTS'	The Documents directory. On iOS it's the app's documents directory. Use this directory to store user-generated content. On Android it's the Public Documents folder, so it's accessible from other apps. It's not accessible on Android 10 unless the app enables legacy External Storage by adding android:requestLegacyExternalStorage="true" in the application tag in the AndroidManifest.xml. On Android 11 or newer the app can only access the files/folders the app created.	1.0.0
Data	'DATA'	The Data directory. On iOS it will use the Documents directory. On Android it's the directory holding application files. Files will be deleted when the application is uninstalled.	1.0.0
Library	'LIBRARY'	The Library directory. On iOS it will use the Library directory. On Android it's the directory holding application files. Files will be deleted when the application is uninstalled.	1.1.0
Cache	'CACHE'	The Cache directory. Can be deleted in cases of low memory, so use this directory to write app-specific files. that your app can re-create easily.	1.0.0
External	'EXTERNAL'	The external directory. On iOS it will use the Documents directory. On Android it's the directory on the primary shared/external storage device where the application can place persistent files it owns. These files are internal to the applications, and not typically visible to the user as media. Files will be deleted when the application is uninstalled.	1.0.0
ExternalStorage	'EXTERNAL_STORAGE'	The external storage directory. On iOS it will use the Documents directory. On Android it's the primary shared/external storage directory. It's not accessible on Android 10 unless the app enables legacy External Storage by adding android:requestLegacyExternalStorage="true" in the application tag in the AndroidManifest.xml. It's not accessible on Android 11 or newer.	1.0.0
ExternalCache	'EXTERNAL_CACHE'	The external cache directory. On iOS it will use the Documents directory. On Android it's the primary shared/external cache.	7.1.0
LibraryNoCloud	'LIBRARY_NO_CLOUD'	The Library directory without cloud backup. Used in iOS. On Android it's the directory holding application files.	7.1.0
Temporary	'TEMPORARY'	A temporary directory for iOS. On Android it's the directory holding the application cache.	7.1.0
Encoding
Members	Value	Description	Since
UTF8	'utf8'	Eight-bit UCS Transformation Format	1.0.0
ASCII	'ascii'	Seven-bit ASCII, a.k.a. ISO646-US, a.k.a. the Basic Latin block of the Unicode character set This encoding is only supported on Android.	1.0.0
UTF16	'utf16'	Sixteen-bit UCS Transformation Format, byte order identified by an optional byte-order mark This encoding is only supported on Android.	1.0.0
Errors

Since version 7.1.0, the plugin returns specific errors with specific codes on native Android and iOS. Web does not follow this standard for errors.

The following table list all the plugin errors:
Error code	Platform(s)	Message
OS-PLUG-FILE-0004	iOS	Cordova / Capacitor bridge isnt initialized.
OS-PLUG-FILE-0005	Android, iOS	The method input parameters arent valid.
OS-PLUG-FILE-0006	Android, iOS	Invalid path was provided.
OS-PLUG-FILE-0007	Android	Unable to perform file operation, user denied permission request.
OS-PLUG-FILE-0008	Android, iOS	Operation failed because file does not exist.
OS-PLUG-FILE-0009	Android	Operation not supported for provided input.
OS-PLUG-FILE-0010	Android, iOS	Directory already exists, cannot be overwritten.
OS-PLUG-FILE-0011	Android, iOS	Missing parent directory  possibly recursive=false was passed or parent directory creation failed.
OS-PLUG-FILE-0012	Android, iOS	Cannot delete directory with children; received recursive=false but directory has contents.
OS-PLUG-FILE-0013	Android, iOS	The operation failed with an error.

@capacitor/file-transfer

The FileTransfer API provides mechanisms for downloading and uploading files.
Install

npm install @capacitor/file-transfer
npx cap sync

Example
Download

import { FileTransfer } from '@capacitor/file-transfer';
import { Filesystem, Directory } from '@capacitor/filesystem';

// First get the full file path using Filesystem
const fileInfo = await Filesystem.getUri({
  directory: Directory.Data,
  path: 'downloaded-file.pdf'
});

try {
    // Then use the FileTransfer plugin to download
    await FileTransfer.downloadFile({
        url: 'https://example.com/file.pdf',
        path: fileInfo.uri,
        progress: true
    });
} catch(error) {
    // handle error - see `FileTransferError` interface for what error information is returned
}

// Progress events
FileTransfer.addListener('progress', (progress) => {
  console.log(`Downloaded ${progress.bytes} of ${progress.contentLength}`);
});

Upload

import { FileTransfer } from '@capacitor/file-transfer';
import { Filesystem, Directory } from '@capacitor/filesystem';

// First get the full file path using Filesystem
const fileInfo = await Filesystem.getUri({
  directory: Directory.Cache,
  path: 'image_upload.png'
});

try {
    // Then use the FileTransfer plugin to upload
    const result = await FileTransfer.downloadFile({
        url: 'https://example.com/upload_api',
        path: fileInfo.uri,
        chunkedMode: true,
        headers: {
            // Upload uses `multipart/form-data` by default.
            // If you want to avoid that, you can set the 'Content-Type' header explicitly.
            'Content-Type': 'application/octet-stream',
        },
        progress: false
    });
    // get server response and other info from result - see `UploadFileResult` interface
} catch(error) {
    // handle error - see `FileTransferError` interface for what error information is returned
}

API

    downloadFile(...)
    uploadFile(...)
    addListener('progress', ...)
    removeAllListeners()
    Interfaces

Note: Some of the input options come from HttpOptions in @capacitor/core, but the plugin does not use all parameters from HttpOptions. The ones that are used are documented below.

For list of existing error codes, see Errors.
downloadFile(...)

downloadFile(options: DownloadFileOptions) => Promise<DownloadFileResult>

Perform an HTTP request to a server and download the file to the specified destination.
Param	Type
options	

DownloadFileOptions

Returns:

Promise<DownloadFileResult>

Since: 1.0.0
uploadFile(...)

uploadFile(options: UploadFileOptions) => Promise<UploadFileResult>

Perform an HTTP request to upload a file to a server
Param	Type
options	

UploadFileOptions

Returns:

Promise<UploadFileResult>

Since: 1.0.0
addListener('progress', ...)

addListener(eventName: "progress", listenerFunc: (progress: ProgressStatus) => void) => Promise<PluginListenerHandle>

Add a listener to file transfer (download or upload) progress events.
Param	Type
eventName	'progress'
listenerFunc	

(progress: ProgressStatus) => void

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
removeAllListeners()

removeAllListeners() => Promise<void>

Remove all listeners for this plugin.

Since: 1.0.0
Interfaces
DownloadFileResult
Prop	Type	Description	Since
path	string	The path the file was downloaded to.	1.0.0
blob	Blob	The blob data of the downloaded file. This is only available on web.	1.0.0
DownloadFileOptions
Prop	Type	Description	Since
url	string	The URL to download the file from.	1.0.0
path	string	The full file path the downloaded file should be moved to. You may use a plugin like @capacitor/filesystem to get a complete file path.	1.0.0
progress	boolean	If true, progress event will be dispatched on every chunk received. See addListener() for more information. Chunks are throttled to every 100ms on Android/iOS to avoid slowdowns. Default is false.	1.0.0
method	string	The Http Request method to run. (Default is GET)	1.0.0
params	

HttpParams

	URL parameters to append to the request. This HttpParams interface comes from @capacitor/core.	1.0.0
headers	

HttpHeaders

	Http Request headers to send with the request. This HttpHeaders interface comes from @capacitor/core.	1.0.0
readTimeout	number	How long to wait to read additional data in milliseconds. Resets each time new data is received. Default is 60,000 milliseconds (1 minute). Not supported on web.	1.0.0
connectTimeout	number	How long to wait for the initial connection in milliseconds. Default is 60,000 milliseconds (1 minute). In iOS, there's no real distinction between connectTimeoutand readTimeout. Plugin tries to use connectTimeout, if not uses readTimeout, if not uses default	1.0.0
disableRedirects	boolean	Sets whether automatic HTTP redirects should be disabled	1.0.0
shouldEncodeUrlParams	boolean	Use this option if you need to keep the URL unencoded in certain cases (already encoded, azure/firebase testing, etc.). The default is true. Not supported on web.	1.0.0
HttpParams
HttpHeaders
UploadFileResult
Prop	Type	Description	Since
bytesSent	number	Total number of bytes uploaded	1.0.0
responseCode	string	HTTP response code for the upload	1.0.0
response	string	HTTP response body from the upload (when available)	1.0.0
headers	{ [key: string]: string; }	HTTP headers from the upload response (when available)	1.0.0
UploadFileOptions
Prop	Type	Description	Since
url	string	The URL to upload the file to.	1.0.0
path	string	Full file path of the file to upload. You may use a plugin like @capacitor/filesystem to get a complete file path.	1.0.0
blob	Blob	Blob data to upload. Will use this instead of path if provided. This is only available on web.	1.0.0
chunkedMode	boolean	Whether to upload data in a chunked streaming mode. Not supported on web. Note: The upload uses Content-Type: multipart/form-data, when chunkedMode is true. Depending on your backend server, this can cause the upload to fail. If your server expects a raw stream (e.g. application/octet-stream), you must explicitly set the Content-Type header in headers.	1.0.0
mimeType	string	Mime type of the data to upload. Only used if "Content-Type" header was not provided.	1.0.0
fileKey	string	Type of form element. The default is set to "file". Only used if "Content-Type" header was not provided.	1.0.0
progress	boolean	If true, progress event will be dispatched on every chunk received. See addListener() for more information. Chunks are throttled to every 100ms on Android/iOS to avoid slowdowns. Default is false.	1.0.0
method	string	The Http Request method to run. (Default is POST)	1.0.0
params	

HttpParams

	URL parameters to append to the request. This HttpParams interface comes from @capacitor/core.	1.0.0
headers	

HttpHeaders

	Http Request headers to send with the request. This HttpHeaders interface comes from @capacitor/core.	1.0.0
readTimeout	number	How long to wait to read additional data in milliseconds. Resets each time new data is received. Default is 60,000 milliseconds (1 minute). Not supported on web.	1.0.0
connectTimeout	number	How long to wait for the initial connection in milliseconds. Default is 60,000 milliseconds (1 minute). Not supported on web. In iOS, there's no real distinction between connectTimeoutand readTimeout. Plugin tries to use connectTimeout, if not uses readTimeout, if not uses default	1.0.0
disableRedirects	boolean	Sets whether automatic HTTP redirects should be disabled. Not supported on web.	1.0.0
shouldEncodeUrlParams	boolean	Use this option if you need to keep the URL unencoded in certain cases (already encoded, azure/firebase testing, etc.). The default is true. Not supported on web.	1.0.0
PluginListenerHandle
Prop	Type
remove	() => Promise<void>
ProgressStatus
Prop	Type	Description	Since
type	'download' | 'upload'	The type of transfer operation (download or upload).	1.0.0
url	string	The url of the file associated with the transfer (download or upload).	1.0.0
bytes	number	The number of bytes transferred so far.	1.0.0
contentLength	number	The total number of bytes associated with the file transfer.	1.0.0
lengthComputable	boolean	Whether or not the contentLength value is relevant. In some situations, the total number of bytes may not be possible to determine.	1.0.0
Errors

The plugin returns the following errors with specific codes on iOS, Android, and Web:
Error code	Platform(s)	Description
OS-PLUG-FLTR-0004	Android, iOS	The method's input parameters aren't valid.
OS-PLUG-FLTR-0005	Android, iOS	Invalid server URL was provided or URL is empty.
OS-PLUG-FLTR-0006	Android, iOS	Unable to perform operation, user denied permission request.
OS-PLUG-FLTR-0007	Android, iOS	Operation failed because file does not exist.
OS-PLUG-FLTR-0008	Android, iOS, Web	Failed to connect to server.
OS-PLUG-FLTR-0009	Android, iOS	The server responded with HTTP 304  Not Modified. If you want to avoid this, check your headers related to HTTP caching.
OS-PLUG-FLTR-0010	Android, iOS	The server responded with an HTTP error status code.
OS-PLUG-FLTR-0011	Android, iOS, Web	The operation failed with an error (generic error).

When handling errors in your application, you can check the error code to determine the specific issue. The error object typically contains additional information such as:

    code: The error code (as shown in the table above)
    message: A human-readable description of the error
    source: The source of the transfer (file path or URL)
    target: The target of the transfer (file path or URL)
    httpStatus: The HTTP status code (for HTTP errors)
    body: The response body (for HTTP errors)
    headers: The response headers (for HTTP errors)


@capacitor/file-viewer

The FileViewer API provides mechanisms for opening files and previewing media. Not available on web.

The media preview methods are currently only supported on iOS. It uses a built-in player.
Install

npm install @capacitor/file-viewer
npx cap sync

Example

import { FileViewer } from "@capacitor/file-viewer";

// can use a plugin like @capacitor/filesystem to get the full path to the file
const openDocument = async () => {
  await FileViewer.openDocumentFromLocalPath({
    path: "path/to/file.pdf"
  });
};

// ios-specific
const previewMedia = async () => {
  await FileViewer.previewMediaContentFromUrl({
    path: "https://url_hosting_media/file.mp4"
  });
}

API

    openDocumentFromLocalPath(...)
    openDocumentFromResources(...)
    openDocumentFromUrl(...)
    previewMediaContentFromLocalPath(...)
    previewMediaContentFromResources(...)
    previewMediaContentFromUrl(...)
    Interfaces
    Type Aliases

For list of existing error codes, see Errors.

File Viewer API

Only available in Native Android and iOS; not available for Web / PWAs.
openDocumentFromLocalPath(...)

openDocumentFromLocalPath(options: OpenFromLocalPathOptions) => Promise<void>

Open a file stored in the local file system
Param	Type
options	

OpenFromLocalPathOptions

Since: 1.0.0
openDocumentFromResources(...)

openDocumentFromResources(options: OpenFromResourcesOptions) => Promise<void>

Open an app resource file
Param	Type
options	

OpenFromResourcesOptions

Since: 1.0.0
openDocumentFromUrl(...)

openDocumentFromUrl(options: OpenFromUrlOptions) => Promise<void>

Open a file from a remote url
Param	Type
options	

OpenFromUrlOptions

Since: 1.0.0
previewMediaContentFromLocalPath(...)

previewMediaContentFromLocalPath(options: PreviewMediaFromLocalPathOptions) => Promise<void>

Preview a media file (namely, video) stored in the local file system. Only implemented in iOS. Android defaults to openDocumentFromLocalPath.
Param	Type
options	

OpenFromLocalPathOptions

Since: 1.0.0
previewMediaContentFromResources(...)

previewMediaContentFromResources(options: PreviewMediaFromResourcesOptions) => Promise<void>

Preview a media file (namely, video) from the app's resources. Only implemented in iOS. Android defaults to openDocumentFromResources.
Param	Type
options	

OpenFromResourcesOptions

Since: 1.0.0
previewMediaContentFromUrl(...)

previewMediaContentFromUrl(options: PreviewMediaFromUrlOptions) => Promise<void>

Preview a media file (namely, video) from a remote url. Only implemented in iOS. Android defaults to openDocumentFromUrl.
Param	Type
options	

OpenFromUrlOptions

Since: 1.0.0
Interfaces
OpenFromLocalPathOptions
Prop	Type	Description	Since
path	string	The full absolute path to the file to open	1.0.0
OpenFromResourcesOptions
Prop	Type	Description	Since
path	string	The relative path to the resource file to open	1.0.0
OpenFromUrlOptions
Prop	Type	Description	Since
url	string	The remote url pointing to the file to open	1.0.0
Type Aliases
PreviewMediaFromLocalPathOptions

OpenFromLocalPathOptions

PreviewMediaFromResourcesOptions

OpenFromResourcesOptions

PreviewMediaFromUrlOptions

OpenFromUrlOptions

Errors

The plugin returns the following errors with specific codes on native Android and iOS:
Error code	Platform(s)	Message
OS-PLUG-FLVW-0004	Android, iOS	The file you are trying to open does not exist.
OS-PLUG-FLVW-0005	Android, iOS	The URL you are trying to open is malformed.
OS-PLUG-FLVW-0006	Android, iOS	Path of the file to open is either null or empty.
OS-PLUG-FLVW-0007	Android, iOS	URL to open is either null or empty.
OS-PLUG-FLVW-0008	Android, iOS	Could not open the file.
OS-PLUG-FLVW-0009	Android, iOS	Invalid parameters.
OS-PLUG-FLVW-0010	Android	There is no app to open this file.
OS-PLUG-FLVW-0011	iOS	Cordova / Capacitor bridge isnt initialized.
OS-PLUG-FLVW-0012	iOS	The download failed.
OS-PLUG-FLVW-0013	iOS	The file has no extension.


@capacitor/geolocation

The Geolocation API provides simple methods for getting and tracking the current position of the device using GPS, along with altitude, heading, and speed information if available.
Install

npm install @capacitor/geolocation
npx cap sync

iOS

Apple requires privacy descriptions to be specified in Info.plist for location information:

    NSLocationAlwaysAndWhenInUseUsageDescription (Privacy - Location Always and When In Use Usage Description)
    NSLocationWhenInUseUsageDescription (Privacy - Location When In Use Usage Description)

    [!NOTE] This Capacitor plugin does not support background geolocation directly. However, it relies on ion-ios-geolocation, which can report location in the background. As a result, Apple requires you to include a NSLocationAlwaysAndWhenInUseUsageDescription entry in your Info.plist. Since this permission prompt wont appear to users, you can safely use the same description string as for NSLocationWhenInUseUsageDescription.

Read about Configuring Info.plist in the iOS Guide for more information on setting iOS permissions in Xcode
Android

This plugin requires the following permissions be added to your AndroidManifest.xml:

<!-- Geolocation Plugin -->
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-feature android:name="android.hardware.location.gps" />

The first two permissions ask for location data, both fine and coarse, and the last line is optional but necessary if your app requires GPS to function. You may leave it out, though keep in mind that this may mean your app is installed on devices lacking GPS hardware.

Read about Setting Permissions in the Android Guide for more information on setting Android permissions.
API

    getCurrentPosition(...)
    watchPosition(...)
    clearWatch(...)
    checkPermissions()
    requestPermissions(...)
    Interfaces
    Type Aliases

For list of error codes, see Errors
getCurrentPosition(...)

getCurrentPosition(options?: PositionOptions | undefined) => Promise<Position>

Get the current GPS location of the device
Param	Type
options	

PositionOptions

Returns:

Promise<Position>

Since: 1.0.0
watchPosition(...)

watchPosition(options: PositionOptions, callback: WatchPositionCallback) => Promise<CallbackID>

Set up a watch for location changes. Note that watching for location changes can consume a large amount of energy. Be smart about listening only when you need to.
Param	Type
options	

PositionOptions

callback	

WatchPositionCallback

Returns: Promise<string>

Since: 1.0.0
clearWatch(...)

clearWatch(options: ClearWatchOptions) => Promise<void>

Clear a given watch
Param	Type
options	

ClearWatchOptions

Since: 1.0.0
checkPermissions()

checkPermissions() => Promise<PermissionStatus>

Check location permissions. Will throw if system location services are disabled.

Returns:

Promise<PermissionStatus>

Since: 1.0.0
requestPermissions(...)

requestPermissions(permissions?: GeolocationPluginPermissions | undefined) => Promise<PermissionStatus>

Request location permissions. Will throw if system location services are disabled.

Not available on web.
Param	Type
permissions	

GeolocationPluginPermissions

Returns:

Promise<PermissionStatus>

Since: 1.0.0
Interfaces
Position
Prop	Type	Description	Since
timestamp	number	Creation timestamp for coords	1.0.0
coords	{ latitude: number; longitude: number; accuracy: number; altitudeAccuracy: number | null; altitude: number | null; speed: number | null; heading: number | null; }	The GPS coordinates along with the accuracy of the data	1.0.0
PositionOptions
Prop	Type	Description	Default	Since
enableHighAccuracy	boolean	High accuracy mode (such as GPS, if available) On Android 12+ devices it will be ignored if users didn't grant ACCESS_FINE_LOCATION permissions (can be checked with location alias).	false	1.0.0
timeout	number	The maximum wait time in milliseconds for location updates. In Android, since version 7.1.0 of the plugin, it is also used to determine the interval of location updates for watchPosition.	10000	1.0.0
maximumAge	number	The maximum age in milliseconds of a possible cached position that is acceptable to return	0	1.0.0
minimumUpdateInterval	number	The minumum update interval for location updates. If location updates are available faster than this interval then an update will only occur if the minimum update interval has expired since the last location update. This parameter is only available for Android. It has no effect on iOS or Web platforms.	5000	6.1.0
ClearWatchOptions
Prop	Type
id	

CallbackID

PermissionStatus
Prop	Type	Description	Since
location	

PermissionState

	Permission state for location alias. On Android it requests/checks both ACCESS_COARSE_LOCATION and ACCESS_FINE_LOCATION permissions. On iOS and web it requests/checks location permission.	1.0.0
coarseLocation	

PermissionState

	Permission state for coarseLocation alias. On Android it requests/checks ACCESS_COARSE_LOCATION. On Android 12+, users can choose between Approximate location (ACCESS_COARSE_LOCATION) or Precise location (ACCESS_FINE_LOCATION), so this alias can be used if the app doesn't need high accuracy. On iOS and web it will have the same value as location alias.	1.2.0
GeolocationPluginPermissions
Prop	Type
permissions	GeolocationPermissionType[]
Type Aliases
WatchPositionCallback

(position: Position | null, err?: any): void

CallbackID

string
PermissionState

'prompt' | 'prompt-with-rationale' | 'granted' | 'denied'
GeolocationPermissionType

'location' | 'coarseLocation'
Errors

The plugin returns specific errors with specific codes on native Android and iOS. Web does not follow this standard for errors.

The following table list all the plugin errors:
Error code	Platform(s)	Message
OS-PLUG-GLOC-0002	Android, iOS	There was en error trying to obtain the location.
OS-PLUG-GLOC-0003	Android, iOS	Location permission request was denied.
OS-PLUG-GLOC-0004	iOS	The 'getCurrentPosition' input parameters aren't valid.
OS-PLUG-GLOC-0005	iOS	The 'watchPosition' input parameters aren't valid.
OS-PLUG-GLOC-0006	iOS	The 'clearWatch' input parameters aren't valid.
OS-PLUG-GLOC-0007	Android, iOS	Location services are not enabled.
OS-PLUG-GLOC-0008	iOS	Application's use of location services was restricted.
OS-PLUG-GLOC-0009	Android	Request to enable location was denied.
OS-PLUG-GLOC-0010	Android	Could not obtain location in time. Try with a higher timeout.
OS-PLUG-GLOC-0011	Android	Timeout needs to be a positive value.
OS-PLUG-GLOC-0012	Android	WatchId not found.
OS-PLUG-GLOC-0013	Android	WatchId needs to be provided.
OS-PLUG-GLOC-0014	Android	Google Play Services error user resolvable.
OS-PLUG-GLOC-0015	Android	Google Play Services error.
OS-PLUG-GLOC-0016	Android	Location settings error.

@capacitor/google-maps

Google maps on Capacitor
Install

npm install @capacitor/google-maps
npx cap sync

API Keys

To use the Google Maps SDK on any platform, API keys associated with an account with billing enabled are required. These can be obtained from the Google Cloud Console. This is required for all three platforms, Android, iOS, and Javascript. Additional information about obtaining these API keys can be found in the Google Maps documentation for each platform.
iOS

The Google Maps SDK supports the use of showing the users current location via enableCurrentLocation(bool). To use this, Apple requires privacy descriptions to be specified in Info.plist:

    NSLocationWhenInUseUsageDescription (Privacy - Location When In Use Usage Description)

Read about Configuring Info.plist in the iOS Guide for more information on setting iOS permissions in Xcode.
Typescript Configuration

Your project will also need have skipLibCheck set to true in tsconfig.json.
Migrating from older versions

    The main Google Maps SDK now supports running on simulators on Apple Silicon Macs, but make sure you have the latest version of Google-Maps-iOS-Utils installed.

If you added the previous workaround for getting the unreleased version, you can delete it now by removing this line from ios/App/Podfile:

pod 'Google-Maps-iOS-Utils', :git => 'https://github.com/googlemaps/google-maps-ios-utils.git', :commit => '637954e5bcb2a879c11a6f2cead153a6bad5339f'

Then run pod update Google-Maps-iOS-Utils from the ios/App/ folder:

cd ios/App
pod update Google-Maps-iOS-Utils

Android

The Google Maps SDK for Android requires you to add your API key to the AndroidManifest.xml file in your project.

<meta-data android:name="com.google.android.geo.API_KEY" android:value="YOUR_API_KEY_HERE"/>

To use certain location features, the SDK requires the following permissions to also be added to your AndroidManifest.xml:

<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />

Variables

This plugin will use the following project variables (defined in your app's variables.gradle file):

    googleMapsPlayServicesVersion: version of com.google.android.gms:play-services-maps (default: 18.2.0)
    googleMapsUtilsVersion: version of com.google.maps.android:android-maps-utils (default: 3.8.2)
    googleMapsKtxVersion: version of com.google.maps.android:maps-ktx (default: 5.0.0)
    googleMapsUtilsKtxVersion: version of com.google.maps.android:maps-utils-ktx (default: 5.0.0)
    kotlinxCoroutinesVersion: version of org.jetbrains.kotlinx:kotlinx-coroutines-android and org.jetbrains.kotlinx:kotlinx-coroutines-core (default: 1.7.3)
    androidxCoreKTXVersion: version of androidx.core:core-ktx (default: 1.12.0)
    kotlin_version: version of org.jetbrains.kotlin:kotlin-stdlib (default: 1.9.10)

Usage

The Google Maps Capacitor plugin ships with a web component that must be used to render the map in your application as it enables us to embed the native view more effectively on iOS. The plugin will automatically register this web component for use in your application.

    For Angular users, you will get an error warning that this web component is unknown to the Angular compiler. This is resolved by modifying the module that declares your component to allow for custom web components.

    import { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';

    @NgModule({
      schemas: [CUSTOM_ELEMENTS_SCHEMA]
    })

Include this component in your HTML and assign it an ID so that you can easily query for that element reference later.

<capacitor-google-map id="map"></capacitor-google-map>

    On Android, the map is rendered beneath the entire webview, and uses this component to manage its positioning during scrolling events. This means that as the developer, you must ensure that the webview is transparent all the way through the layers to the very bottom. In a typically Ionic application, that means setting transparency on elements such as IonContent and the root HTML tag to ensure that it can be seen. If you can't see your map on Android, this should be the first thing you check.

    On iOS, we render the map directly into the webview and so the same transparency effects are not required. We are investigating alternate methods for Android still and hope to resolve this better in a future update.

The Google Map element itself comes unstyled, so you should style it to fit within the layout of your page structure. Because we're rendering a view into this slot, by itself the element has no width or height, so be sure to set those explicitly.

capacitor-google-map {
  display: inline-block;
  width: 275px;
  height: 400px;
}

Next, we should create the map reference. This is done by importing the GoogleMap class from the Capacitor plugin and calling the create method, and passing in the required parameters.

import { GoogleMap } from '@capacitor/google-maps';

const apiKey = 'YOUR_API_KEY_HERE';

const mapRef = document.getElementById('map');

const newMap = await GoogleMap.create({
  id: 'my-map', // Unique identifier for this map instance
  element: mapRef, // reference to the capacitor-google-map element
  apiKey: apiKey, // Your Google Maps API Key
  config: {
    center: {
      // The initial position to be rendered by the map
      lat: 33.6,
      lng: -117.9,
    },
    zoom: 8, // The initial zoom level to be rendered by the map
  },
});

At this point, your map should be created within your application. Using the returned reference to the map, you can easily interact with your map in a number of way, a few of which are shown here.

const newMap = await GoogleMap.create({...});

// Add a marker to the map
const markerId = await newMap.addMarker({
  coordinate: {
    lat: 33.6,
    lng: -117.9
  }
});

// Move the map programmatically
await newMap.setCamera({
  coordinate: {
    lat: 33.6,
    lng: -117.9
  }
});

// Enable marker clustering
await newMap.enableClustering();

// Handle marker click
await newMap.setOnMarkerClickListener((event) => {...});

// Clean up map reference
await newMap.destroy();

Full Examples
Angular

import { GoogleMap } from '@capacitor/google-maps';

@Component({
  template: `
    <capacitor-google-map #map></capacitor-google-map>
    <button (click)="createMap()">Create Map</button>
  `,
  styles: [
    `
      capacitor-google-map {
        display: inline-block;
        width: 275px;
        height: 400px;
      }
    `,
  ],
})
export class MyMap {
  @ViewChild('map')
  mapRef: ElementRef<HTMLElement>;
  newMap: GoogleMap;

  async createMap() {
    this.newMap = await GoogleMap.create({
      id: 'my-cool-map',
      element: this.mapRef.nativeElement,
      apiKey: environment.apiKey,
      config: {
        center: {
          lat: 33.6,
          lng: -117.9,
        },
        zoom: 8,
      },
    });
  }
}

React

import { GoogleMap } from '@capacitor/google-maps';
import { useRef } from 'react';

const MyMap: React.FC = () => {
  const mapRef = useRef<HTMLElement>();
  let newMap: GoogleMap;

  async function createMap() {
    if (!mapRef.current) return;

    newMap = await GoogleMap.create({
      id: 'my-cool-map',
      element: mapRef.current,
      apiKey: process.env.REACT_APP_YOUR_API_KEY_HERE,
      config: {
        center: {
          lat: 33.6,
          lng: -117.9
        },
        zoom: 8
      }
    })
  }

  return (
    <div className="component-wrapper">
      <capacitor-google-map ref={mapRef} style={{
        display: 'inline-block',
        width: 275,
        height: 400
      }}></capacitor-google-map>

      <button onClick={createMap}>Create Map</button>
    </div>
  )
}

export default MyMap;

Vue

<script lang="ts" setup>
import { ref, shallowRef, useTemplateRef } from 'vue'
import { GoogleMap } from '@capacitor/google-maps'

const mapRef = useTemplateRef<HTMLElement>('mapRef')
const newMap = shallowRef<GoogleMap>()

async function createMap() {
  if (!mapRef.value) return

  newMap.value = await GoogleMap.create({
    id: 'my-cool-map',
    element: mapRef.value,
    apiKey: import.meta.env.VITE_YOUR_API_KEY_HERE,
    config: {
      center: {
        lat: 33.6,
        lng: -117.9,
      },
      zoom: 8,
    },
  })
}
</script>

<template>
  <capacitor-google-map
    ref="mapRef"
    style="display: inline-block; width: 275px; height: 400px"
  ></capacitor-google-map>
  <button @click="createMap()">Create Map</button>
</template>

make sure you need enable recognize native custom elements like

// vite.config.mts > plugins
Vue({
  template: {
    compilerOptions: {
      isCustomElement: (tag) => tag.startsWith('capacitor-')
    },
  },
}),

Javascript

<capacitor-google-map id="map"></capacitor-google-map>
<button onclick="createMap()">Create Map</button>

<style>
  capacitor-google-map {
    display: inline-block;
    width: 275px;
    height: 400px;
  }
</style>

<script>
  import { GoogleMap } from '@capacitor/google-maps';

  const createMap = async () => {
    const mapRef = document.getElementById('map');

    const newMap = await GoogleMap.create({
      id: 'my-map', // Unique identifier for this map instance
      element: mapRef, // reference to the capacitor-google-map element
      apiKey: 'YOUR_API_KEY_HERE', // Your Google Maps API Key
      config: {
        center: {
          // The initial position to be rendered by the map
          lat: 33.6,
          lng: -117.9,
        },
        zoom: 8, // The initial zoom level to be rendered by the map
      },
    });
  };
</script>

API

    create(...)
    enableTouch()
    disableTouch()
    enableClustering(...)
    disableClustering()
    addTileOverlay(...)
    removeTileOverlay(...)
    addMarker(...)
    addMarkers(...)
    removeMarker(...)
    removeMarkers(...)
    addPolygons(...)
    removePolygons(...)
    addCircles(...)
    removeCircles(...)
    addPolylines(...)
    removePolylines(...)
    destroy()
    setCamera(...)
    getMapType()
    setMapType(...)
    enableIndoorMaps(...)
    enableTrafficLayer(...)
    enableAccessibilityElements(...)
    enableCurrentLocation(...)
    setPadding(...)
    getMapBounds()
    fitBounds(...)
    setOnBoundsChangedListener(...)
    setOnCameraIdleListener(...)
    setOnCameraMoveStartedListener(...)
    setOnClusterClickListener(...)
    setOnClusterInfoWindowClickListener(...)
    setOnInfoWindowClickListener(...)
    setOnMapClickListener(...)
    setOnMarkerClickListener(...)
    setOnPolygonClickListener(...)
    setOnCircleClickListener(...)
    setOnPolylineClickListener(...)
    setOnMarkerDragStartListener(...)
    setOnMarkerDragListener(...)
    setOnMarkerDragEndListener(...)
    setOnMyLocationButtonClickListener(...)
    setOnMyLocationClickListener(...)
    Interfaces
    Type Aliases
    Enums

create(...)

create(options: CreateMapArgs, callback?: MapListenerCallback<MapReadyCallbackData> | undefined) => Promise<GoogleMap>

Param	Type
options	

CreateMapArgs

callback	

MapListenerCallback<MapReadyCallbackData>

Returns: Promise<GoogleMap>
enableTouch()

enableTouch() => Promise<void>

disableTouch()

disableTouch() => Promise<void>

enableClustering(...)

enableClustering(minClusterSize?: number | undefined) => Promise<void>

Param	Type	Description
minClusterSize	number	The minimum number of markers that can be clustered together. The default is 4 markers.
disableClustering()

disableClustering() => Promise<void>

addTileOverlay(...)

addTileOverlay(tileOverlay: TileOverlay) => Promise<{ id: string; }>

Param	Type
tileOverlay	

TileOverlay

Returns: Promise<{ id: string; }>
removeTileOverlay(...)

removeTileOverlay(id: string) => Promise<void>

Param	Type
id	string
addMarker(...)

addMarker(marker: Marker) => Promise<string>

Param	Type
marker	

Marker

Returns: Promise<string>
addMarkers(...)

addMarkers(markers: Marker[]) => Promise<string[]>

Param	Type
markers	Marker[]

Returns: Promise<string[]>
removeMarker(...)

removeMarker(id: string) => Promise<void>

Param	Type
id	string
removeMarkers(...)

removeMarkers(ids: string[]) => Promise<void>

Param	Type
ids	string[]
addPolygons(...)

addPolygons(polygons: Polygon[]) => Promise<string[]>

Param	Type
polygons	Polygon[]

Returns: Promise<string[]>
removePolygons(...)

removePolygons(ids: string[]) => Promise<void>

Param	Type
ids	string[]
addCircles(...)

addCircles(circles: Circle[]) => Promise<string[]>

Param	Type
circles	Circle[]

Returns: Promise<string[]>
removeCircles(...)

removeCircles(ids: string[]) => Promise<void>

Param	Type
ids	string[]
addPolylines(...)

addPolylines(polylines: Polyline[]) => Promise<string[]>

Param	Type
polylines	Polyline[]

Returns: Promise<string[]>
removePolylines(...)

removePolylines(ids: string[]) => Promise<void>

Param	Type
ids	string[]
destroy()

destroy() => Promise<void>

setCamera(...)

setCamera(config: CameraConfig) => Promise<void>

Param	Type
config	

CameraConfig

getMapType()

getMapType() => Promise<MapType>

Get current map type

Returns:

Promise<MapType>

setMapType(...)

setMapType(mapType: MapType) => Promise<void>

Param	Type
mapType	

MapType

enableIndoorMaps(...)

enableIndoorMaps(enabled: boolean) => Promise<void>

Param	Type
enabled	boolean
enableTrafficLayer(...)

enableTrafficLayer(enabled: boolean) => Promise<void>

Param	Type
enabled	boolean
enableAccessibilityElements(...)

enableAccessibilityElements(enabled: boolean) => Promise<void>

Param	Type
enabled	boolean
enableCurrentLocation(...)

enableCurrentLocation(enabled: boolean) => Promise<void>

Param	Type
enabled	boolean
setPadding(...)

setPadding(padding: MapPadding) => Promise<void>

Param	Type
padding	

MapPadding

getMapBounds()

getMapBounds() => Promise<LatLngBounds>

Get the map's current viewport latitude and longitude bounds.

Returns: Promise<LatLngBounds>
fitBounds(...)

fitBounds(bounds: LatLngBounds, padding?: number | undefined) => Promise<void>

Sets the map viewport to contain the given bounds.
Param	Type	Description
bounds	LatLngBounds	The bounds to fit in the viewport.
padding	number	Optional padding to apply in pixels. The bounds will be fit in the part of the map that remains after padding is removed.
setOnBoundsChangedListener(...)

setOnBoundsChangedListener(callback?: MapListenerCallback<CameraIdleCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<CameraIdleCallbackData>

setOnCameraIdleListener(...)

setOnCameraIdleListener(callback?: MapListenerCallback<CameraIdleCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<CameraIdleCallbackData>

setOnCameraMoveStartedListener(...)

setOnCameraMoveStartedListener(callback?: MapListenerCallback<CameraMoveStartedCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<CameraMoveStartedCallbackData>

setOnClusterClickListener(...)

setOnClusterClickListener(callback?: MapListenerCallback<ClusterClickCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<ClusterClickCallbackData>

setOnClusterInfoWindowClickListener(...)

setOnClusterInfoWindowClickListener(callback?: MapListenerCallback<ClusterClickCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<ClusterClickCallbackData>

setOnInfoWindowClickListener(...)

setOnInfoWindowClickListener(callback?: MapListenerCallback<MarkerClickCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<MarkerClickCallbackData>

setOnMapClickListener(...)

setOnMapClickListener(callback?: MapListenerCallback<MapClickCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<MapClickCallbackData>

setOnMarkerClickListener(...)

setOnMarkerClickListener(callback?: MapListenerCallback<MarkerClickCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<MarkerClickCallbackData>

setOnPolygonClickListener(...)

setOnPolygonClickListener(callback?: MapListenerCallback<PolygonClickCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<PolygonClickCallbackData>

setOnCircleClickListener(...)

setOnCircleClickListener(callback?: MapListenerCallback<CircleClickCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<CircleClickCallbackData>

setOnPolylineClickListener(...)

setOnPolylineClickListener(callback?: MapListenerCallback<PolylineCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<PolylineCallbackData>

setOnMarkerDragStartListener(...)

setOnMarkerDragStartListener(callback?: MapListenerCallback<MarkerClickCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<MarkerClickCallbackData>

setOnMarkerDragListener(...)

setOnMarkerDragListener(callback?: MapListenerCallback<MarkerClickCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<MarkerClickCallbackData>

setOnMarkerDragEndListener(...)

setOnMarkerDragEndListener(callback?: MapListenerCallback<MarkerClickCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<MarkerClickCallbackData>

setOnMyLocationButtonClickListener(...)

setOnMyLocationButtonClickListener(callback?: MapListenerCallback<MyLocationButtonClickCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<MyLocationButtonClickCallbackData>

setOnMyLocationClickListener(...)

setOnMyLocationClickListener(callback?: MapListenerCallback<MapClickCallbackData> | undefined) => Promise<void>

Param	Type
callback	

MapListenerCallback<MapClickCallbackData>

Interfaces
CreateMapArgs

An interface containing the options used when creating a map.
Prop	Type	Description	Default
id	string	A unique identifier for the map instance.	
apiKey	string	The Google Maps SDK API Key.	
config	

GoogleMapConfig

	The initial configuration settings for the map.	
element	HTMLElement	The DOM element that the Google Map View will be mounted on which determines size and positioning.	
forceCreate	boolean	Destroy and re-create the map instance if a map with the supplied id already exists	false
region	string	The region parameter alters your application to serve different map tiles or bias the application (such as biasing geocoding results towards the region). Only available for web.	
language	string	The language parameter affects the names of controls, copyright notices, driving directions, and control labels, as well as the responses to service requests. Only available for web.	
GoogleMapConfig

For web, all the javascript Google Maps options are available as GoogleMapConfig extends google.maps.MapOptions. For iOS and Android only the config options declared on GoogleMapConfig are available.
Prop	Type	Description	Default	Since
width	number	Override width for native map.		
height	number	Override height for native map.		
x	number	Override absolute x coordinate position for native map.		
y	number	Override absolute y coordinate position for native map.		
center	

LatLng

	Default location on the Earth towards which the camera points.		
zoom	number	Sets the zoom of the map.		
androidLiteMode	boolean	Enables image-based lite mode on Android.	false	
devicePixelRatio	number	Override pixel ratio for native map.		
styles	MapTypeStyle[] | null	Styles to apply to each of the default map types. Note that for satellite, hybrid and terrain modes, these styles will only apply to labels and geometry.		4.3.0
mapId	string	A map id associated with a specific map style or feature. Use Map IDs Only for Web.		5.4.0
androidMapId	string	A map id associated with a specific map style or feature. Use Map IDs Only for Android.		5.4.0
iOSMapId	string	A map id associated with a specific map style or feature. Use Map IDs Only for iOS.		5.4.0
maxZoom	number | null	The maximum zoom level which will be displayed on the map. If omitted, or set to <code>null</code>, the maximum zoom from the current map type is used instead. Valid zoom values are numbers from zero up to the supported <a href="https://developers.google.com/maps/documentation/javascript/maxzoom"&gt;maximum zoom level</a>.		
minZoom	number | null	The minimum zoom level which will be displayed on the map. If omitted, or set to <code>null</code>, the minimum zoom from the current map type is used instead. Valid zoom values are numbers from zero up to the supported <a href="https://developers.google.com/maps/documentation/javascript/maxzoom"&gt;maximum zoom level</a>.		
mapTypeId	string | null	The initial Map mapTypeId. Defaults to <code>ROADMAP</code>.		
heading	number | null	The heading for aerial imagery in degrees measured clockwise from cardinal direction North. Headings are snapped to the nearest available angle for which imagery is available.		
restriction	MapRestriction | null	Defines a boundary that restricts the area of the map accessible to users. When set, a user can only pan and zoom while the camera view stays inside the limits of the boundary.		
LatLng

An interface representing a pair of latitude and longitude coordinates.
Prop	Type	Description
lat	number	Coordinate latitude, in degrees. This value is in the range [-90, 90].
lng	number	Coordinate longitude, in degrees. This value is in the range [-180, 180].
MapReadyCallbackData
Prop	Type
mapId	string
TileOverlay

A tile overlay is an image placed on top of your map at a specific zoom level. Available on iOS, Android and Web
Prop	Type	Description	Default
url	string	A string representing the tile url. Should contain {x}, {y} and {z} so they can be replaced with actual values for x, y and zoom. Available on iOS, Android and Web	
opacity	number	The opacity of the tile overlay, between 0 (completely transparent) and 1 inclusive. Available on iOS, Android and Web	undefined
visible	boolean	Controls whether this tile overlay should be visible. Available only on Android	undefined
zIndex	number	The zIndex of the tile overlay. Available on iOS and Android	undefined
Marker

A marker is an icon placed at a particular point on the map's surface.
Prop	Type	Description	Default	Since
coordinate	

LatLng

	Marker position		
opacity	number	Sets the opacity of the marker, between 0 (completely transparent) and 1 inclusive.	1	
title	string	Title, a short description of the overlay.		
snippet	string	Snippet text, shown beneath the title in the info window when selected.		
isFlat	boolean	Controls whether this marker should be flat against the Earth's surface or a billboard facing the camera.	false	
iconUrl	string	Path to a marker icon to render. It can be relative to the web app public directory, or a https url of a remote marker icon. SVGs are not supported on native platforms.		4.2.0
iconSize	

Size

	Controls the scaled size of the marker image set in iconUrl.		4.2.0
iconOrigin	

Point

	The position of the image within a sprite, if any. By default, the origin is located at the top left corner of the image .		4.2.0
iconAnchor	

Point

	The position at which to anchor an image in correspondence to the location of the marker on the map. By default, the anchor is located along the center point of the bottom of the image.		4.2.0
tintColor	{ r: number; g: number; b: number; a: number; }	Customizes the color of the default marker image. Each value must be between 0 and 255. Only for iOS and Android.		4.2.0
draggable	boolean	Controls whether this marker can be dragged interactively	false	
zIndex	number	Specifies the stack order of this marker, relative to other markers on the map. A marker with a high z-index is drawn on top of markers with lower z-indexes	0	
Size
Prop	Type
width	number
height	number
Point
Prop	Type
x	number
y	number
Polygon

For web, all the javascript Polygon options are available as Polygon extends google.maps.PolygonOptions. For iOS and Android only the config options declared on Polygon are available.
Prop	Type	Description
paths	any[] | MVCArray<any>	The ordered sequence of coordinates that designates a closed loop. Unlike polylines, a polygon may consist of one or more paths. As a result, the paths property may specify one or more arrays of <code>LatLng</code> coordinates. Paths are closed automatically; do not repeat the first vertex of the path as the last vertex. Simple polygons may be defined using a single array of <code>LatLng</code>s. More complex polygons may specify an array of arrays. Any simple arrays are converted into <code><a href="#MVCArray">MVCArray</a></code>s. Inserting or removing <code>LatLng</code>s from the <code>MVCArray</code> will automatically update the polygon on the map.
strokeColor	string	The stroke color. All CSS3 colors are supported except for extended named colors.
strokeOpacity	number	The stroke opacity between 0.0 and 1.0
strokeWeight	number	The stroke width in pixels.
fillColor	string	The fill color. All CSS3 colors are supported except for extended named colors.
fillOpacity	number	The fill opacity between 0.0 and 1.0
geodesic	boolean	When <code>true</code>, edges of the polygon are interpreted as geodesic and will follow the curvature of the Earth. When <code>false</code>, edges of the polygon are rendered as straight lines in screen space. Note that the shape of a geodesic polygon may appear to change when dragged, as the dimensions are maintained relative to the surface of the earth.
clickable	boolean	Indicates whether this <code>Polygon</code> handles mouse events.
title	string	Title, a short description of the overlay. Some overlays, such as markers, will display the title on the map. The title is also the default accessibility text. Only available on iOS.
tag	string	
Circle

For web, all the javascript Circle options are available as Circle extends google.maps.CircleOptions. For iOS and Android only the config options declared on Circle are available.
Prop	Type	Description
fillColor	string	The fill color. All CSS3 colors are supported except for extended named colors.
fillOpacity	number	The fill opacity between 0.0 and 1.0.
strokeColor	string	The stroke color. All CSS3 colors are supported except for extended named colors.
strokeWeight	number	The stroke width in pixels.
geodesic	boolean	
clickable	boolean	Indicates whether this <code>Circle</code> handles mouse events.
title	string	Title, a short description of the overlay. Some overlays, such as markers, will display the title on the map. The title is also the default accessibility text. Only available on iOS.
tag	string	
Polyline

For web, all the javascript Polyline options are available as Polyline extends google.maps.PolylineOptions. For iOS and Android only the config options declared on Polyline are available.
Prop	Type	Description
strokeColor	string	The stroke color. All CSS3 colors are supported except for extended named colors.
strokeOpacity	number	The stroke opacity between 0.0 and 1.0.
strokeWeight	number	The stroke width in pixels.
geodesic	boolean	When <code>true</code>, edges of the polygon are interpreted as geodesic and will follow the curvature of the Earth. When <code>false</code>, edges of the polygon are rendered as straight lines in screen space. Note that the shape of a geodesic polygon may appear to change when dragged, as the dimensions are maintained relative to the surface of the earth.
clickable	boolean	Indicates whether this <code>Polyline</code> handles mouse events.
tag	string	
styleSpans	StyleSpan[]	Used to specify the color of one or more segments of a polyline. The styleSpans property is an array of StyleSpan objects. Setting the spans property is the preferred way to change the color of a polyline. Only on iOS and Android.
StyleSpan

Describes the style for some region of a polyline.
Prop	Type	Description
color	string	The stroke color. All CSS3 colors are supported except for extended named colors.
segments	number	The length of this span in number of segments.
CameraConfig

Configuration properties for a Google Map Camera
Prop	Type	Description	Default
coordinate	

LatLng

	Location on the Earth towards which the camera points.	
zoom	number	Sets the zoom of the map.	
bearing	number	Bearing of the camera, in degrees clockwise from true north.	0
angle	number	The angle, in degrees, of the camera from the nadir (directly facing the Earth). The only allowed values are 0 and 45.	0
animate	boolean	Animate the transition to the new Camera properties.	false
animationDuration	number	This configuration option is not being used.	
MapPadding

Controls for setting padding on the 'visible' region of the view.
Prop	Type
top	number
left	number
right	number
bottom	number
CameraIdleCallbackData
Prop	Type
mapId	string
bounds	LatLngBounds
bearing	number
latitude	number
longitude	number
tilt	number
zoom	number
CameraMoveStartedCallbackData
Prop	Type
mapId	string
isGesture	boolean
ClusterClickCallbackData
Prop	Type
mapId	string
latitude	number
longitude	number
size	number
items	MarkerCallbackData[]
MarkerCallbackData
Prop	Type
markerId	string
latitude	number
longitude	number
title	string
snippet	string
MarkerClickCallbackData
Prop	Type
mapId	string
MapClickCallbackData
Prop	Type
mapId	string
latitude	number
longitude	number
PolygonClickCallbackData
Prop	Type
mapId	string
polygonId	string
tag	string
CircleClickCallbackData
Prop	Type
mapId	string
circleId	string
tag	string
PolylineCallbackData
Prop	Type
polylineId	string
tag	string
MyLocationButtonClickCallbackData
Prop	Type
mapId	string
Type Aliases
MapListenerCallback

The callback function to be called when map events are emitted.

(data: T): void
Marker

Supports markers of either either "legacy" or "advanced" types.

google.maps.Marker | google.maps.marker.AdvancedMarkerElement

Enums
MapType
Members	Value	Description
Normal	'Normal'	Basic map.
Hybrid	'Hybrid'	Satellite imagery with roads and labels.
Satellite	'Satellite'	Satellite imagery with no labels.
Terrain	'Terrain'	Topographic data.
None	'None'	No base map tiles.

@capacitor/haptics

The Haptics API provides physical feedback to the user through touch or vibration.

On devices that don't have Taptic Engine or Vibrator, the API calls will resolve without performing any action.
Install

npm install @capacitor/haptics
npx cap sync

Example

import { Haptics, ImpactStyle } from '@capacitor/haptics';

const hapticsImpactMedium = async () => {
  await Haptics.impact({ style: ImpactStyle.Medium });
};

const hapticsImpactLight = async () => {
  await Haptics.impact({ style: ImpactStyle.Light });
};

const hapticsVibrate = async () => {
  await Haptics.vibrate();
};

const hapticsSelectionStart = async () => {
  await Haptics.selectionStart();
};

const hapticsSelectionChanged = async () => {
  await Haptics.selectionChanged();
};

const hapticsSelectionEnd = async () => {
  await Haptics.selectionEnd();
};

API

    impact(...)
    notification(...)
    vibrate(...)
    selectionStart()
    selectionChanged()
    selectionEnd()
    Interfaces
    Enums

impact(...)

impact(options?: ImpactOptions | undefined) => Promise<void>

Trigger a haptics "impact" feedback
Param	Type
options	

ImpactOptions

Since: 1.0.0
notification(...)

notification(options?: NotificationOptions | undefined) => Promise<void>

Trigger a haptics "notification" feedback
Param	Type
options	

NotificationOptions

Since: 1.0.0
vibrate(...)

vibrate(options?: VibrateOptions | undefined) => Promise<void>

Vibrate the device
Param	Type
options	

VibrateOptions

Since: 1.0.0
selectionStart()

selectionStart() => Promise<void>

Trigger a selection started haptic hint

Since: 1.0.0
selectionChanged()

selectionChanged() => Promise<void>

Trigger a selection changed haptic hint. If a selection was started already, this will cause the device to provide haptic feedback

Since: 1.0.0
selectionEnd()

selectionEnd() => Promise<void>

If selectionStart() was called, selectionEnd() ends the selection. For example, call this when a user has lifted their finger from a control

Since: 1.0.0
Interfaces
ImpactOptions
Prop	Type	Description	Default	Since
style	

ImpactStyle

	Impact Feedback Style The mass of the objects in the collision simulated by a UIImpactFeedbackGenerator object.	ImpactStyle.Heavy	1.0.0
NotificationOptions
Prop	Type	Description	Default	Since
type	

NotificationType

	Notification Feedback Type The type of notification feedback generated by a UINotificationFeedbackGenerator object.	NotificationType.SUCCESS	1.0.0
VibrateOptions
Prop	Type	Description	Default	Since
duration	number	Duration of the vibration in milliseconds.	300	1.0.0
Enums
ImpactStyle
Members	Value	Description	Since
Heavy	'HEAVY'	A collision between large, heavy user interface elements	1.0.0
Medium	'MEDIUM'	A collision between moderately sized user interface elements	1.0.0
Light	'LIGHT'	A collision between small, light user interface elements	1.0.0
NotificationType
Members	Value	Description	Since
Success	'SUCCESS'	A notification feedback type indicating that a task has completed successfully	1.0.0
Warning	'WARNING'	A notification feedback type indicating that a task has produced a warning	1.0.0
Error	'ERROR'	A notification feedback type indicating that a task has failed	1.0.0

CapacitorHttp

The Capacitor Http API provides native http support via patching fetch and XMLHttpRequest to use native libraries. It also provides helper methods for native http requests without the use of fetch and XMLHttpRequest. This plugin is bundled with @capacitor/core.
Configuration

By default, the patching of window.fetch and XMLHttpRequest to use native libraries is disabled. If you would like to enable this feature, modify the configuration below in the capacitor.config file.
Prop	Type	Description	Default
enabled	boolean	Enable the patching of fetch and XMLHttpRequest to use native libraries instead.	false
Example Configuration

In capacitor.config.json:

{
  "plugins": {
    "CapacitorHttp": {
      "enabled": true
    }
  }
}

In capacitor.config.ts:

import { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  plugins: {
    CapacitorHttp: {
      enabled: true,
    },
  },
};

export default config;

Example

import { CapacitorHttp } from '@capacitor/core';

// Example of a GET request
const doGet = () => {
  const options = {
    url: 'https://example.com/my/api',
    headers: { 'X-Fake-Header': 'Fake-Value' },
    params: { size: 'XL' },
  };

  const response: HttpResponse = await CapacitorHttp.get(options);

  // or...
  // const response = await CapacitorHttp.request({ ...options, method: 'GET' })
};

// Example of a POST request. Note: data
// can be passed as a raw JS Object (must be JSON serializable)
const doPost = () => {
  const options = {
    url: 'https://example.com/my/api',
    headers: { 'X-Fake-Header': 'Fake-Value' },
    data: { foo: 'bar' },
  };

  const response: HttpResponse = await CapacitorHttp.post(options);

  // or...
  // const response = await CapacitorHttp.request({ ...options, method: 'POST' })
};

Large File Support

Due to the nature of the bridge, parsing and transferring large amount of data from native to the web can cause issues. Support for downloading and uploading files to the native device is planned to be added to the @capacitor/filesystem plugin in the near future. One way to potentially circumvent the issue of running out of memory in the meantime (specifically on Android) is to edit the AndroidManifest.xml and add android:largeHeap="true" to the application element. Most apps should not need this and should instead focus on reducing their overall memory usage for improved performance. Enabling this also does not guarantee a fixed increase in available memory, because some devices are constrained by their total available memory.
API

    request(...)
    get(...)
    post(...)
    put(...)
    patch(...)
    delete(...)
    Interfaces
    Type Aliases

****** HTTP PLUGIN *******
request(...)

request(options: HttpOptions) => Promise<HttpResponse>

Make a Http Request to a server using native libraries.
Param	Type
options	

HttpOptions

Returns:

Promise<HttpResponse>

get(...)

get(options: HttpOptions) => Promise<HttpResponse>

Make a Http GET Request to a server using native libraries.
Param	Type
options	

HttpOptions

Returns:

Promise<HttpResponse>

post(...)

post(options: HttpOptions) => Promise<HttpResponse>

Make a Http POST Request to a server using native libraries.
Param	Type
options	

HttpOptions

Returns:

Promise<HttpResponse>

put(...)

put(options: HttpOptions) => Promise<HttpResponse>

Make a Http PUT Request to a server using native libraries.
Param	Type
options	

HttpOptions

Returns:

Promise<HttpResponse>

patch(...)

patch(options: HttpOptions) => Promise<HttpResponse>

Make a Http PATCH Request to a server using native libraries.
Param	Type
options	

HttpOptions

Returns:

Promise<HttpResponse>

delete(...)

delete(options: HttpOptions) => Promise<HttpResponse>

Make a Http DELETE Request to a server using native libraries.
Param	Type
options	

HttpOptions

Returns:

Promise<HttpResponse>

Interfaces
HttpResponse
Prop	Type	Description
data	any	Additional data received with the Http response.
status	number	The status code received from the Http response.
headers	

HttpHeaders

	The headers received from the Http response.
url	string	The response URL recieved from the Http response.
HttpHeaders
HttpOptions
Prop	Type	Description
url	string	The URL to send the request to.
method	string	The Http Request method to run. (Default is GET)
params	

HttpParams

	URL parameters to append to the request.
data	any	Note: On Android and iOS, data can only be a string or a JSON. FormData, Blob, ArrayBuffer, and other complex types are only directly supported on web or through enabling CapacitorHttp in the config and using the patched window.fetch or XMLHttpRequest. If you need to send a complex type, you should serialize the data to base64 and set the headers["Content-Type"] and dataType attributes accordingly.
headers	

HttpHeaders

	Http Request headers to send with the request.
readTimeout	number	How long to wait to read additional data in milliseconds. Resets each time new data is received.
connectTimeout	number	How long to wait for the initial connection in milliseconds.
disableRedirects	boolean	Sets whether automatic HTTP redirects should be disabled
webFetchExtra	

RequestInit

	Extra arguments for fetch when running on the web
responseType	

HttpResponseType

	This is used to parse the response appropriately before returning it to the requestee. If the response content-type is "json", this value is ignored.
shouldEncodeUrlParams	boolean	Use this option if you need to keep the URL unencoded in certain cases (already encoded, azure/firebase testing, etc.). The default is true.
dataType	'file' | 'formData'	This is used if we've had to convert the data from a JS type that needs special handling in the native layer
HttpParams
RequestInit
Prop	Type	Description
body	

BodyInit

	A BodyInit object or null to set request's body.
cache	

RequestCache

	A string indicating how the request will interact with the browser's cache to set request's cache.
credentials	

RequestCredentials

	A string indicating whether credentials will be sent with the request always, never, or only when sent to a same-origin URL. Sets request's credentials.
headers	

HeadersInit

	A Headers object, an object literal, or an array of two-item arrays to set request's headers.
integrity	string	A cryptographic hash of the resource to be fetched by request. Sets request's integrity.
keepalive	boolean	A boolean to set request's keepalive.
method	string	A string to set request's method.
mode	

RequestMode

	A string to indicate whether the request will use CORS, or will be restricted to same-origin URLs. Sets request's mode.
redirect	

RequestRedirect

	A string indicating whether request follows redirects, results in an error upon encountering a redirect, or returns the redirect (in an opaque fashion). Sets request's redirect.
referrer	string	A string whose value is a same-origin URL, "about:client", or the empty string, to set request's referrer.
referrerPolicy	

ReferrerPolicy

	A referrer policy to set request's referrerPolicy.
signal	

AbortSignal

	An AbortSignal to set request's signal.
window	any	Can only be null. Used to disassociate request from any Window.
Blob

A file-like object of immutable, raw data. Blobs represent data that isn't necessarily in a JavaScript-native format. The File interface is based on Blob, inheriting blob functionality and expanding it to support files on the user's system. Blob class is a global reference for require('node:buffer').Blob https://nodejs.org/api/buffer.html#class-blob
Prop	Type
size	number
type	string
Method	Signature
arrayBuffer	() => Promise<ArrayBuffer>
slice	(start?: number, end?: number, contentType?: string) => Blob
stream	() => ReadableStream
text	() => Promise<string>
ArrayBuffer

Represents a raw buffer of binary data, which is used to store data for the different typed arrays. ArrayBuffers cannot be read from or written to directly, but can be passed to a typed array or DataView Object to interpret the raw buffer as needed.
Prop	Type	Description
byteLength	number	Read-only. The length of the ArrayBuffer (in bytes).
Method	Signature	Description
slice	(begin: number, end?: number) => ArrayBuffer	Returns a section of an ArrayBuffer.
ReadableStream

This Streams API interface represents a readable stream of byte data. The Fetch API offers a concrete instance of a ReadableStream through the body property of a Response object.
Prop	Type
locked	boolean
Method	Signature
cancel	(reason?: any) => Promise<void>
getReader	() => ReadableStreamDefaultReader<R>
pipeThrough	<T>(transform: ReadableWritablePair<T, R>, options?: StreamPipeOptions) => ReadableStream<T>
pipeTo	(dest: WritableStream<R>, options?: StreamPipeOptions) => Promise<void>
tee	() => [ReadableStream<R>, ReadableStream<R>]
ReadableStreamDefaultReader
Method	Signature
read	() => Promise<ReadableStreamDefaultReadResult<R>>
releaseLock	() => void
ReadableStreamDefaultReadValueResult
Prop	Type
done	false
value	T
ReadableStreamDefaultReadDoneResult
Prop	Type
done	true
value	
ReadableWritablePair
Prop	Type	Description
readable	

ReadableStream<R>

	
writable	

WritableStream<W>

	Provides a convenient, chainable way of piping this readable stream through a transform stream (or any other { writable, readable } pair). It simply pipes the stream into the writable side of the supplied pair, and returns the readable side for further use. Piping a stream will lock it for the duration of the pipe, preventing any other consumer from acquiring a reader.
WritableStream

This Streams API interface provides a standard abstraction for writing streaming data to a destination, known as a sink. This object comes with built-in backpressure and queuing.
Prop	Type
locked	boolean
Method	Signature
abort	(reason?: any) => Promise<void>
getWriter	() => WritableStreamDefaultWriter<W>
WritableStreamDefaultWriter

This Streams API interface is the object returned by WritableStream.getWriter() and once created locks the < writer to the WritableStream ensuring that no other streams can write to the underlying sink.
Prop	Type
closed	Promise<undefined>
desiredSize	number
ready	Promise<undefined>
Method	Signature
abort	(reason?: any) => Promise<void>
close	() => Promise<void>
releaseLock	() => void
write	(chunk: W) => Promise<void>
StreamPipeOptions
Prop	Type	Description
preventAbort	boolean	
preventCancel	boolean	
preventClose	boolean	Pipes this readable stream to a given writable stream destination. The way in which the piping process behaves under various error conditions can be customized with a number of passed options. It returns a promise that fulfills when the piping process completes successfully, or rejects if any errors were encountered. Piping a stream will lock it for the duration of the pipe, preventing any other consumer from acquiring a reader. Errors and closures of the source and destination streams propagate as follows: An error in this source readable stream will abort destination, unless preventAbort is truthy. The returned promise will be rejected with the source's error, or with any error that occurs during aborting the destination. An error in destination will cancel this source readable stream, unless preventCancel is truthy. The returned promise will be rejected with the destination's error, or with any error that occurs during canceling the source. When this source readable stream closes, destination will be closed, unless preventClose is truthy. The returned promise will be fulfilled once this process completes, unless an error is encountered while closing the destination, in which case it will be rejected with that error. If destination starts out closed or closing, this source readable stream will be canceled, unless preventCancel is true. The returned promise will be rejected with an error indicating piping to a closed stream failed, or with any error that occurs during canceling the source. The signal option can be set to an AbortSignal to allow aborting an ongoing pipe operation via the corresponding AbortController. In this case, this source readable stream will be canceled, and destination aborted, unless the respective options preventCancel or preventAbort are set.
signal	

AbortSignal

	
AbortSignal

A signal object that allows you to communicate with a DOM request (such as a Fetch) and abort it if required via an AbortController object.
Prop	Type	Description
aborted	boolean	Returns true if this AbortSignal's AbortController has signaled to abort, and false otherwise.
onabort	

(this: AbortSignal, ev: Event) => any

	
Method	Signature	Description
addEventListener	<K extends "abort">(type: K, listener: (this: AbortSignal, ev: AbortSignalEventMap[K]) => any, options?: boolean | AddEventListenerOptions) => void	Appends an event listener for events whose type attribute value is type. The callback argument sets the callback that will be invoked when the event is dispatched. The options argument sets listener-specific options. For compatibility this can be a boolean, in which case the method behaves exactly as if the value was specified as options's capture. When set to true, options's capture prevents callback from being invoked when the event's eventPhase attribute value is BUBBLING_PHASE. When false (or not present), callback will not be invoked when event's eventPhase attribute value is CAPTURING_PHASE. Either way, callback will be invoked if event's eventPhase attribute value is AT_TARGET. When set to true, options's passive indicates that the callback will not cancel the event by invoking preventDefault(). This is used to enable performance optimizations described in  2.8 Observing event listeners. When set to true, options's once indicates that the callback will only be invoked once after which the event listener will be removed. The event listener is appended to target's event listener list and is not appended if it has the same type, callback, and capture.
addEventListener	(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions) => void	Appends an event listener for events whose type attribute value is type. The callback argument sets the callback that will be invoked when the event is dispatched. The options argument sets listener-specific options. For compatibility this can be a boolean, in which case the method behaves exactly as if the value was specified as options's capture. When set to true, options's capture prevents callback from being invoked when the event's eventPhase attribute value is BUBBLING_PHASE. When false (or not present), callback will not be invoked when event's eventPhase attribute value is CAPTURING_PHASE. Either way, callback will be invoked if event's eventPhase attribute value is AT_TARGET. When set to true, options's passive indicates that the callback will not cancel the event by invoking preventDefault(). This is used to enable performance optimizations described in  2.8 Observing event listeners. When set to true, options's once indicates that the callback will only be invoked once after which the event listener will be removed. The event listener is appended to target's event listener list and is not appended if it has the same type, callback, and capture.
removeEventListener	<K extends "abort">(type: K, listener: (this: AbortSignal, ev: AbortSignalEventMap[K]) => any, options?: boolean | EventListenerOptions) => void	Removes the event listener in target's event listener list with the same type, callback, and options.
removeEventListener	(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions) => void	Removes the event listener in target's event listener list with the same type, callback, and options.
AbortSignalEventMap
Prop	Type
"abort"	

Event

Event

An event which takes place in the DOM.
Prop	Type	Description
bubbles	boolean	Returns true or false depending on how event was initialized. True if event goes through its target's ancestors in reverse tree order, and false otherwise.
cancelBubble	boolean	
cancelable	boolean	Returns true or false depending on how event was initialized. Its return value does not always carry meaning, but true can indicate that part of the operation during which event was dispatched, can be canceled by invoking the preventDefault() method.
composed	boolean	Returns true or false depending on how event was initialized. True if event invokes listeners past a ShadowRoot node that is the root of its target, and false otherwise.
currentTarget	

EventTarget

	Returns the object whose event listener's callback is currently being invoked.
defaultPrevented	boolean	Returns true if preventDefault() was invoked successfully to indicate cancelation, and false otherwise.
eventPhase	number	Returns the event's phase, which is one of NONE, CAPTURING_PHASE, AT_TARGET, and BUBBLING_PHASE.
isTrusted	boolean	Returns true if event was dispatched by the user agent, and false otherwise.
returnValue	boolean	
srcElement	

EventTarget

	
target	

EventTarget

	Returns the object to which event is dispatched (its target).
timeStamp	number	Returns the event's timestamp as the number of milliseconds measured relative to the time origin.
type	string	Returns the type of event, e.g. "click", "hashchange", or "submit".
AT_TARGET	number	
BUBBLING_PHASE	number	
CAPTURING_PHASE	number	
NONE	number	
Method	Signature	Description
composedPath	() => EventTarget[]	Returns the invocation target objects of event's path (objects on which listeners will be invoked), except for any nodes in shadow trees of which the shadow root's mode is "closed" that are not reachable from event's currentTarget.
initEvent	(type: string, bubbles?: boolean, cancelable?: boolean) => void	
preventDefault	() => void	If invoked when the cancelable attribute value is true, and while executing a listener for the event with passive set to false, signals to the operation that caused event to be dispatched that it needs to be canceled.
stopImmediatePropagation	() => void	Invoking this method prevents event from reaching any registered event listeners after the current one finishes running and, when dispatched in a tree, also prevents event from reaching any other objects.
stopPropagation	() => void	When dispatched in a tree, invoking this method prevents event from reaching any objects other than the current object.
EventTarget

EventTarget is a DOM interface implemented by objects that can receive events and may have listeners for them. EventTarget is a DOM interface implemented by objects that can receive events and may have listeners for them.
Method	Signature	Description
addEventListener	(type: string, listener: EventListenerOrEventListenerObject | null, options?: boolean | AddEventListenerOptions) => void	Appends an event listener for events whose type attribute value is type. The callback argument sets the callback that will be invoked when the event is dispatched. The options argument sets listener-specific options. For compatibility this can be a boolean, in which case the method behaves exactly as if the value was specified as options's capture. When set to true, options's capture prevents callback from being invoked when the event's eventPhase attribute value is BUBBLING_PHASE. When false (or not present), callback will not be invoked when event's eventPhase attribute value is CAPTURING_PHASE. Either way, callback will be invoked if event's eventPhase attribute value is AT_TARGET. When set to true, options's passive indicates that the callback will not cancel the event by invoking preventDefault(). This is used to enable performance optimizations described in  2.8 Observing event listeners. When set to true, options's once indicates that the callback will only be invoked once after which the event listener will be removed. The event listener is appended to target's event listener list and is not appended if it has the same type, callback, and capture.
dispatchEvent	(event: Event) => boolean	Dispatches a synthetic event event to target and returns true if either event's cancelable attribute value is false or its preventDefault() method was not invoked, and false otherwise.
removeEventListener	(type: string, callback: EventListenerOrEventListenerObject | null, options?: EventListenerOptions | boolean) => void	Removes the event listener in target's event listener list with the same type, callback, and options.
EventListener
EventListenerObject
Method	Signature
handleEvent	(evt: Event) => void
AddEventListenerOptions
Prop	Type
once	boolean
passive	boolean
EventListenerOptions
Prop	Type
capture	boolean
ArrayBufferView
Prop	Type	Description
buffer	

ArrayBufferLike

	The ArrayBuffer instance referenced by the array.
byteLength	number	The length in bytes of the array.
byteOffset	number	The offset in bytes of the array.
ArrayBufferTypes

Allowed ArrayBuffer types for the buffer of an ArrayBufferView and related Typed Arrays.
Prop	Type
ArrayBuffer	

ArrayBuffer

FormData

Provides a way to easily construct a set of key/value pairs representing form fields and their values, which can then be easily sent using the XMLHttpRequest.send() method. It uses the same format a form would use if the encoding type were set to "multipart/form-data".
Method	Signature
append	(name: string, value: string | Blob, fileName?: string) => void
delete	(name: string) => void
get	(name: string) => FormDataEntryValue | null
getAll	(name: string) => FormDataEntryValue[]
has	(name: string) => boolean
set	(name: string, value: string | Blob, fileName?: string) => void
forEach	(callbackfn: (value: FormDataEntryValue, key: string, parent: FormData) => void, thisArg?: any) => void
File

Provides information about files and allows JavaScript in a web page to access their content.
Prop	Type
lastModified	number
name	string
URLSearchParams

URLSearchParams class is a global reference for require('url').URLSearchParams https://nodejs.org/api/url.html#class-urlsearchparams
Method	Signature	Description
append	(name: string, value: string) => void	Appends a specified key/value pair as a new search parameter.
delete	(name: string) => void	Deletes the given search parameter, and its associated value, from the list of all search parameters.
get	(name: string) => string | null	Returns the first value associated to the given search parameter.
getAll	(name: string) => string[]	Returns all the values association with a given search parameter.
has	(name: string) => boolean	Returns a Boolean indicating if such a search parameter exists.
set	(name: string, value: string) => void	Sets the value associated to a given search parameter to the given value. If there were several values, delete the others.
sort	() => void	
toString	() => string	Returns a string containing a query string suitable for use in a URL. Does not include the question mark.
forEach	(callbackfn: (value: string, key: string, parent: URLSearchParams) => void, thisArg?: any) => void	
Uint8Array

A typed array of 8-bit unsigned integer values. The contents are initialized to 0. If the requested number of bytes could not be allocated an exception is raised.
Prop	Type	Description
BYTES_PER_ELEMENT	number	The size in bytes of each element in the array.
buffer	

ArrayBufferLike

	The ArrayBuffer instance referenced by the array.
byteLength	number	The length in bytes of the array.
byteOffset	number	The offset in bytes of the array.
length	number	The length of the array.
Method	Signature	Description
copyWithin	(target: number, start: number, end?: number) => this	Returns the this object after copying a section of the array identified by start and end to the same array starting at position target
every	(predicate: (value: number, index: number, array: Uint8Array) => unknown, thisArg?: any) => boolean	Determines whether all the members of an array satisfy the specified test.
fill	(value: number, start?: number, end?: number) => this	Returns the this object after filling the section identified by start and end with value
filter	(predicate: (value: number, index: number, array: Uint8Array) => any, thisArg?: any) => Uint8Array	Returns the elements of an array that meet the condition specified in a callback function.
find	(predicate: (value: number, index: number, obj: Uint8Array) => boolean, thisArg?: any) => number | undefined	Returns the value of the first element in the array where predicate is true, and undefined otherwise.
findIndex	(predicate: (value: number, index: number, obj: Uint8Array) => boolean, thisArg?: any) => number	Returns the index of the first element in the array where predicate is true, and -1 otherwise.
forEach	(callbackfn: (value: number, index: number, array: Uint8Array) => void, thisArg?: any) => void	Performs the specified action for each element in an array.
indexOf	(searchElement: number, fromIndex?: number) => number	Returns the index of the first occurrence of a value in an array.
join	(separator?: string) => string	Adds all the elements of an array separated by the specified separator string.
lastIndexOf	(searchElement: number, fromIndex?: number) => number	Returns the index of the last occurrence of a value in an array.
map	(callbackfn: (value: number, index: number, array: Uint8Array) => number, thisArg?: any) => Uint8Array	Calls a defined callback function on each element of an array, and returns an array that contains the results.
reduce	(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint8Array) => number) => number	Calls the specified callback function for all the elements in an array. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.
reduce	(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint8Array) => number, initialValue: number) => number	
reduce	<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Uint8Array) => U, initialValue: U) => U	Calls the specified callback function for all the elements in an array. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.
reduceRight	(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint8Array) => number) => number	Calls the specified callback function for all the elements in an array, in descending order. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.
reduceRight	(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint8Array) => number, initialValue: number) => number	
reduceRight	<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Uint8Array) => U, initialValue: U) => U	Calls the specified callback function for all the elements in an array, in descending order. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.
reverse	() => Uint8Array	Reverses the elements in an Array.
set	(array: ArrayLike<number>, offset?: number) => void	Sets a value or an array of values.
slice	(start?: number, end?: number) => Uint8Array	Returns a section of an array.
some	(predicate: (value: number, index: number, array: Uint8Array) => unknown, thisArg?: any) => boolean	Determines whether the specified callback function returns true for any element of an array.
sort	(compareFn?: (a: number, b: number) => number) => this	Sorts an array.
subarray	(begin?: number, end?: number) => Uint8Array	Gets a new Uint8Array view of the ArrayBuffer store for this array, referencing the elements at begin, inclusive, up to end, exclusive.
toLocaleString	() => string	Converts a number to a string by using the current locale.
toString	() => string	Returns a string representation of an array.
valueOf	() => Uint8Array	Returns the primitive value of the specified object.
ArrayLike
Prop	Type
length	number
Headers

This Fetch API interface allows you to perform various actions on HTTP request and response headers. These actions include retrieving, setting, adding to, and removing. A Headers object has an associated header list, which is initially empty and consists of zero or more name and value pairs.  You can add to this using methods like append() (see Examples.) In all methods of this interface, header names are matched by case-insensitive byte sequence.
Method	Signature
append	(name: string, value: string) => void
delete	(name: string) => void
get	(name: string) => string | null
has	(name: string) => boolean
set	(name: string, value: string) => void
forEach	(callbackfn: (value: string, key: string, parent: Headers) => void, thisArg?: any) => void
Type Aliases
BodyInit

Blob | BufferSource | FormData | URLSearchParams | ReadableStream<Uint8Array> | string

ReadableStreamDefaultReadResult

ReadableStreamDefaultReadValueResult<T> | ReadableStreamDefaultReadDoneResult

EventListenerOrEventListenerObject

EventListener | EventListenerObject

BufferSource

ArrayBufferView | ArrayBuffer

ArrayBufferLike

ArrayBufferTypes[keyof ArrayBufferTypes]
FormDataEntryValue

File | string

RequestCache

"default" | "force-cache" | "no-cache" | "no-store" | "only-if-cached" | "reload"
RequestCredentials

"include" | "omit" | "same-origin"
HeadersInit

Headers | string[][] | Record<string, string>

Record

Construct a type with a set of properties K of type T

{ [P in K]: T; }
RequestMode

"cors" | "navigate" | "no-cors" | "same-origin"
RequestRedirect

"error" | "follow" | "manual"
ReferrerPolicy

"" | "no-referrer" | "no-referrer-when-downgrade" | "origin" | "origin-when-cross-origin" | "same-origin" | "strict-origin" | "strict-origin-when-cross-origin" | "unsafe-url"
HttpResponseType

How to parse the Http response before returning it to the client.

'arraybuffer' | 'blob' | 'json' | 'text' | 'document'

@capacitor/inappbrowser

The InAppBrowser Plugin provides a web browser view that allows you to load any web page externally. It behaves as a standard web browser and is useful to load untrusted content without risking your application's security. It offers three different ways to open URLs; in a WebView, in an in-app system browser (Custom Tabs for Android and SFSafariViewController for iOS), and in the device's default browser.
Install

npm install @capacitor/inappbrowser
npx cap sync

Supported Platforms

    iOS
    Android

Android

The InAppBrowser plugin requires a minimum Android SDK target of 26. This is higher than the default that comes with your Capacitor application. You can update this value in your android/variables.gradle file.

ext {
    minSdkVersion = 26
}

Usage Example
Open In External Browser

import { InAppBrowser } from '@capacitor/inappbrowser';
await InAppBrowser.openInExternalBrowser({
    url: "https://www.google.com"
});

Open In System Browser (Custom Tabs for Android, SFSafariViewController for iOS)

import { InAppBrowser, DefaultSystemBrowserOptions } from '@capacitor/inappbrowser';
await InAppBrowser.openInSystemBrowser({
    url: "https://www.google.com",
    options: DefaultSystemBrowserOptions
});

Open In Web View

import { InAppBrowser, DefaultWebViewOptions } from '@capacitor/inappbrowser';
await InAppBrowser.openInWebView({
    url: "https://www.google.com",
    options: DefaultWebViewOptions
});

Close (Web View or System Browser)

import { InAppBrowser } from '@capacitor/inappbrowser';
await InAppBrowser.close();

Add Listeners

import { InAppBrowser } from '@capacitor/inappbrowser';
await InAppBrowser.addListener('browserClosed', () => {
    console.log("browser was closed.");
});

await InAppBrowser.addListener('browserPageNavigationCompleted', (data) => {
    console.log("browser page navigation was completed. " + data.url);
});

await InAppBrowser.addListener('browserPageLoaded', () => {
    console.log("browser was loaded.");
});

Remove All Listeners

import { InAppBrowser } from '@capacitor/inappbrowser';
InAppBrowser.removeAllListeners();

API

    openInWebView(...)
    openInSystemBrowser(...)
    openInExternalBrowser(...)
    close()
    addListener('browserClosed' | 'browserPageLoaded', ...)
    addListener('browserPageNavigationCompleted', ...)
    removeAllListeners()
    Interfaces
    Enums

openInWebView(...)

openInWebView(model: OpenInWebViewParameterModel) => Promise<void>

Opens the web content of the given URL in your mobile app using a custom web view within your application.
Param	Type	Description
model	

OpenInWebViewParameterModel

	The parameters to open the URL in the web view
openInSystemBrowser(...)

openInSystemBrowser(model: OpenInSystemBrowserParameterModel) => Promise<void>

Opens the web content of the given URL in your mobile app, using SafariViewController for iOS and Custom Tabs for Android.
Param	Type	Description
model	

OpenInSystemBrowserParameterModel

	The parameters to open the URL in the system browser
openInExternalBrowser(...)

openInExternalBrowser(model: OpenInDefaultParameterModel) => Promise<void>

Opens the web content of the given URL in a separate browser, outside of your mobile application.
Param	Type	Description
model	

OpenInDefaultParameterModel

	The parameters to open the URL in the external browser
close()

close() => Promise<void>

Closes the currently active browser. It can be used to close browsers launched through the openInSystemBrowser or openInWebView actions.
addListener('browserClosed' | 'browserPageLoaded', ...)

addListener(eventName: 'browserClosed' | 'browserPageLoaded', listenerFunc: () => void) => Promise<PluginListenerHandle>

Adds a listener for the specified browser events, with no data being returned.
Param	Type	Description
eventName	'browserClosed' | 'browserPageLoaded'	The name of the browser event to listen for: 'browserClosed' or 'browserPageLoaded'.
listenerFunc	() => void	The function to be called when the event occurs.

Returns:

Promise<PluginListenerHandle>

addListener('browserPageNavigationCompleted', ...)

addListener(eventName: 'browserPageNavigationCompleted', listenerFunc: (data: BrowserPageNavigationCompletedEventData) => void) => Promise<PluginListenerHandle>

Adds a listener for the specified browser event, which receives data.
Param	Type	Description
eventName	'browserPageNavigationCompleted'	The name of the browser event to listen for: 'browserPageNavigationCompleted'. Applies only to openInWebView.
listenerFunc	

(data: BrowserPageNavigationCompletedEventData) => void

	The function to be called when the event occurs.

Returns:

Promise<PluginListenerHandle>

removeAllListeners()

removeAllListeners() => void

Removes all listeners for the browser events.
Interfaces
OpenInWebViewParameterModel

Defines the options for opening a URL in the web view.
Prop	Type	Description
options	

WebViewOptions

	A structure containing some configurations to apply to the Web View.
customHeaders	{ [key: string]: string; }	A map of custom headers to be sent with the request.
WebViewOptions
Prop	Type	Description
showURL	boolean	Displays the URL on the Web View.
showToolbar	boolean	Displays the toolbar on the Web View.
clearCache	boolean	Clears the Web View's cookie cache before a new window is opened.
clearSessionCache	boolean	Clears the session cookie cache before a new window is opened.
mediaPlaybackRequiresUserAction	boolean	Prevents HTML5 audio or video from auto-playing.
closeButtonText	string	Sets the text to display on the Close button on the Web View.
toolbarPosition	

ToolbarPosition

	Sets the position to display the Toolbar on the Web View.
showNavigationButtons	boolean	Displays the navigation buttons.
leftToRight	boolean	Swaps the positions of the navigation buttons and the close button.
customWebViewUserAgent	string | null	Sets a custom user agent to open the Web View with. If empty or not set, the parameter will be ignored.
android	

AndroidWebViewOptions

	Android-specific Web View options.
iOS	

iOSWebViewOptions

	iOS-specific Web View options.
AndroidWebViewOptions
Prop	Type	Description
allowZoom	boolean	Shows the Android browser's zoom controls.
hardwareBack	boolean	Uses the hardware back button to navigate backwards through the Web View's history. If there is no previous page, the Web View will close.
pauseMedia	boolean	Makes the Web View pause/resume with the app to stop background audio.
iOSWebViewOptions
Prop	Type	Description
allowOverScroll	boolean	Turns on the Web View bounce property.
enableViewportScale	boolean	Prevents viewport scaling through a meta tag.
allowInLineMediaPlayback	boolean	Allows in-line HTML5 media playback, displaying within the browser window rather than a device-specific playback interface. Note: The HTML's video element must also include the webkit-playsinline attribute.
surpressIncrementalRendering	boolean	Waits until all new view content is received before being rendered.
viewStyle	

iOSViewStyle

	Sets the presentation style of the Web View.
animationEffect	

iOSAnimation

	Sets the transition style of the Web View.
allowsBackForwardNavigationGestures	boolean	Enables back and forward swipe gestures in the Web View.
OpenInSystemBrowserParameterModel

Defines the options for opening a URL in the system browser.
Prop	Type	Description
options	

SystemBrowserOptions

	A structure containing some configurations to apply to the System Browser.
SystemBrowserOptions
Prop	Type	Description
android	

AndroidSystemBrowserOptions

	Android-specific System Browser options.
iOS	

iOSSystemBrowserOptions

	iOS-specific System Browser options.
AndroidSystemBrowserOptions
Prop	Type	Description
showTitle	boolean	Enables the title display.
hideToolbarOnScroll	boolean	Hides the toolbar when scrolling.
viewStyle	

AndroidViewStyle

	Sets the presentation style of CustomTabs.
bottomSheetOptions	

AndroidBottomSheet

	Sets the options for the bottom sheet when this is selected as the viewStyle. If viewStyle is FULL_SCREEN, this will be ignored.
startAnimation	

AndroidAnimation

	Sets the start animation for when the browser appears.
exitAnimation	

AndroidAnimation

	Sets the exit animation for when the browser disappears.
AndroidBottomSheet
Prop	Type	Description
height	number	Sets the height of the bottom sheet, in pixels. Custom tabs will set the bottom height to at least 50% of the screen. If no value is passed, it will default to the minimum value.
isFixed	boolean	Sets whether the bottom sheet is fixed.
iOSSystemBrowserOptions
Prop	Type	Description
closeButtonText	

DismissStyle

	Sets a text to use as the close button's caption.
viewStyle	

iOSViewStyle

	Sets the presentation style of SafariViewController.
animationEffect	

iOSAnimation

	Sets the transition style of SafariViewController.
enableBarsCollapsing	boolean	Enables bars to collapse on scrolling down.
enableReadersMode	boolean	Enables readers mode.
OpenInDefaultParameterModel

Defines the options for opening a URL in the external browser and used by the others.
Prop	Type	Description
url	string	The URL to be opened. It must contain either 'http' or 'https' as the protocol prefix.
PluginListenerHandle
Prop	Type
remove	() => Promise<void>
BrowserPageNavigationCompletedEventData

Defines the data for the 'browserPageNavigationCompleted' event.
Prop	Type	Description
url	string	The URL of the page that was loaded.
Enums
ToolbarPosition
Members
TOP
BOTTOM
iOSViewStyle
Members
PAGE_SHEET
FORM_SHEET
FULL_SCREEN
iOSAnimation
Members
FLIP_HORIZONTAL
CROSS_DISSOLVE
COVER_VERTICAL
AndroidViewStyle
Members
BOTTOM_SHEET
FULL_SCREEN
AndroidAnimation
Members
FADE_IN
FADE_OUT
SLIDE_IN_LEFT
SLIDE_OUT_RIGHT
DismissStyle
Members
CLOSE
CANCEL
DONE


@capacitor/keyboard

The Keyboard API provides keyboard display and visibility control, along with event tracking when the keyboard shows and hides.
Install

npm install @capacitor/keyboard
npx cap sync

Example

import { Keyboard } from '@capacitor/keyboard';

Keyboard.addListener('keyboardWillShow', info => {
  console.log('keyboard will show with height:', info.keyboardHeight);
});

Keyboard.addListener('keyboardDidShow', info => {
  console.log('keyboard did show with height:', info.keyboardHeight);
});

Keyboard.addListener('keyboardWillHide', () => {
  console.log('keyboard will hide');
});

Keyboard.addListener('keyboardDidHide', () => {
  console.log('keyboard did hide');
});

Configuration

On iOS, the keyboard can be configured with the following options:
Prop	Type	Description	Default	Since
resize	

KeyboardResize

	Configure the way the app is resized when the Keyboard appears. Only available on iOS.	native	1.0.0
style	

KeyboardStyle

	Override the keyboard style if your app doesn't support dark/light theme changes. If not set, the keyboard style will depend on the device appearance. Only available on iOS.		1.0.0
resizeOnFullScreen	boolean	There is an Android bug that prevents the keyboard from resizing the WebView when the app is in full screen (i.e. if StatusBar plugin is used to overlay the status bar). This setting, if set to true, add a workaround that resizes the WebView even when the app is in full screen. Only available for Android		1.1.0
Examples

In capacitor.config.json:

{
  "plugins": {
    "Keyboard": {
      "resize": "body",
      "style": "DARK",
      "resizeOnFullScreen": true
    }
  }
}

In capacitor.config.ts:

/// <reference types="@capacitor/keyboard" />

import { CapacitorConfig } from '@capacitor/cli';
import { KeyboardResize, KeyboardStyle } from '@capacitor/keyboard';

const config: CapacitorConfig = {
  plugins: {
    Keyboard: {
      resize: KeyboardResize.Body,
      style: KeyboardStyle.Dark,
      resizeOnFullScreen: true,
    },
  },
};

export default config;

Compatibility with cordova-plugin-ionic-keyboard

To maintain compatibility with cordova-plugin-ionic-keyboard, the following events also work with window.addEventListener:

    keyboardWillShow
    keyboardDidShow
    keyboardWillHide
    keyboardDidHide

API

    show()
    hide()
    setAccessoryBarVisible(...)
    setScroll(...)
    setStyle(...)
    setResizeMode(...)
    getResizeMode()
    addListener('keyboardWillShow', ...)
    addListener('keyboardDidShow', ...)
    addListener('keyboardWillHide', ...)
    addListener('keyboardDidHide', ...)
    removeAllListeners()
    Interfaces
    Enums

show()

show() => Promise<void>

Show the keyboard. This method is alpha and may have issues.

This method is only supported on Android.

Since: 1.0.0
hide()

hide() => Promise<void>

Hide the keyboard.

Since: 1.0.0
setAccessoryBarVisible(...)

setAccessoryBarVisible(options: { isVisible: boolean; }) => Promise<void>

Set whether the accessory bar should be visible on the keyboard. We recommend disabling the accessory bar for short forms (login, signup, etc.) to provide a cleaner UI.

This method is only supported on iPhone devices.
Param	Type
options	{ isVisible: boolean; }

Since: 1.0.0
setScroll(...)

setScroll(options: { isDisabled: boolean; }) => Promise<void>

Programmatically enable or disable the WebView scroll.

This method is only supported on iOS.
Param	Type
options	{ isDisabled: boolean; }

Since: 1.0.0
setStyle(...)

setStyle(options: KeyboardStyleOptions) => Promise<void>

Programmatically set the keyboard style.

This method is only supported on iOS.
Param	Type
options	

KeyboardStyleOptions

Since: 1.0.0
setResizeMode(...)

setResizeMode(options: KeyboardResizeOptions) => Promise<void>

Programmatically set the resize mode.

This method is only supported on iOS.
Param	Type
options	

KeyboardResizeOptions

Since: 1.0.0
getResizeMode()

getResizeMode() => Promise<KeyboardResizeOptions>

Get the currently set resize mode.

This method is only supported on iOS.

Returns:

Promise<KeyboardResizeOptions>

Since: 4.0.0
addListener('keyboardWillShow', ...)

addListener(eventName: 'keyboardWillShow', listenerFunc: (info: KeyboardInfo) => void) => Promise<PluginListenerHandle>

Listen for when the keyboard is about to be shown.

On Android keyboardWillShow and keyboardDidShow fire almost at the same time.
Param	Type
eventName	'keyboardWillShow'
listenerFunc	

(info: KeyboardInfo) => void

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
addListener('keyboardDidShow', ...)

addListener(eventName: 'keyboardDidShow', listenerFunc: (info: KeyboardInfo) => void) => Promise<PluginListenerHandle>

Listen for when the keyboard is shown.

On Android keyboardWillShow and keyboardDidShow fire almost at the same time.
Param	Type
eventName	'keyboardDidShow'
listenerFunc	

(info: KeyboardInfo) => void

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
addListener('keyboardWillHide', ...)

addListener(eventName: 'keyboardWillHide', listenerFunc: () => void) => Promise<PluginListenerHandle>

Listen for when the keyboard is about to be hidden.

On Android keyboardWillHide and keyboardDidHide fire almost at the same time.
Param	Type
eventName	'keyboardWillHide'
listenerFunc	() => void

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
addListener('keyboardDidHide', ...)

addListener(eventName: 'keyboardDidHide', listenerFunc: () => void) => Promise<PluginListenerHandle>

Listen for when the keyboard is hidden.

On Android keyboardWillHide and keyboardDidHide fire almost at the same time.
Param	Type
eventName	'keyboardDidHide'
listenerFunc	() => void

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
removeAllListeners()

removeAllListeners() => Promise<void>

Remove all native listeners for this plugin.

Since: 1.0.0
Interfaces
KeyboardStyleOptions
Prop	Type	Description	Default	Since
style	

KeyboardStyle

	Style of the keyboard.	KeyboardStyle.Default	1.0.0
KeyboardResizeOptions
Prop	Type	Description	Since
mode	

KeyboardResize

	Mode used to resize elements when the keyboard appears.	1.0.0
PluginListenerHandle
Prop	Type
remove	() => Promise<void>
KeyboardInfo
Prop	Type	Description	Since
keyboardHeight	number	Height of the heyboard.	1.0.0
Enums
KeyboardStyle
Members	Value	Description	Since
Dark	'DARK'	Dark keyboard.	1.0.0
Light	'LIGHT'	Light keyboard.	1.0.0
Default	'DEFAULT'	On iOS 13 and newer the keyboard style is based on the device appearance. If the device is using Dark mode, the keyboard will be dark. If the device is using Light mode, the keyboard will be light. On iOS 12 the keyboard will be light.	1.0.0
KeyboardResize
Members	Value	Description	Since
Body	'body'	Only the body HTML element will be resized. Relative units are not affected, because the viewport does not change.	1.0.0
Ionic	'ionic'	Only the ion-app HTML element will be resized. Use it only for Ionic Framework apps.	1.0.0
Native	'native'	The whole native Web View will be resized when the keyboard shows/hides. This affects the vh relative unit.	1.0.0
None	'none'	Neither the app nor the Web View are resized.	1.0.0

@capacitor/local-notifications

The Local Notifications API provides a way to schedule device notifications locally (i.e. without a server sending push notifications).
Install

npm install @capacitor/local-notifications
npx cap sync

Android

Android 13 requires a permission check in order to send notifications. You are required to call checkPermissions() and requestPermissions() accordingly.

On Android 12 and older it won't show a prompt and will just return as granted.

Starting on Android 12, scheduled notifications won't be exact unless this permission is added to your AndroidManifest.xml:

<uses-permission android:name="android.permission.SCHEDULE_EXACT_ALARM" />

Note that even if the permission is present, users can still disable exact notifications from the app settings. Use checkExactNotificationSetting() to check the the value of the setting. If a user disables this setting, the app will restart and any notification scheduled with an exact alarm will be deleted. If your application depends on exact alarms, be sure to check this setting on app launch (for example, in App.appStateChange) in order to provide fallbacks or alternative behavior.

On Android 14, there is a new permission called USE_EXACT_ALARM. Use this permission to use exact alarms without needing to request permission from the user. This should only be used if the use of exact alarms is central to your app's functionality. Read more about the implications of using this permission here.

From Android 15 onwards, users can install an app in the Private space. Users can lock their private space at any time, which means that push notifications are not shown until the user unlocks it.

It is not possible to detect if an app is installed in the private space. Therefore, if your app shows any critical notifications, inform your users to avoid installing the app in the private space.

For more information about the behavior changes of your app related to the private space, refer to Android documentation.
Configuration

On Android, the Local Notifications can be configured with the following options:
Prop	Type	Description	Since
smallIcon	string	Set the default status bar icon for notifications. Icons should be placed in your app's res/drawable folder. The value for this option should be the drawable resource ID, which is the filename without an extension. Only available for Android.	1.0.0
iconColor	string	Set the default color of status bar icons for notifications. Only available for Android.	1.0.0
sound	string	Set the default notification sound for notifications. On Android 26+ it sets the default channel sound and can't be changed unless the app is uninstalled. If the audio file is not found, it will result in the default system sound being played on Android 21-25 and no sound on Android 26+. Only available for Android.	1.0.0
Examples

In capacitor.config.json:

{
  "plugins": {
    "LocalNotifications": {
      "smallIcon": "ic_stat_icon_config_sample",
      "iconColor": "#488AFF",
      "sound": "beep.wav"
    }
  }
}

In capacitor.config.ts:

/// <reference types="@capacitor/local-notifications" />

import { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  plugins: {
    LocalNotifications: {
      smallIcon: "ic_stat_icon_config_sample",
      iconColor: "#488AFF",
      sound: "beep.wav",
    },
  },
};

export default config;

Doze

If the device has entered Doze mode, your application may have restricted capabilities. If you need your notification to fire even during Doze, schedule your notification by using allowWhileIdle: true. Make use of allowWhileIdle judiciously, as these notifications can only fire once per 9 minutes, per app.
API

    schedule(...)
    getPending()
    registerActionTypes(...)
    cancel(...)
    areEnabled()
    getDeliveredNotifications()
    removeDeliveredNotifications(...)
    removeAllDeliveredNotifications()
    createChannel(...)
    deleteChannel(...)
    listChannels()
    checkPermissions()
    requestPermissions()
    changeExactNotificationSetting()
    checkExactNotificationSetting()
    addListener('localNotificationReceived', ...)
    addListener('localNotificationActionPerformed', ...)
    removeAllListeners()
    Interfaces
    Type Aliases
    Enums

schedule(...)

schedule(options: ScheduleOptions) => Promise<ScheduleResult>

Schedule one or more local notifications.
Param	Type
options	

ScheduleOptions

Returns:

Promise<ScheduleResult>

Since: 1.0.0
getPending()

getPending() => Promise<PendingResult>

Get a list of pending notifications.

Returns:

Promise<PendingResult>

Since: 1.0.0
registerActionTypes(...)

registerActionTypes(options: RegisterActionTypesOptions) => Promise<void>

Register actions to take when notifications are displayed.

Only available for iOS and Android.
Param	Type
options	

RegisterActionTypesOptions

Since: 1.0.0
cancel(...)

cancel(options: CancelOptions) => Promise<void>

Cancel pending notifications.
Param	Type
options	

CancelOptions

Since: 1.0.0
areEnabled()

areEnabled() => Promise<EnabledResult>

Check if notifications are enabled or not.

Returns:

Promise<EnabledResult>

Since: 1.0.0
getDeliveredNotifications()

getDeliveredNotifications() => Promise<DeliveredNotifications>

Get a list of notifications that are visible on the notifications screen.

Returns:

Promise<DeliveredNotifications>

Since: 4.0.0
removeDeliveredNotifications(...)

removeDeliveredNotifications(delivered: DeliveredNotifications) => Promise<void>

Remove the specified notifications from the notifications screen.
Param	Type
delivered	

DeliveredNotifications

Since: 4.0.0
removeAllDeliveredNotifications()

removeAllDeliveredNotifications() => Promise<void>

Remove all the notifications from the notifications screen.

Since: 4.0.0
createChannel(...)

createChannel(channel: Channel) => Promise<void>

Create a notification channel.

Only available for Android.
Param	Type
channel	

Channel

Since: 1.0.0
deleteChannel(...)

deleteChannel(args: { id: string; }) => Promise<void>

Delete a notification channel.

Only available for Android.
Param	Type
args	{ id: string; }

Since: 1.0.0
listChannels()

listChannels() => Promise<ListChannelsResult>

Get a list of notification channels.

Only available for Android.

Returns:

Promise<ListChannelsResult>

Since: 1.0.0
checkPermissions()

checkPermissions() => Promise<PermissionStatus>

Check permission to display local notifications.

Returns:

Promise<PermissionStatus>

Since: 1.0.0
requestPermissions()

requestPermissions() => Promise<PermissionStatus>

Request permission to display local notifications.

Returns:

Promise<PermissionStatus>

Since: 1.0.0
changeExactNotificationSetting()

changeExactNotificationSetting() => Promise<SettingsPermissionStatus>

Direct user to the application settings screen to configure exact alarms.

In the event that a user changes the settings from granted to denied, the application will restart and any notification scheduled with an exact alarm will be deleted.

On Android < 12, the user will NOT be directed to the application settings screen, instead this function will return granted.

Only available on Android.

Returns:

Promise<SettingsPermissionStatus>

Since: 6.0.0
checkExactNotificationSetting()

checkExactNotificationSetting() => Promise<SettingsPermissionStatus>

Check application setting for using exact alarms.

Only available on Android.

Returns:

Promise<SettingsPermissionStatus>

Since: 6.0.0
addListener('localNotificationReceived', ...)

addListener(eventName: 'localNotificationReceived', listenerFunc: (notification: LocalNotificationSchema) => void) => Promise<PluginListenerHandle>

Listen for when notifications are displayed.
Param	Type
eventName	'localNotificationReceived'
listenerFunc	

(notification: LocalNotificationSchema) => void

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
addListener('localNotificationActionPerformed', ...)

addListener(eventName: 'localNotificationActionPerformed', listenerFunc: (notificationAction: ActionPerformed) => void) => Promise<PluginListenerHandle>

Listen for when an action is performed on a notification.
Param	Type
eventName	'localNotificationActionPerformed'
listenerFunc	

(notificationAction: ActionPerformed) => void

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
removeAllListeners()

removeAllListeners() => Promise<void>

Remove all listeners for this plugin.

Since: 1.0.0
Interfaces
ScheduleResult
Prop	Type	Description	Since
notifications	LocalNotificationDescriptor[]	The list of scheduled notifications.	1.0.0
LocalNotificationDescriptor

The object that describes a local notification.
Prop	Type	Description	Since
id	number	The notification identifier.	1.0.0
ScheduleOptions
Prop	Type	Description	Since
notifications	LocalNotificationSchema[]	The list of notifications to schedule.	1.0.0
LocalNotificationSchema
Prop	Type	Description	Since
title	string	The title of the notification.	1.0.0
body	string	The body of the notification, shown below the title.	1.0.0
largeBody	string	Sets a multiline text block for display in a big text notification style.	1.0.0
summaryText	string	Used to set the summary text detail in inbox and big text notification styles. Only available for Android.	1.0.0
id	number	The notification identifier. On Android it's a 32-bit int. So the value should be between -2147483648 and 2147483647 inclusive.	1.0.0
schedule	

Schedule

	Schedule this notification for a later time.	1.0.0
sound	string	Name of the audio file to play when this notification is displayed. Include the file extension with the filename. On iOS, the file should be in the app bundle. On Android, the file should be in res/raw folder. Recommended format is .wav because is supported by both iOS and Android. Only available for iOS and Android < 26. For Android 26+ use channelId of a channel configured with the desired sound. If the sound file is not found, (i.e. empty string or wrong name) the default system notification sound will be used. If not provided, it will produce the default sound on Android and no sound on iOS.	1.0.0
smallIcon	string	Set a custom status bar icon. If set, this overrides the smallIcon option from Capacitor configuration. Icons should be placed in your app's res/drawable folder. The value for this option should be the drawable resource ID, which is the filename without an extension. Only available for Android.	1.0.0
largeIcon	string	Set a large icon for notifications. Icons should be placed in your app's res/drawable folder. The value for this option should be the drawable resource ID, which is the filename without an extension. Only available for Android.	1.0.0
iconColor	string	Set the color of the notification icon. Only available for Android.	1.0.0
attachments	Attachment[]	Set attachments for this notification.	1.0.0
actionTypeId	string	Associate an action type with this notification.	1.0.0
extra	any	Set extra data to store within this notification.	1.0.0
threadIdentifier	string	Used to group multiple notifications. Sets threadIdentifier on the UNMutableNotificationContent. Only available for iOS.	1.0.0
summaryArgument	string	The string this notification adds to the category's summary format string. Sets summaryArgument on the UNMutableNotificationContent. Only available for iOS.	1.0.0
group	string	Used to group multiple notifications. Calls setGroup() on NotificationCompat.Builder with the provided value. Only available for Android.	1.0.0
groupSummary	boolean	If true, this notification becomes the summary for a group of notifications. Calls setGroupSummary() on NotificationCompat.Builder with the provided value. Only available for Android when using group.	1.0.0
channelId	string	Specifies the channel the notification should be delivered on. If channel with the given name does not exist then the notification will not fire. If not provided, it will use the default channel. Calls setChannelId() on NotificationCompat.Builder with the provided value. Only available for Android 26+.	1.0.0
ongoing	boolean	If true, the notification can't be swiped away. Calls setOngoing() on NotificationCompat.Builder with the provided value. Only available for Android.	1.0.0
autoCancel	boolean	If true, the notification is canceled when the user clicks on it. Calls setAutoCancel() on NotificationCompat.Builder with the provided value. Only available for Android.	1.0.0
inboxList	string[]	Sets a list of strings for display in an inbox style notification. Up to 5 strings are allowed. Only available for Android.	1.0.0
silent	boolean	If true, notification will not appear while app is in the foreground. Only available for iOS.	5.0.0
Schedule

Represents a schedule for a notification.

Use either at, on, or every to schedule notifications.
Prop	Type	Description	Since
at	

Date

	Schedule a notification at a specific date and time.	1.0.0
repeats	boolean	Repeat delivery of this notification at the date and time specified by at. Only available for iOS and Android.	1.0.0
allowWhileIdle	boolean	Allow this notification to fire while in Doze Only available for Android 23+. Note that these notifications can only fire once per 9 minutes, per app.	1.0.0
on	

ScheduleOn

	Schedule a notification on particular interval(s). This is similar to scheduling cron jobs. Only available for iOS and Android.	1.0.0
every	

ScheduleEvery

	Schedule a notification on a particular interval.	1.0.0
count	number	Limit the number times a notification is delivered by the interval specified by every.	1.0.0
Date

Enables basic storage and retrieval of dates and times.
Method	Signature	Description
toString	() => string	Returns a string representation of a date. The format of the string depends on the locale.
toDateString	() => string	Returns a date as a string value.
toTimeString	() => string	Returns a time as a string value.
toLocaleString	() => string	Returns a value as a string value appropriate to the host environment's current locale.
toLocaleDateString	() => string	Returns a date as a string value appropriate to the host environment's current locale.
toLocaleTimeString	() => string	Returns a time as a string value appropriate to the host environment's current locale.
valueOf	() => number	Returns the stored time value in milliseconds since midnight, January 1, 1970 UTC.
getTime	() => number	Gets the time value in milliseconds.
getFullYear	() => number	Gets the year, using local time.
getUTCFullYear	() => number	Gets the year using Universal Coordinated Time (UTC).
getMonth	() => number	Gets the month, using local time.
getUTCMonth	() => number	Gets the month of a Date object using Universal Coordinated Time (UTC).
getDate	() => number	Gets the day-of-the-month, using local time.
getUTCDate	() => number	Gets the day-of-the-month, using Universal Coordinated Time (UTC).
getDay	() => number	Gets the day of the week, using local time.
getUTCDay	() => number	Gets the day of the week using Universal Coordinated Time (UTC).
getHours	() => number	Gets the hours in a date, using local time.
getUTCHours	() => number	Gets the hours value in a Date object using Universal Coordinated Time (UTC).
getMinutes	() => number	Gets the minutes of a Date object, using local time.
getUTCMinutes	() => number	Gets the minutes of a Date object using Universal Coordinated Time (UTC).
getSeconds	() => number	Gets the seconds of a Date object, using local time.
getUTCSeconds	() => number	Gets the seconds of a Date object using Universal Coordinated Time (UTC).
getMilliseconds	() => number	Gets the milliseconds of a Date, using local time.
getUTCMilliseconds	() => number	Gets the milliseconds of a Date object using Universal Coordinated Time (UTC).
getTimezoneOffset	() => number	Gets the difference in minutes between the time on the local computer and Universal Coordinated Time (UTC).
setTime	(time: number) => number	Sets the date and time value in the Date object.
setMilliseconds	(ms: number) => number	Sets the milliseconds value in the Date object using local time.
setUTCMilliseconds	(ms: number) => number	Sets the milliseconds value in the Date object using Universal Coordinated Time (UTC).
setSeconds	(sec: number, ms?: number | undefined) => number	Sets the seconds value in the Date object using local time.
setUTCSeconds	(sec: number, ms?: number | undefined) => number	Sets the seconds value in the Date object using Universal Coordinated Time (UTC).
setMinutes	(min: number, sec?: number | undefined, ms?: number | undefined) => number	Sets the minutes value in the Date object using local time.
setUTCMinutes	(min: number, sec?: number | undefined, ms?: number | undefined) => number	Sets the minutes value in the Date object using Universal Coordinated Time (UTC).
setHours	(hours: number, min?: number | undefined, sec?: number | undefined, ms?: number | undefined) => number	Sets the hour value in the Date object using local time.
setUTCHours	(hours: number, min?: number | undefined, sec?: number | undefined, ms?: number | undefined) => number	Sets the hours value in the Date object using Universal Coordinated Time (UTC).
setDate	(date: number) => number	Sets the numeric day-of-the-month value of the Date object using local time.
setUTCDate	(date: number) => number	Sets the numeric day of the month in the Date object using Universal Coordinated Time (UTC).
setMonth	(month: number, date?: number | undefined) => number	Sets the month value in the Date object using local time.
setUTCMonth	(month: number, date?: number | undefined) => number	Sets the month value in the Date object using Universal Coordinated Time (UTC).
setFullYear	(year: number, month?: number | undefined, date?: number | undefined) => number	Sets the year of the Date object using local time.
setUTCFullYear	(year: number, month?: number | undefined, date?: number | undefined) => number	Sets the year value in the Date object using Universal Coordinated Time (UTC).
toUTCString	() => string	Returns a date converted to a string using Universal Coordinated Time (UTC).
toISOString	() => string	Returns a date as a string value in ISO format.
toJSON	(key?: any) => string	Used by the JSON.stringify method to enable the transformation of an object's data for JavaScript Object Notation (JSON) serialization.
ScheduleOn
Prop	Type
year	number
month	number
day	number
weekday	

Weekday

hour	number
minute	number
second	number
Attachment

Represents a notification attachment.
Prop	Type	Description	Since
id	string	The attachment identifier.	1.0.0
url	string	The URL to the attachment. Use the res scheme to reference web assets, e.g. res:///assets/img/icon.png. Also accepts file URLs.	1.0.0
options	

AttachmentOptions

	Attachment options.	1.0.0
AttachmentOptions
Prop	Type	Description	Since
iosUNNotificationAttachmentOptionsTypeHintKey	string	Sets the UNNotificationAttachmentOptionsTypeHintKey key in the hashable options of UNNotificationAttachment. Only available for iOS.	1.0.0
iosUNNotificationAttachmentOptionsThumbnailHiddenKey	string	Sets the UNNotificationAttachmentOptionsThumbnailHiddenKey key in the hashable options of UNNotificationAttachment. Only available for iOS.	1.0.0
iosUNNotificationAttachmentOptionsThumbnailClippingRectKey	string	Sets the UNNotificationAttachmentOptionsThumbnailClippingRectKey key in the hashable options of UNNotificationAttachment. Only available for iOS.	1.0.0
iosUNNotificationAttachmentOptionsThumbnailTimeKey	string	Sets the UNNotificationAttachmentOptionsThumbnailTimeKey key in the hashable options of UNNotificationAttachment. Only available for iOS.	1.0.0
PendingResult
Prop	Type	Description	Since
notifications	PendingLocalNotificationSchema[]	The list of pending notifications.	1.0.0
PendingLocalNotificationSchema
Prop	Type	Description	Since
title	string	The title of the notification.	1.0.0
body	string	The body of the notification, shown below the title.	1.0.0
id	number	The notification identifier.	1.0.0
schedule	

Schedule

	Schedule this notification for a later time.	1.0.0
extra	any	Set extra data to store within this notification.	1.0.0
RegisterActionTypesOptions
Prop	Type	Description	Since
types	ActionType[]	The list of action types to register.	1.0.0
ActionType

A collection of actions.
Prop	Type	Description	Since
id	string	The ID of the action type. Referenced in notifications by the actionTypeId key.	1.0.0
actions	Action[]	The list of actions associated with this action type.	1.0.0
iosHiddenPreviewsBodyPlaceholder	string	Sets hiddenPreviewsBodyPlaceholder of the UNNotificationCategory. Only available for iOS.	1.0.0
iosCustomDismissAction	boolean	Sets customDismissAction in the options of the UNNotificationCategory. Only available for iOS.	1.0.0
iosAllowInCarPlay	boolean	Sets allowInCarPlay in the options of the UNNotificationCategory. Only available for iOS.	1.0.0
iosHiddenPreviewsShowTitle	boolean	Sets hiddenPreviewsShowTitle in the options of the UNNotificationCategory. Only available for iOS.	1.0.0
iosHiddenPreviewsShowSubtitle	boolean	Sets hiddenPreviewsShowSubtitle in the options of the UNNotificationCategory. Only available for iOS.	1.0.0
Action

An action that can be taken when a notification is displayed.
Prop	Type	Description	Since
id	string	The action identifier. Referenced in the 'actionPerformed' event as actionId.	1.0.0
title	string	The title text to display for this action.	1.0.0
requiresAuthentication	boolean	Sets authenticationRequired in the options of the UNNotificationAction. Only available for iOS.	1.0.0
foreground	boolean	Sets foreground in the options of the UNNotificationAction. Only available for iOS.	1.0.0
destructive	boolean	Sets destructive in the options of the UNNotificationAction. Only available for iOS.	1.0.0
input	boolean	Use a UNTextInputNotificationAction instead of a UNNotificationAction. Only available for iOS.	1.0.0
inputButtonTitle	string	Sets textInputButtonTitle on the UNTextInputNotificationAction. Only available for iOS when input is true.	1.0.0
inputPlaceholder	string	Sets textInputPlaceholder on the UNTextInputNotificationAction. Only available for iOS when input is true.	1.0.0
CancelOptions
Prop	Type	Description	Since
notifications	LocalNotificationDescriptor[]	The list of notifications to cancel.	1.0.0
EnabledResult
Prop	Type	Description	Since
value	boolean	Whether or not the device has local notifications enabled.	1.0.0
DeliveredNotifications
Prop	Type	Description	Since
notifications	DeliveredNotificationSchema[]	List of notifications that are visible on the notifications screen.	1.0.0
DeliveredNotificationSchema
Prop	Type	Description	Since
id	number	The notification identifier.	4.0.0
tag	string	The notification tag. Only available on Android.	4.0.0
title	string	The title of the notification.	4.0.0
body	string	The body of the notification, shown below the title.	4.0.0
group	string	The configured group of the notification. Only available for Android.	4.0.0
groupSummary	boolean	If this notification is the summary for a group of notifications. Only available for Android.	4.0.0
data	any	Any additional data that was included in the notification payload. Only available for Android.	4.0.0
extra	any	Extra data to store within this notification. Only available for iOS.	4.0.0
attachments	Attachment[]	The attachments for this notification. Only available for iOS.	1.0.0
actionTypeId	string	Action type ssociated with this notification. Only available for iOS.	4.0.0
schedule	

Schedule

	Schedule used to fire this notification. Only available for iOS.	4.0.0
sound	string	Sound that was used when the notification was displayed. Only available for iOS.	4.0.0
Channel
Prop	Type	Description	Default	Since
id	string	The channel identifier.		1.0.0
name	string	The human-friendly name of this channel (presented to the user).		1.0.0
description	string	The description of this channel (presented to the user).		1.0.0
sound	string	The sound that should be played for notifications posted to this channel. Notification channels with an importance of at least 3 should have a sound. The file name of a sound file should be specified relative to the android app res/raw directory. If the sound is not provided, or the sound file is not found no sound will be used.		1.0.0
importance	

Importance

	The level of interruption for notifications posted to this channel.	

3

	1.0.0
visibility	

Visibility

	The visibility of notifications posted to this channel. This setting is for whether notifications posted to this channel appear on the lockscreen or not, and if so, whether they appear in a redacted form.		1.0.0
lights	boolean	Whether notifications posted to this channel should display notification lights, on devices that support it.		1.0.0
lightColor	string	The light color for notifications posted to this channel. Only supported if lights are enabled on this channel and the device supports it. Supported color formats are #RRGGBB and #RRGGBBAA.		1.0.0
vibration	boolean	Whether notifications posted to this channel should vibrate.		1.0.0
ListChannelsResult
Prop	Type	Description	Since
channels	Channel[]	The list of notification channels.	1.0.0
PermissionStatus
Prop	Type	Description	Since
display	

PermissionState

	Permission state of displaying notifications.	1.0.0
SettingsPermissionStatus
Prop	Type	Description	Since
exact_alarm	

PermissionState

	Permission state of using exact alarms.	6.0.0
PluginListenerHandle
Prop	Type
remove	() => Promise<void>
ActionPerformed
Prop	Type	Description	Since
actionId	string	The identifier of the performed action.	1.0.0
inputValue	string	The value entered by the user on the notification. Only available on iOS for notifications with input set to true.	1.0.0
notification	

LocalNotificationSchema

	The original notification schema.	1.0.0
Type Aliases
ScheduleEvery

'year' | 'month' | 'two-weeks' | 'week' | 'day' | 'hour' | 'minute' | 'second'
Importance

The importance level. For more details, see the Android Developer Docs

1 | 2 | 3 | 4 | 5
Visibility

The notification visibility. For more details, see the Android Developer Docs

-1 | 0 | 1
PermissionState

'prompt' | 'prompt-with-rationale' | 'granted' | 'denied'
Enums
Weekday
Members	Value
Sunday	1
Monday	2
Tuesday	3
Wednesday	4
Thursday	5
Friday	6
Saturday	7

@capacitor/motion

The Motion API tracks accelerometer and device orientation (compass heading, etc.)
Install

npm install @capacitor/motion
npx cap sync

Permissions

This plugin is currently implemented using Web APIs. Most browsers require permission before using this API. To request permission, prompt the user for permission on any user-initiated action (such as a button click):

import { PluginListenerHandle } from '@capacitor/core';
import { Motion } from '@capacitor/motion';


let accelHandler: PluginListenerHandle;

myButton.addEventListener('click', async () => {
  try {
    await DeviceMotionEvent.requestPermission();
  } catch (e) {
    // Handle error
    return;
  }

  // Once the user approves, can start listening:
  accelHandler = await Motion.addListener('accel', event => {
    console.log('Device motion event:', event);
  });
});

// Stop the acceleration listener
const stopAcceleration = () => {
  if (accelHandler) {
    accelHandler.remove();
  }
};

// Remove all listeners
const removeListeners = () => {
  Motion.removeAllListeners();
};

See the DeviceMotionEvent API to understand the data supplied in the 'accel' event.
API

    addListener('accel', ...)
    addListener('orientation', ...)
    removeAllListeners()
    Interfaces
    Type Aliases

addListener('accel', ...)

addListener(eventName: 'accel', listenerFunc: AccelListener) => Promise<PluginListenerHandle>

Add a listener for accelerometer data
Param	Type
eventName	'accel'
listenerFunc	

AccelListener

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
addListener('orientation', ...)

addListener(eventName: 'orientation', listenerFunc: OrientationListener) => Promise<PluginListenerHandle>

Add a listener for device orientation change (compass heading, etc.)
Param	Type
eventName	'orientation'
listenerFunc	

OrientationListener

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
removeAllListeners()

removeAllListeners() => Promise<void>

Remove all the listeners that are attached to this plugin.

Since: 1.0.0
Interfaces
PluginListenerHandle
Prop	Type
remove	() => Promise<void>
AccelListenerEvent
Prop	Type	Description	Since
acceleration	

Acceleration

	An object giving the acceleration of the device on the three axis X, Y and Z. Acceleration is expressed in m/s	1.0.0
accelerationIncludingGravity	

Acceleration

	An object giving the acceleration of the device on the three axis X, Y and Z with the effect of gravity. Acceleration is expressed in m/s	1.0.0
rotationRate	

RotationRate

	An object giving the rate of change of the device's orientation on the three orientation axis alpha, beta and gamma. Rotation rate is expressed in degrees per seconds.	1.0.0
interval	number	A number representing the interval of time, in milliseconds, at which data is obtained from the device.	1.0.0
Acceleration
Prop	Type	Description	Since
x	number	The amount of acceleration along the X axis.	1.0.0
y	number	The amount of acceleration along the Y axis.	1.0.0
z	number	The amount of acceleration along the Z axis.	1.0.0
RotationRate
Prop	Type	Description	Since
alpha	number	The amount of rotation around the Z axis, in degrees per second.	1.0.0
beta	number	The amount of rotation around the X axis, in degrees per second.	1.0.0
gamma	number	The amount of rotation around the Y axis, in degrees per second.	1.0.0
Type Aliases
AccelListener

(event: AccelListenerEvent): void

OrientationListener

(event: RotationRate): void

OrientationListenerEvent

RotationRate

@capacitor/network

The Network API provides network and connectivity information.
Install

npm install @capacitor/network
npx cap sync

Example

import { Network } from '@capacitor/network';

Network.addListener('networkStatusChange', status => {
  console.log('Network status changed', status);
});

const logCurrentNetworkStatus = async () => {
  const status = await Network.getStatus();

  console.log('Network status:', status);
};

API

    getStatus()
    addListener('networkStatusChange', ...)
    removeAllListeners()
    Interfaces
    Type Aliases

getStatus()

getStatus() => Promise<ConnectionStatus>

Query the current status of the network connection.

Returns:

Promise<ConnectionStatus>

Since: 1.0.0
addListener('networkStatusChange', ...)

addListener(eventName: 'networkStatusChange', listenerFunc: ConnectionStatusChangeListener) => Promise<PluginListenerHandle>

Listen for changes in the network connection.
Param	Type
eventName	'networkStatusChange'
listenerFunc	

ConnectionStatusChangeListener

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
removeAllListeners()

removeAllListeners() => Promise<void>

Remove all listeners (including the network status changes) for this plugin.

Since: 1.0.0
Interfaces
ConnectionStatus

Represents the state and type of the network connection.
Prop	Type	Description	Since
connected	boolean	Whether there is an active connection or not.	1.0.0
connectionType	

ConnectionType

	The type of network connection currently in use. If there is no active network connection, connectionType will be 'none'.	1.0.0
PluginListenerHandle
Prop	Type
remove	() => Promise<void>
Type Aliases
ConnectionType

The type of network connection that a device might have.

'wifi' | 'cellular' | 'none' | 'unknown'
ConnectionStatusChangeListener

Callback to receive the status change notifications.

(status: ConnectionStatus): void

@capacitor/preferences

The Preferences API provides a simple key/value persistent store for lightweight data.

Mobile OSs may periodically clear data set in window.localStorage, so this API should be used instead. This API will fall back to using localStorage when running as a Progressive Web App.

This plugin will use UserDefaults on iOS and SharedPreferences on Android. Stored data is cleared if the app is uninstalled.

Note: This API is not meant to be used as a local database. If your app stores a lot of data, has high read/write load, or requires complex querying, we recommend taking a look at a SQLite-based solution. One such solution is Ionic Secure Storage, a SQLite-based engine with full encryption support. The Capacitor Community has also built a number of other storage engines.
Install

npm install @capacitor/preferences
npx cap sync

Apple Privacy Manifest Requirements

Apple mandates that app developers now specify approved reasons for API usage to enhance user privacy. By May 1st, 2024, it's required to include these reasons when submitting apps to the App Store Connect.

When using this specific plugin in your app, you must create a PrivacyInfo.xcprivacy file in /ios/App or use the VS Code Extension to generate it, specifying the usage reasons.

For detailed steps on how to do this, please see the Capacitor Docs.

For this plugin, the required dictionary key is NSPrivacyAccessedAPICategoryUserDefaults and the recommended reason is CA92.1.
Example PrivacyInfo.xcprivacy

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>NSPrivacyAccessedAPITypes</key>
    <array>
      <!-- Add this dict entry to the array if the PrivacyInfo file already exists -->
      <dict>
        <key>NSPrivacyAccessedAPIType</key>
        <string>NSPrivacyAccessedAPICategoryUserDefaults</string>
        <key>NSPrivacyAccessedAPITypeReasons</key>
        <array>
          <string>CA92.1</string>
        </array>
      </dict>
    </array>
  </dict>
</plist>

Example Plugin Usage

import { Preferences } from '@capacitor/preferences';

const setName = async () => {
  await Preferences.set({
    key: 'name',
    value: 'Max',
  });
};

const checkName = async () => {
  const { value } = await Preferences.get({ key: 'name' });

  console.log(`Hello ${value}!`);
};

const removeName = async () => {
  await Preferences.remove({ key: 'name' });
};

Working with JSON

The Preferences API only supports string values. You can, however, use JSON if you JSON.stringify the object before calling set(), then JSON.parse the value returned from get().

This method can also be used to store non-string values, such as numbers and booleans.
API

    configure(...)
    get(...)
    set(...)
    remove(...)
    clear()
    keys()
    migrate()
    removeOld()
    Interfaces

configure(...)

configure(options: ConfigureOptions) => Promise<void>

Configure the preferences plugin at runtime.

Options that are undefined will not be used.
Param	Type
options	

ConfigureOptions

Since: 1.0.0
get(...)

get(options: GetOptions) => Promise<GetResult>

Get the value from preferences of a given key.
Param	Type
options	

GetOptions

Returns:

Promise<GetResult>

Since: 1.0.0
set(...)

set(options: SetOptions) => Promise<void>

Set the value in preferences for a given key.
Param	Type
options	

SetOptions

Since: 1.0.0
remove(...)

remove(options: RemoveOptions) => Promise<void>

Remove the value from preferences for a given key, if any.
Param	Type
options	

RemoveOptions

Since: 1.0.0
clear()

clear() => Promise<void>

Clear keys and values from preferences.

Since: 1.0.0
keys()

keys() => Promise<KeysResult>

Return the list of known keys in preferences.

Returns:

Promise<KeysResult>

Since: 1.0.0
migrate()

migrate() => Promise<MigrateResult>

Migrate data from the Capacitor 2 Storage plugin.

This action is non-destructive. It will not remove old data and will only write new data if they key was not already set. To remove the old data after being migrated, call removeOld().

Returns:

Promise<MigrateResult>

Since: 1.0.0
removeOld()

removeOld() => Promise<void>

Removes old data with _cap_ prefix from the Capacitor 2 Storage plugin.

Since: 1.1.0
Interfaces
ConfigureOptions
Prop	Type	Description	Default	Since
group	string	Set the preferences group. Preferences groups are used to organize key/value pairs. Using the value 'NativeStorage' provides backwards-compatibility with cordova-plugin-nativestorage. WARNING: The clear() method can delete unintended values when using the 'NativeStorage' group.	CapacitorStorage	1.0.0
GetResult
Prop	Type	Description	Since
value	string | null	The value from preferences associated with the given key. If a value was not previously set or was removed, value will be null.	1.0.0
GetOptions
Prop	Type	Description	Since
key	string	The key whose value to retrieve from preferences.	1.0.0
SetOptions
Prop	Type	Description	Since
key	string	The key to associate with the value being set in preferences.	1.0.0
value	string	The value to set in preferences with the associated key.	1.0.0
RemoveOptions
Prop	Type	Description	Since
key	string	The key whose value to remove from preferences.	1.0.0
KeysResult
Prop	Type	Description	Since
keys	string[]	The known keys in preferences.	1.0.0
MigrateResult
Prop	Type	Description	Since
migrated	string[]	An array of keys that were migrated.	1.0.0
existing	string[]	An array of keys that were already migrated or otherwise exist in preferences that had a value in the Capacitor 2 Preferences plugin.	1.0.0


@capacitor/privacy-screen

The Privacy Screen plugin provides functionality to prevent sensitive information from being visible in app switchers and when leaving an app.

    Note: This plugin is supported on Android and iOS platforms only. It is not available for web platforms.

Install

npm install @capacitor/privacy-screen
npx cap sync

Platform Notes
Android

The privacy screen behavior on Android varies depending on the navigation method used:

    When using gesture navigation or the recent apps button, the privacy screen will display as configured
    When using the home button to exit the app, the system must fall back to using FLAG_SECURE as it's the only way to prevent content visibility in this scenario

API

    enable(...)
    disable()
    isEnabled()
    Interfaces

enable(...)

enable(config?: PrivacyScreenConfig | undefined) => Promise<{ success: boolean; }>

Enable privacy screen protection
Param	Type	Description
config	

PrivacyScreenConfig

	Optional configuration for platform-specific behavior

Returns: Promise<{ success: boolean; }>
disable()

disable() => Promise<{ success: boolean; }>

Disable privacy screen protection

Returns: Promise<{ success: boolean; }>
isEnabled()

isEnabled() => Promise<{ enabled: boolean; }>

Check if privacy screen is currently enabled

Returns: Promise<{ enabled: boolean; }>
Interfaces
PrivacyScreenConfig
Prop	Type
android	{ dimBackground?: boolean; preventScreenshots?: boolean; privacyModeOnActivityHidden?: 'none' | 'dim' | 'splash'; }
ios	{ blurEffect?: 'none' | 'light' | 'dark'; }


@capacitor/push-notifications

The Push Notifications API provides access to native push notifications.
Install

npm install @capacitor/push-notifications
npx cap sync

iOS

On iOS you must enable the Push Notifications capability. See Setting Capabilities for instructions on how to enable the capability.

After enabling the Push Notifications capability, add the following to your app's AppDelegate.swift:

func application(_ application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data) {
  NotificationCenter.default.post(name: .capacitorDidRegisterForRemoteNotifications, object: deviceToken)
}

func application(_ application: UIApplication, didFailToRegisterForRemoteNotificationsWithError error: Error) {
  NotificationCenter.default.post(name: .capacitorDidFailToRegisterForRemoteNotifications, object: error)
}

Android

The Push Notification API uses Firebase Cloud Messaging SDK for handling notifications. See Set up a Firebase Cloud Messaging client app on Android and follow the instructions for creating a Firebase project and registering your application. There is no need to add the Firebase SDK to your app or edit your app manifest - the Push Notifications provides that for you. All that is required is your Firebase project's google-services.json file added to the module (app-level) directory of your app.

Android 13 requires a permission check in order to receive push notifications. You are required to call checkPermissions() and requestPermissions() accordingly, when targeting SDK 33.

From Android 15 onwards, users can install an app in the Private space. Users can lock their private space at any time, which means that push notifications are not shown until the user unlocks it.

It is not possible to detect if an app is installed in the private space. Therefore, if your app shows any critical notifications, inform your users to avoid installing the app in the private space.

For more information about the behavior changes of your app related to the private space, refer to Android documentation.
Variables

This plugin will use the following project variables (defined in your app's variables.gradle file):

    firebaseMessagingVersion version of com.google.firebase:firebase-messaging (default: 24.1.0)

Push Notifications icon

On Android, the Push Notifications icon with the appropriate name should be added to the AndroidManifest.xml file:

<meta-data android:name="com.google.firebase.messaging.default_notification_icon" android:resource="@mipmap/push_icon_name" />

If no icon is specified Android will use the application icon, but push icon should be white pixels on a transparent backdrop. As the application icon is not usually like that, it will show a white square or circle. So it's recommended to provide the separate icon for Push Notifications.

Android Studio has an icon generator you can use to create your Push Notifications icon.
Push Notification channel

From Android 8.0 (API level 26) and higher, notification channels are supported and recommended. The SDK will derive the channelId for incoming push notifications in the following order:

    Firstly it will check if the incoming notification has a channelId set. When sending a push notification from either the FCM dashboard, or through their API, it's possible to specify a channelId.
    Then it will check for a possible given value in the AndroidManifest.xml. If you prefer to create and use your own default channel, set default_notification_channel_id to the ID of your notification channel object as shown; FCM will use this value whenever incoming messages do not explicitly set a notification channel.

<meta-data
    android:name="com.google.firebase.messaging.default_notification_channel_id"
    android:value="@string/default_notification_channel_id" />

    Lastly it will use the fallback channelId that the Firebase SDK provides for us. FCM provides a default notification channel with basic settings out of the box. This channel will be created by the Firebase SDK upon receiving the first push message.

    Warning When using option 1 or 2, you are still required to create a notification channel in code with an ID that matches the one used the chosen option. You can use createChannel(...) for this. If you don't do this, the SDK will fallback to option 3.

Push notifications appearance in foreground

You can configure the way the push notifications are displayed when the app is in foreground.
Prop	Type	Description	Since
presentationOptions	PresentationOption[]	This is an array of strings you can combine. Possible values in the array are: - badge: badge count on the app icon is updated (default value) - sound: the device will ring/vibrate when the push notification is received - alert: the push notification is displayed in a native dialog An empty array can be provided if none of the options are desired. badge is only available for iOS.	1.0.0
Examples

In capacitor.config.json:

{
  "plugins": {
    "PushNotifications": {
      "presentationOptions": ["badge", "sound", "alert"]
    }
  }
}

In capacitor.config.ts:

/// <reference types="@capacitor/push-notifications" />

import { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  plugins: {
    PushNotifications: {
      presentationOptions: ["badge", "sound", "alert"],
    },
  },
};

export default config;

Silent Push Notifications / Data-only Notifications
iOS

This plugin does not support iOS Silent Push (Remote Notifications). We recommend using native code solutions for handling these types of notifications, see Pushing Background Updates to Your App.
Android

This plugin does support data-only notifications, but will NOT call pushNotificationReceived if the app has been killed. To handle this scenario, you will need to create a service that extends FirebaseMessagingService, see Handling FCM Messages.
Common Issues

On Android, there are various system and app states that can affect the delivery of push notifications:

    If the device has entered Doze mode, your application may have restricted capabilities. To increase the chance of your notification being received, consider using FCM high priority messages.
    There are differences in behavior between development and production. Try testing your app outside of being launched by Android Studio. Read more here.

Example

import { PushNotifications } from '@capacitor/push-notifications';

const addListeners = async () => {
  await PushNotifications.addListener('registration', token => {
    console.info('Registration token: ', token.value);
  });

  await PushNotifications.addListener('registrationError', err => {
    console.error('Registration error: ', err.error);
  });

  await PushNotifications.addListener('pushNotificationReceived', notification => {
    console.log('Push notification received: ', notification);
  });

  await PushNotifications.addListener('pushNotificationActionPerformed', notification => {
    console.log('Push notification action performed', notification.actionId, notification.inputValue);
  });
}

const registerNotifications = async () => {
  let permStatus = await PushNotifications.checkPermissions();

  if (permStatus.receive === 'prompt') {
    permStatus = await PushNotifications.requestPermissions();
  }

  if (permStatus.receive !== 'granted') {
    throw new Error('User denied permissions!');
  }

  await PushNotifications.register();
}

const getDeliveredNotifications = async () => {
  const notificationList = await PushNotifications.getDeliveredNotifications();
  console.log('delivered notifications', notificationList);
}

API

    register()
    unregister()
    getDeliveredNotifications()
    removeDeliveredNotifications(...)
    removeAllDeliveredNotifications()
    createChannel(...)
    deleteChannel(...)
    listChannels()
    checkPermissions()
    requestPermissions()
    addListener('registration', ...)
    addListener('registrationError', ...)
    addListener('pushNotificationReceived', ...)
    addListener('pushNotificationActionPerformed', ...)
    removeAllListeners()
    Interfaces
    Type Aliases

register()

register() => Promise<void>

Register the app to receive push notifications.

This method will trigger the 'registration' event with the push token or 'registrationError' if there was a problem. It does not prompt the user for notification permissions, use requestPermissions() first.

Since: 1.0.0
unregister()

unregister() => Promise<void>

Unregister the app from push notifications.

This will delete a firebase token on Android, and unregister APNS on iOS.

Since: 5.0.0
getDeliveredNotifications()

getDeliveredNotifications() => Promise<DeliveredNotifications>

Get a list of notifications that are visible on the notifications screen.

Returns:

Promise<DeliveredNotifications>

Since: 1.0.0
removeDeliveredNotifications(...)

removeDeliveredNotifications(delivered: DeliveredNotifications) => Promise<void>

Remove the specified notifications from the notifications screen.
Param	Type
delivered	

DeliveredNotifications

Since: 1.0.0
removeAllDeliveredNotifications()

removeAllDeliveredNotifications() => Promise<void>

Remove all the notifications from the notifications screen.

Since: 1.0.0
createChannel(...)

createChannel(channel: Channel) => Promise<void>

Create a notification channel.

Only available on Android O or newer (SDK 26+).
Param	Type
channel	

Channel

Since: 1.0.0
deleteChannel(...)

deleteChannel(args: { id: string; }) => Promise<void>

Delete a notification channel.

Only available on Android O or newer (SDK 26+).
Param	Type
args	{ id: string; }

Since: 1.0.0
listChannels()

listChannels() => Promise<ListChannelsResult>

List the available notification channels.

Only available on Android O or newer (SDK 26+).

Returns:

Promise<ListChannelsResult>

Since: 1.0.0
checkPermissions()

checkPermissions() => Promise<PermissionStatus>

Check permission to receive push notifications.

On Android 12 and below the status is always granted because you can always receive push notifications. If you need to check if the user allows to display notifications, use local-notifications plugin.

Returns:

Promise<PermissionStatus>

Since: 1.0.0
requestPermissions()

requestPermissions() => Promise<PermissionStatus>

Request permission to receive push notifications.

On Android 12 and below it doesn't prompt for permission because you can always receive push notifications.

On iOS, the first time you use the function, it will prompt the user for push notification permission and return granted or denied based on the user selection. On following calls it will get the current status of the permission without prompting again.

Returns:

Promise<PermissionStatus>

Since: 1.0.0
addListener('registration', ...)

addListener(eventName: 'registration', listenerFunc: (token: Token) => void) => Promise<PluginListenerHandle>

Called when the push notification registration finishes without problems.

Provides the push notification token.
Param	Type
eventName	'registration'
listenerFunc	

(token: Token) => void

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
addListener('registrationError', ...)

addListener(eventName: 'registrationError', listenerFunc: (error: RegistrationError) => void) => Promise<PluginListenerHandle>

Called when the push notification registration finished with problems.

Provides an error with the registration problem.
Param	Type
eventName	'registrationError'
listenerFunc	

(error: RegistrationError) => void

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
addListener('pushNotificationReceived', ...)

addListener(eventName: 'pushNotificationReceived', listenerFunc: (notification: PushNotificationSchema) => void) => Promise<PluginListenerHandle>

Called when the device receives a push notification.
Param	Type
eventName	'pushNotificationReceived'
listenerFunc	

(notification: PushNotificationSchema) => void

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
addListener('pushNotificationActionPerformed', ...)

addListener(eventName: 'pushNotificationActionPerformed', listenerFunc: (notification: ActionPerformed) => void) => Promise<PluginListenerHandle>

Called when an action is performed on a push notification.
Param	Type
eventName	'pushNotificationActionPerformed'
listenerFunc	

(notification: ActionPerformed) => void

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
removeAllListeners()

removeAllListeners() => Promise<void>

Remove all native listeners for this plugin.

Since: 1.0.0
Interfaces
DeliveredNotifications
Prop	Type	Description	Since
notifications	PushNotificationSchema[]	List of notifications that are visible on the notifications screen.	1.0.0
PushNotificationSchema
Prop	Type	Description	Since
title	string	The notification title.	1.0.0
subtitle	string	The notification subtitle.	1.0.0
body	string	The main text payload for the notification.	1.0.0
id	string	The notification identifier.	1.0.0
tag	string	The notification tag. Only available on Android (from push notifications).	4.0.0
badge	number	The number to display for the app icon badge.	1.0.0
notification	any	It's not being returned.	1.0.0
data	any	Any additional data that was included in the push notification payload.	1.0.0
click_action	string	The action to be performed on the user opening the notification. Only available on Android.	1.0.0
link	string	Deep link from the notification. Only available on Android.	1.0.0
group	string	Set the group identifier for notification grouping. Only available on Android. Works like threadIdentifier on iOS.	1.0.0
groupSummary	boolean	Designate this notification as the summary for an associated group. Only available on Android.	1.0.0
Channel
Prop	Type	Description	Default	Since
id	string	The channel identifier.		1.0.0
name	string	The human-friendly name of this channel (presented to the user).		1.0.0
description	string	The description of this channel (presented to the user).		1.0.0
sound	string	The sound that should be played for notifications posted to this channel. Notification channels with an importance of at least 3 should have a sound. The file name of a sound file should be specified relative to the android app res/raw directory.		1.0.0
importance	

Importance

	The level of interruption for notifications posted to this channel.	

3

	1.0.0
visibility	

Visibility

	The visibility of notifications posted to this channel. This setting is for whether notifications posted to this channel appear on the lockscreen or not, and if so, whether they appear in a redacted form.		1.0.0
lights	boolean	Whether notifications posted to this channel should display notification lights, on devices that support it.		1.0.0
lightColor	string	The light color for notifications posted to this channel. Only supported if lights are enabled on this channel and the device supports it. Supported color formats are #RRGGBB and #RRGGBBAA.		1.0.0
vibration	boolean	Whether notifications posted to this channel should vibrate.		1.0.0
ListChannelsResult
Prop	Type	Description	Since
channels	Channel[]	List of all the Channels created by your app.	1.0.0
PermissionStatus
Prop	Type	Description	Since
receive	

PermissionState

	Permission state of receiving notifications.	1.0.0
PluginListenerHandle
Prop	Type
remove	() => Promise<void>
Token
Prop	Type	Description	Since
value	string	On iOS it contains the APNS token. On Android it contains the FCM token.	1.0.0
RegistrationError
Prop	Type	Description	Since
error	string	Error message describing the registration failure.	4.0.0
ActionPerformed
Prop	Type	Description	Since
actionId	string	The action performed on the notification.	1.0.0
inputValue	string	Text entered on the notification action. Only available on iOS.	1.0.0
notification	

PushNotificationSchema

	The notification in which the action was performed.	1.0.0
Type Aliases
Importance

The importance level. For more details, see the Android Developer Docs

1 | 2 | 3 | 4 | 5
Visibility

The notification visibility. For more details, see the Android Developer Docs

-1 | 0 | 1
PermissionState

'prompt' | 'prompt-with-rationale' | 'granted' | 'denied'

@capacitor/screen-orientation

The Screen Orientation API provides information and functionality related to the orientation of the screen.
Install

npm install @capacitor/screen-orientation
npx cap sync

iOS

Locking the Screen Orientation only works for the Capacitor View Controller only, but not other View Controllers being presented (such as the one presented by Browser plugin). For also lock presented View Controllers, this code can be added to the app's AppDelegate.swift file:

func application(_ application: UIApplication, supportedInterfaceOrientationsFor window: UIWindow?) -> UIInterfaceOrientationMask {
  return UIInterfaceOrientationMask(rawValue: (self.window!.rootViewController as! CAPBridgeViewController).supportedInterfaceOrientations.rawValue)
}

iPad Orientation Lock

By default, an iPad allows Multitasking and its orientation cannot be locked. If you need to lock orientation on an iPad set the option Requires Full Screen to YES by adding the following to Info.plist:

  <key>UIRequiresFullScreen</key>
  <true/>

API

    orientation()
    lock(...)
    unlock()
    addListener('screenOrientationChange', ...)
    removeAllListeners()
    Interfaces
    Type Aliases

orientation()

orientation() => Promise<ScreenOrientationResult>

Returns the current screen orientation.

Returns:

Promise<ScreenOrientationResult>

Since: 4.0.0
lock(...)

lock(options: OrientationLockOptions) => Promise<void>

Locks the screen orientation.
Param	Type
options	

OrientationLockOptions

Since: 4.0.0
unlock()

unlock() => Promise<void>

Unlocks the screen's orientation.

Since: 4.0.0
addListener('screenOrientationChange', ...)

addListener(eventName: 'screenOrientationChange', listenerFunc: (orientation: ScreenOrientationResult) => void) => Promise<PluginListenerHandle>

Listens for screen orientation changes.
Param	Type
eventName	'screenOrientationChange'
listenerFunc	

(orientation: ScreenOrientationResult) => void

Returns:

Promise<PluginListenerHandle>

Since: 4.0.0
removeAllListeners()

removeAllListeners() => Promise<void>

Removes all listeners.

Since: 4.0.0
Interfaces
ScreenOrientationResult
Prop	Type
type	OrientationType
OrientationLockOptions
Prop	Type	Description
orientation	

OrientationLockType

	Note: Typescript v5.2+ users should import OrientationLockType from @capacitor/screen-orientation.
PluginListenerHandle
Prop	Type
remove	() => Promise<void>
Type Aliases
OrientationLockType

'any' | 'natural' | 'landscape' | 'portrait' | 'portrait-primary' | 'portrait-secondary' | 'landscape-primary' | 'landscape-secondary'


@capacitor/screen-reader

The Screen Reader API provides access to TalkBack/VoiceOver/etc. and provides simple text-to-speech capabilities for visual accessibility.
Install

npm install @capacitor/screen-reader
npx cap sync

Example

import { ScreenReader } from '@capacitor/screen-reader';

ScreenReader.addListener('stateChange', ({ value }) => {
  console.log(`Screen reader is now ${value ? 'on' : 'off'}`);
});

const checkScreenReaderEnabled = async () => {
  const { value } = await ScreenReader.isEnabled();

  console.log('Voice over enabled? ' + value);
};

const sayHello = async () => {
  await ScreenReader.speak({ value: 'Hello World!' });
};

API

    isEnabled()
    speak(...)
    addListener('stateChange', ...)
    removeAllListeners()
    Interfaces
    Type Aliases

isEnabled()

isEnabled() => Promise<{ value: boolean; }>

Whether a Screen Reader is currently active.

This method is not supported on web (it is not possible to detect Screen Readers).

Returns: Promise<{ value: boolean; }>

Since: 1.0.0
speak(...)

speak(options: SpeakOptions) => Promise<void>

Text-to-Speech functionality.

This function will only work if a Screen Reader is currently active.

On web, browsers must support the SpeechSynthesis API, or this method will throw an error.

For more text-to-speech capabilities, please see the Capacitor Community Text-to-Speech plugin.
Param	Type
options	

SpeakOptions

Since: 1.0.0
addListener('stateChange', ...)

addListener(eventName: 'stateChange', listener: StateChangeListener) => Promise<PluginListenerHandle>

Add a listener for when the screen reader is turned on or off.

This event used to be named 'accessibilityScreenReaderStateChange'.

This method is not supported on web (it is not possible to detect Screen Readers).
Param	Type
eventName	'stateChange'
listener	

StateChangeListener

Returns:

Promise<PluginListenerHandle>

Since: 1.0.0
removeAllListeners()

removeAllListeners() => Promise<void>

Remove all the listeners that are attached to this plugin.

Since: 1.0.0
Interfaces
SpeakOptions
Prop	Type	Description	Since
value	string	The text to speak.	1.0.0
language	string	The language to speak the text in, as its ISO 639-1 Code (e.g.: "en"). This option is only supported on Android.	1.0.0
PluginListenerHandle
Prop	Type
remove	() => Promise<void>
ScreenReaderState
Prop	Type	Description	Since
value	boolean	Whether a Screen Reader is currently active.	1.0.0
Type Aliases
StateChangeListener

(state: ScreenReaderState): void

@capacitor/share

The Share API provides methods for sharing content in any sharing-enabled apps the user may have installed.

The Share API works on iOS, Android, and the Web (using the new Web Share API), though web support is currently spotty.
Install

npm install @capacitor/share
npx cap sync

Android

By default, Capacitor apps only allow to share files from caches folder. To make other Android folders shareable, they have to be added in android/app/src/main/res/xml/file_paths.xml file. Check the Specifying Available Files section in FileProvider docs for the available locations.
Example

import { Share } from '@capacitor/share';

await Share.share({
  title: 'See cool stuff',
  text: 'Really awesome thing you need to see right meow',
  url: 'http://ionicframework.com/',
  dialogTitle: 'Share with buddies',
});

// Share text only
await Share.share({
  text: 'Really awesome thing you need to see right meow',
});

// Share url only
await Share.share({
  url: 'http://ionicframework.com/',
});

// Share local file using url parameter
const photo = await Camera.getPhoto(options);
await Share.share({
  url: photo.path,
});

// Share multiple files using files parameter
const { photos } = await Camera.pickImages(options);
await Share.share({
  files: photos.map(photo => photo.path!),
});

Each platform uses a different set of fields, but you should supply them all.
API

    canShare()
    share(...)
    Interfaces

canShare()

canShare() => Promise<CanShareResult>

Check if sharing is supported.

Returns:

Promise<CanShareResult>

Since: 1.1.0
share(...)

share(options: ShareOptions) => Promise<ShareResult>

Show a Share modal for sharing content with other apps
Param	Type
options	

ShareOptions

Returns:

Promise<ShareResult>

Since: 1.0.0
Interfaces
CanShareResult
Prop	Type	Description	Since
value	boolean	Whether sharing is supported or not.	1.1.0
ShareResult
Prop	Type	Description	Since
activityType	string	Identifier of the app that received the share action. Can be an empty string in some cases. On web it will be undefined.	1.0.0
ShareOptions
Prop	Type	Description	Since
title	string	Set a title for any message. This will be the subject if sharing to email	1.0.0
text	string	Set some text to share	1.0.0
url	string	Set a URL to share, can be http, https or file:// URL	1.0.0
files	string[]	Array of file:// URLs of the files to be shared. Only supported on iOS and Android.	4.1.0
dialogTitle	string	Set a title for the share modal. This option is only supported on Android.	1.0.0

@capacitor/splash-screen

The Splash Screen API provides methods for showing or hiding a Splash image.
Install

npm install @capacitor/splash-screen
npx cap sync

Android 12 Splash Screen API

This only affects the launch splash screen and is not used when utilizing the programmatic show() method.

Capacitor 4 uses the Android 12 Splash Screen API and the androidx.core:core-splashscreen compatibility library to make it work on Android 11 and below.

The compatibility library can be disabled by changing the parent of AppTheme.NoActionBarLaunch from Theme.SplashScreen to AppTheme.NoActionBar in android/app/src/main/res/values/styles.xml. The Android 12 Splash Screen API can't be disabled on Android 12+ as it's part of the Android OS.

<style name="AppTheme.NoActionBarLaunch" parent="AppTheme.NoActionBar">
    <item name="android:background">@drawable/splash</item>
</style>

NOTE: On Android 12 and Android 12L devices the Splash Screen image is not showing when launched from third party launchers such as Nova Launcher, MIUI, Realme Launcher, OPPO Launcher, etc., from app info in Settings App, or from IDEs such as Android Studio. Google Issue Tracker Google Issue Tracker Google have fixed those problems on Android 13 but they won't be backport the fixes to Android 12 and Android 12L. Launcher related issues might get fixed by a launcher update. If you still find issues related to the Splash Screen on Android 13, please, report them to Google.
Example

import { SplashScreen } from '@capacitor/splash-screen';

// Hide the splash (you should do this on app launch)
await SplashScreen.hide();

// Show the splash for an indefinite amount of time:
await SplashScreen.show({
  autoHide: false,
});

// Show the splash for two seconds and then automatically hide it:
await SplashScreen.show({
  showDuration: 2000,
  autoHide: true,
});

Hiding the Splash Screen

By default, the Splash Screen is set to automatically hide after 500 ms.

If you want to be sure the splash screen never disappears before your app is ready, set launchAutoHide to false; the splash screen will then stay visible until manually hidden. For the best user experience, your app should call hide() as soon as possible.

If, instead, you want to show the splash screen for a fixed amount of time, set launchShowDuration in your Capacitor configuration file.
Background Color

In certain conditions, especially if the splash screen does not fully cover the device screen, it might happen that the app screen is visible around the corners (due to transparency). Instead of showing a transparent color, you can set a backgroundColor to cover those areas.

Possible values for backgroundColor are either #RRGGBB or #RRGGBBAA.
Spinner

If you want to show a spinner on top of the splash screen, set showSpinner to true in your Capacitor configuration file.

You can customize the appearance of the spinner with the following configuration.

For Android, androidSpinnerStyle has the following options:

    horizontal
    small
    large (default)
    inverse
    smallInverse
    largeInverse

For iOS, iosSpinnerStyle has the following options:

    large (default)
    small

To set the color of the spinner use spinnerColor, values are either #RRGGBB or #RRGGBBAA.
Configuration

These config values are available:
Prop	Type	Description	Default	Since
launchShowDuration	number	How long to show the launch splash screen when autoHide is enabled (in ms)	500	1.0.0
launchAutoHide	boolean	Whether to auto hide the splash after launchShowDuration.	true	1.0.0
launchFadeOutDuration	number	Duration for the fade out animation of the launch splash screen (in ms) Only available for Android, when using the Android 12 Splash Screen API.	200	4.2.0
backgroundColor	string	Color of the background of the Splash Screen in hex format, #RRGGBB or #RRGGBBAA. Doesn't work if useDialog is true or on launch when using the Android 12 API.		1.0.0
androidSplashResourceName	string	Name of the resource to be used as Splash Screen. Doesn't work on launch when using the Android 12 API. Only available on Android.	splash	1.0.0
androidScaleType	'CENTER' | 'CENTER_CROP' | 'CENTER_INSIDE' | 'FIT_CENTER' | 'FIT_END' | 'FIT_START' | 'FIT_XY' | 'MATRIX'	The ImageView.ScaleType used to scale the Splash Screen image. Doesn't work if useDialog is true or on launch when using the Android 12 API. Only available on Android.	FIT_XY	1.0.0
showSpinner	boolean	Show a loading spinner on the Splash Screen. Doesn't work if useDialog is true or on launch when using the Android 12 API.		1.0.0
androidSpinnerStyle	'horizontal' | 'small' | 'large' | 'inverse' | 'smallInverse' | 'largeInverse'	Style of the Android spinner. Doesn't work if useDialog is true or on launch when using the Android 12 API.	large	1.0.0
iosSpinnerStyle	'small' | 'large'	Style of the iOS spinner. Doesn't work if useDialog is true. Only available on iOS.	large	1.0.0
spinnerColor	string	Color of the spinner in hex format, #RRGGBB or #RRGGBBAA. Doesn't work if useDialog is true or on launch when using the Android 12 API.		1.0.0
splashFullScreen	boolean	Hide the status bar on the Splash Screen. Doesn't work on launch when using the Android 12 API. Only available on Android.		1.0.0
splashImmersive	boolean	Hide the status bar and the software navigation buttons on the Splash Screen. Doesn't work on launch when using the Android 12 API. Only available on Android.		1.0.0
layoutName	string	If useDialog is set to true, configure the Dialog layout. If useDialog is not set or false, use a layout instead of the ImageView. Doesn't work on launch when using the Android 12 API. Only available on Android.		1.1.0
useDialog	boolean	Use a Dialog instead of an ImageView. If layoutName is not configured, it will use a layout that uses the splash image as background. Doesn't work on launch when using the Android 12 API. Only available on Android.		1.1.0
Examples

In capacitor.config.json:

{
  "plugins": {
    "SplashScreen": {
      "launchShowDuration": 3000,
      "launchAutoHide": true,
      "launchFadeOutDuration": 3000,
      "backgroundColor": "#ffffffff",
      "androidSplashResourceName": "splash",
      "androidScaleType": "CENTER_CROP",
      "showSpinner": true,
      "androidSpinnerStyle": "large",
      "iosSpinnerStyle": "small",
      "spinnerColor": "#999999",
      "splashFullScreen": true,
      "splashImmersive": true,
      "layoutName": "launch_screen",
      "useDialog": true
    }
  }
}

In capacitor.config.ts:

/// <reference types="@capacitor/splash-screen" />

import { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  plugins: {
    SplashScreen: {
      launchShowDuration: 3000,
      launchAutoHide: true,
      launchFadeOutDuration: 3000,
      backgroundColor: "#ffffffff",
      androidSplashResourceName: "splash",
      androidScaleType: "CENTER_CROP",
      showSpinner: true,
      androidSpinnerStyle: "large",
      iosSpinnerStyle: "small",
      spinnerColor: "#999999",
      splashFullScreen: true,
      splashImmersive: true,
      layoutName: "launch_screen",
      useDialog: true,
    },
  },
};

export default config;

Android

To use splash screen images named something other than splash.png, set androidSplashResourceName to the new resource name. Additionally, in android/app/src/main/res/values/styles.xml, change the resource name in the following block:

<style name="AppTheme.NoActionBarLaunch" parent="AppTheme.NoActionBar">
    <item name="android:background">@drawable/NAME</item>
</style>

Variables

This plugin will use the following project variables (defined in your app's variables.gradle file):

    coreSplashScreenVersion version of androidx.core:core-splashscreen (default: 1.0.1)

Example Guides

Adding Your Own Icons and Splash Screen Images 

Creating a Dynamic/Adaptable Splash Screen for Capacitor (Android) 
API

    show(...)
    hide(...)
    Interfaces

show(...)

show(options?: ShowOptions | undefined) => Promise<void>

Show the splash screen
Param	Type
options	

ShowOptions

Since: 1.0.0
hide(...)

hide(options?: HideOptions | undefined) => Promise<void>

Hide the splash screen
Param	Type
options	

HideOptions

Since: 1.0.0
Interfaces
ShowOptions
Prop	Type	Description	Default	Since
autoHide	boolean	Whether to auto hide the splash after showDuration		1.0.0
fadeInDuration	number	How long (in ms) to fade in.	200	1.0.0
fadeOutDuration	number	How long (in ms) to fade out.	200	1.0.0
showDuration	number	How long to show the splash screen when autoHide is enabled (in ms)	3000	1.0.0
HideOptions
Prop	Type	Description	Default	Since
fadeOutDuration	number	How long (in ms) to fade out. On Android, if using the Android 12 Splash Screen API, it's not being used. Use launchFadeOutDuration configuration option instead.	200	1.0.0


@capacitor/status-bar

The StatusBar API Provides methods for configuring the style of the Status Bar, along with showing or hiding it.
Install

npm install @capacitor/status-bar
npx cap sync

iOS Note

This plugin requires "View controller-based status bar appearance" (UIViewControllerBasedStatusBarAppearance) set to YES in Info.plist. Read about Configuring iOS for help.

The status bar visibility defaults to visible and the style defaults to Style.Default. You can change these defaults by adding UIStatusBarHidden and/or UIStatusBarStyle in Info.plist.
Example

import { StatusBar, Style } from '@capacitor/status-bar';

// iOS only
window.addEventListener('statusTap', function () {
  console.log('statusbar tapped');
});

// Display content under transparent status bar
StatusBar.setOverlaysWebView({ overlay: true });

const setStatusBarStyleDark = async () => {
  await StatusBar.setStyle({ style: Style.Dark });
};

const setStatusBarStyleLight = async () => {
  await StatusBar.setStyle({ style: Style.Light });
};

const hideStatusBar = async () => {
  await StatusBar.hide();
};

const showStatusBar = async () => {
  await StatusBar.show();
};

Configuration

These config values are available:
Prop	Type	Description	Default	Since
overlaysWebView	boolean	Whether the statusbar is overlaid or not. For applications targeting Android 15, this property has no effect unless the property windowOptOutEdgeToEdgeEnforcement is added to the application layout file. Otherwise, the application assumes always overlays as true. More details in https://developer.android.com/reference/android/R.attr#windowOptOutEdgeToEdgeEnforcement	true	1.0.0
style	string	Style of the text of the status bar.	default	1.0.0
backgroundColor	string	Color of the background of the statusbar in hex format, #RRGGBB. Doesn't work if overlaysWebView is true.	#000000	1.0.0
Examples

In capacitor.config.json:

{
  "plugins": {
    "StatusBar": {
      "overlaysWebView": false,
      "style": "DARK",
      "backgroundColor": "#ffffffff"
    }
  }
}

In capacitor.config.ts:

/// <reference types="@capacitor/status-bar" />

import { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  plugins: {
    StatusBar: {
      overlaysWebView: false,
      style: "DARK",
      backgroundColor: "#ffffffff",
    },
  },
};

export default config;

API

    setStyle(...)
    setBackgroundColor(...)
    show(...)
    hide(...)
    getInfo()
    setOverlaysWebView(...)
    Interfaces
    Enums

setStyle(...)

setStyle(options: StyleOptions) => Promise<void>

Set the current style of the status bar.
Param	Type
options	

StyleOptions

Since: 1.0.0
setBackgroundColor(...)

setBackgroundColor(options: BackgroundColorOptions) => Promise<void>

Set the background color of the status bar.
Param	Type
options	

BackgroundColorOptions

Since: 1.0.0
show(...)

show(options?: AnimationOptions | undefined) => Promise<void>

Show the status bar. On iOS, if the status bar is initially hidden and the initial style is set to UIStatusBarStyleLightContent, first show call might present a glitch on the animation showing the text as dark and then transition to light. It's recommended to use Animation.None as the animation on the first call.
Param	Type
options	

AnimationOptions

Since: 1.0.0
hide(...)

hide(options?: AnimationOptions | undefined) => Promise<void>

Hide the status bar.
Param	Type
options	

AnimationOptions

Since: 1.0.0
getInfo()

getInfo() => Promise<StatusBarInfo>

Get info about the current state of the status bar.

Returns:

Promise<StatusBarInfo>

Since: 1.0.0
setOverlaysWebView(...)

setOverlaysWebView(options: SetOverlaysWebViewOptions) => Promise<void>

Set whether or not the status bar should overlay the webview to allow usage of the space underneath it.
Param	Type
options	

SetOverlaysWebViewOptions

Since: 1.0.0
Interfaces
StyleOptions
Prop	Type	Description	Since
style	

Style

	Style of the text of the status bar.	1.0.0
BackgroundColorOptions
Prop	Type	Description	Since
color	string	A hex color to which the status bar color is set.	1.0.0
AnimationOptions
Prop	Type	Description	Default	Since
animation	

Animation

	The type of status bar animation used when showing or hiding. This option is only supported on iOS.	Animation.Fade	1.0.0
StatusBarInfo
Prop	Type	Description	Since
visible	boolean	Whether the status bar is visible or not.	1.0.0
style	

Style

	The current status bar style.	1.0.0
color	string	The current status bar color.	1.0.0
overlays	boolean	Whether the statusbar is overlaid or not.	1.0.0
SetOverlaysWebViewOptions
Prop	Type	Description	Since
overlay	boolean	Whether to overlay the status bar or not.	1.0.0
Enums
Style
Members	Value	Description	Since
Dark	'DARK'	Light text for dark backgrounds.	1.0.0
Light	'LIGHT'	Dark text for light backgrounds.	1.0.0
Default	'DEFAULT'	The style is based on the device appearance. If the device is using Dark mode, the statusbar text will be light. If the device is using Light mode, the statusbar text will be dark.	1.0.0
Animation
Members	Value	Description	Since
None	'NONE'	No animation during show/hide.	1.0.0
Slide	'SLIDE'	Slide animation during show/hide. It doesn't work on iOS 15+.	1.0.0
Fade	'FADE'	Fade animation during show/hide.	1.0.0


@capacitor/text-zoom

The Text Zoom API provides the ability to change Web View text size for visual accessibility.

Note: text-zoom plugin won't work on iPads unless preferredContentMode configuration is set to mobile in your Capacitor configuration file.

{
  "ios": {
    "preferredContentMode": "mobile"
  }
}

Install

npm install @capacitor/text-zoom
npx cap sync

API

    get()
    getPreferred()
    set(...)
    Interfaces

get()

get() => Promise<GetResult>

Get the current zoom level.

Zoom levels are represented as a decimal (e.g. 1.2 is 120%).

Returns:

Promise<GetResult>

Since: 1.0.0
getPreferred()

getPreferred() => Promise<GetPreferredResult>

Get the preferred zoom level.

Zoom levels are represented as a decimal (e.g. 1.2 is 120%).

Returns:

Promise<GetPreferredResult>

Since: 1.0.0
set(...)

set(options: SetOptions) => Promise<void>

Set the current zoom level.

Zoom levels are represented as a decimal (e.g. 1.2 is 120%).
Param	Type
options	

SetOptions

Since: 1.0.0
Interfaces
GetResult
Prop	Type	Description	Since
value	number	The current zoom level (represented as a decimal).	1.0.0
GetPreferredResult
Prop	Type	Description	Since
value	number	The preferred zoom level (represented as a decimal).	1.0.0
SetOptions
Prop	Type	Description	Since
value	number	The new zoom level (represented as a decimal).	1.0.0

@capacitor/toast

The Toast API provides a notification pop up for displaying important information to a user. Just like real toast!
Install

npm install @capacitor/toast
npx cap sync

PWA Notes

PWA Elements are required for the Toast plugin to work.
Example

import { Toast } from '@capacitor/toast';

const showHelloToast = async () => {
  await Toast.show({
    text: 'Hello!',
  });
};

API

    show(...)
    Interfaces

show(...)

show(options: ShowOptions) => Promise<void>

Shows a Toast on the screen
Param	Type
options	

ShowOptions

Since: 1.0.0
Interfaces
ShowOptions
Prop	Type	Description	Default	Since
text	string	Text to display on the Toast		1.0.0
duration	'short' | 'long'	Duration of the Toast, either 'short' (2000ms) or 'long' (3500ms)	'short'	1.0.0
position	'top' | 'center' | 'bottom'	Position of the Toast. On Android 12 and newer all toasts are shown at the bottom.	'bottom'	1.0.0


@capacitor/watch

CapacitorLABS - This project is experimental. Support is not provided. Please open issues when needed.

The Capacitor Watch plugin allows you to define a UI for a watch in your web code and show it on a paired watch.

This currently only supports iOS. This guide assumes you've already added iOS to your capcacitor project.

Also note - all of this will only work with an actual Apple Watch. Simulators don't allow the app<->watch communcation like real devices do.
Install

Step 1

Add the watch plugin to your capacitor project, and then open the Xcode project:

npm install @capacitor/watch
npx cap sync
npx cap open ios

Step 2

Go to add capabilities:

Add the 'Background Modes' and 'Push Notification' capabilities. Then in the Background Modes options, select 'Background Fetch', 'Remote Notifications', and 'Background Processing'. Your App target should look like this:

Step 3

Open AppDelegate.swift and add import WatchConnectivity and import CapactiorWatch to the top of the file, and the following code inside the application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) method:

assert(WCSession.isSupported(), "This sample requires Watch Connectivity support!")
WCSession.default.delegate = CapWatchSessionDelegate.shared
WCSession.default.activate()

Step 4

Select File -> New -> Target in Xcode, and then the watchOS tab, and 'App':

Click 'Next' then fill out the options like so:

This dialog can be a little confusing, the key thing is your 'Bundle Identifier' must be [your apps bundle ID].watchapp for the watch<->app pairing to work. You must also pick SwiftUI for the Interface and Swift for the language. The project should be App.

Step 5

We're going to add the code that makes Capacitor Watch work in the watch application.

If you are using Xcode 15 or beyond you then need to add the Capacitor Watch Swift Package from your node_modules:

First go to the project package dependancies

Then choose 'Add Local'

Then navigate into the node_modules/@capacitor/watch/CapWatch-Watch-SPM folder and click 'Add Package'

Then in the column on the right pick your watch app to be the target and click 'Add Package'

Once this is done your Package Dependancies should look like this:

With Xcode 14 you will need to go here https://github.com/ionic-team/CapacitorWatch/tree/main/packages/iOS-capWatch-watch/Sources/iOS-capWatch-watch and copy all the files into your Watch project and make sure the target selected is your watch app. It should look like so:

Step 6

Then open the watch app's 'Main' file which should be watchappApp.swift. Add the lines import WatchConnectivity and import iOS_capWatch_watch above the @main statement. Then replace the line that says ContentView() with this:

The finished file should look like this:

import SwiftUI
import WatchConnectivity
import iOS_capWatch_watch

@main
struct watchddgg_Watch_AppApp: App {
    var body: some Scene {
        WindowGroup {
            CapWatchContentView()
                .onAppear {
                    assert(WCSession.isSupported(), "This sample requires Watch Connectivity support!")
                    WCSession.default.delegate = WatchViewModel.shared
                    WCSession.default.activate()
                }
        }
    }
}

Step 7

Add the 'Background Modes' capability to the watch app target, and enable 'Remote Notifications':

You should be ready to develop for Capcacitor Watch now!
Development workflow

You can still develop your iOS app like a normal capacitor app, but getting things to run on the watch requires you to change the target and destination in Xcode. You can change this with the 'Target Dropdown' near the center-top of Xcode:

The right half of this bar lets you pick the destination device or simulator. You will need to pick the watch paired with the phone and then hit the 'Run' button or use the 'cmd+r' run shortcut.

There can be some challenges in syncing the watch and phone apps. Sometimes you will get an error in the xcode console complaining the compainion app is not present. The best solution in this case is to re-build and re-install the apps on both devices.
Building the watch UI and sending it to the watch

You will use a long string to define the watch UI. A newline delimits components. Currently this plugin only supports a vertical scroll view of either Text or Button components.

Once you've defined your UI you can send it to the watch using the updateWatchUI() method:

async uploadMyWatchUI() {
    const watchUI = 
        `Text("Capacitor WATCH")
         Button("Add One", "inc")`;

    await Watch.updateWatchUI({"watchUI": watchUI});
}

Will produce this:
Communicating with the watch

This article provides a great summary on the native methods and their implications: https://alexanderweiss.dev/blog/2023-01-18-three-ways-to-communicate-via-watchconnectivity

On the phone side, you can implement these methods using the Capacitor Background Runner Plugin (https://github.com/ionic-team/capacitor-background-runner). Currently the watch plugin will mainly handle the didReceiveUserInfo method, and you can recieve envents from the watch while your app is in the background using the following code in your runner.js:

addEventListener("WatchConnectivity_didReceiveUserInfo", (args) => {
  console.log(args.message.jsCommand);
})

You can also implment the runCommand event listener for foreground procesing:

Watch.addListener("runCommand", (data: {command: string}) => {
  console.log("PHONE got command - " + data.command);
})

The commands are the 2nd paramter in the Button() definition of the watch UI. This can be any string.
Updating watch data

You can add variables to Text() elements by using a $ variable and updating with the updateWatchData command:

Text("Show my $number")

This example will update $number when executed:

var stateData = {
  number: 0
}

async function counterIncrement() {
  stateData.counter++  
  await Watch.updateWatchData({"data": convertValuesOfObjectToStringValues(stateData)})
}

Persistance on the Watch

Capacitor Watch will persist the last UI you sent with updateWatchUI(). State from updateWatchData() is NOT preserved.
Install

npm install @capacitor/watch
npx cap sync

API

    addListener('runCommand', ...)
    updateWatchUI(...)
    updateWatchData(...)
    Interfaces

addListener('runCommand', ...)

addListener(eventName: 'runCommand', listenerFunc: (data: { command: string; }) => void) => Promise<PluginListenerHandle> & PluginListenerHandle

Listen for a command from the watch
Param	Type
eventName	'runCommand'
listenerFunc	(data: { command: string; }) => void

Returns:

Promise<PluginListenerHandle> & PluginListenerHandle

updateWatchUI(...)

updateWatchUI(options: { watchUI: string; }) => Promise<void>

Replaces the current watch UI with watchUI
Param	Type
options	{ watchUI: string; }
updateWatchData(...)

updateWatchData(options: { data: { [key: string]: string; }; }) => Promise<void>

Updates the watch's state data
Param	Type
options	{ data: { [key: string]: string; }; }
Interfaces
PluginListenerHandle
Prop	Type
remove	() => Promise<void>

CORDOVA PLUGINS:
Cordova Plugins

When developing an app that uses Capacitor, it's possible to use Cordova plugins.
Installing Cordova Plugins

Capacitor plugins are installed using your regular package manager and then synced to the native project(s). The installation process is the same for Cordova plugins in Capacitor.

Install the plugin, sync, and then finish any required native project configuration (see Variables and Hooks):

npm install cordova-plugin-name
npx cap sync

    If the Cordova plugin has an @awesome-cordova-plugins wrapper, you can also install it for TypeScript support:

    npm install @awesome-cordova-plugins/plugin-name

Updating Cordova Plugins

Use your regular package manager to update plugins. Then, sync the updated plugin to the native project(s):

npm install cordova-plugin-name@version
npx cap sync

Determining Installed Plugin Version

See the list of Capacitor and Cordova plugins (and their exact version numbers) installed in your project with:

npx cap ls

Compatibility Issues

There may be compatibility issues with Capacitor and some Cordova plugins. Many of the official Cordova plugins should not be used, as Capacitor offers official alternatives. Cordova plugins that use variables and hooks may be partially compatible. Some Cordova plugins are completely incompatible (see this list).

If you find an issue with an existing Cordova plugin, please let us know by providing the issue's details and plugin information.
Variables and Hooks

Capacitor does not support Cordova install variables, auto configuration, or hooks, due to our philosophy of letting you control your native project source code (meaning things like hooks are unnecessary). If your plugin requires variables or settings to be set, you'll need to apply those configuration settings manually by mapping between the plugin's plugin.xml and required settings on iOS and Android.

Consult the iOS and Android configuration guides for info on how to configure each platform.
Known Incompatible Plugins

If a plugin is known to conflict or cause build issues, it will be skipped when running npx cap sync.

Here is a list of known incompatible plugins:

    cordova-plugin-add-swift-support (not needed, Capacitor has built in Swift support)
    cordova-plugin-admobpro (see details)
    cordova-plugin-braintree (see details)
    cordova-plugin-code-push (see details)
    cordova-plugin-compat (not needed)
    cordova-plugin-console (not needed, Capacitor has its own)
    cordova-plugin-crosswalk-webview (Capacitor doesn't allow to change the webview)
    cordova-plugin-fcm (see details)
    cordova-plugin-firebase (see details)
    cordova-plugin-ionic-keyboard (not needed, Capacitor has it's own)
    cordova-plugin-ionic-webview (not needed, Capacitor uses WKWebView)
    cordova-plugin-music-controls (causes build failures, skipped)
    cordova-plugin-qrscanner (see details)
    cordova-plugin-splashscreen (not needed, Capacitor has its own)
    cordova-plugin-statusbar (not needed, Capacitor has its own)
    cordova-plugin-wkwebview-engine (not needed, Capacitor uses WKWebView)
    cordova-plugin-googlemaps (causes build failures on iOS, skipped for iOS only)

title 	description
Statusbar
	
Control the device status bar.
cordova-plugin-statusbar

Android Testsuite Chrome Testsuite iOS Testsuite Lint Test

    The StatusBar object provides some functions to customize the iOS and Android StatusBar.

Installation

This installation method requires cordova 5.0+

cordova plugin add cordova-plugin-statusbar

It is also possible to install via repo url directly ( unstable )

cordova plugin add https://github.com/apache/cordova-plugin-statusbar.git

Preferences
config.xml

StatusBarOverlaysWebView (boolean, defaults to true). Make the statusbar overlay or not overlay the WebView at startup.

 <preference name="StatusBarOverlaysWebView" value="true" />

Android Quirks

Only supported on Android 5 or later. Earlier versions will ignore this preference.

StatusBarBackgroundColor (color hex string, no default value). Set the background color of the statusbar by a hex string (#RRGGBB) at startup. If this value is not set, the background color will be transparent. If StatusBarOverlaysWebView is set to true, then a 8 digit hex (#AARRGGBB) string can optionally be used to define the transparency.

  <preference name="StatusBarBackgroundColor" value="#000000" />

StatusBarStyle (status bar style, defaults to lightcontent). Set the status bar style (e.g. text color). Available options: default, lightcontent.

  <preference name="StatusBarStyle" value="lightcontent" />

StatusBarDefaultScrollToTop (boolean, defaults to false). On iOS, allows the Cordova WebView to use default scroll-to-top behavior. Defaults to false so you can listen to the "statusTap" event (described below) and customize the behavior instead.

  <preference name="StatusBarDefaultScrollToTop" value="false" />

Android Quirks

The Android 5+ guidelines specify using a different color for the statusbar than your main app color (unlike the uniform statusbar color of many iOS apps), so you may want to set the statusbar color at runtime instead via StatusBar.backgroundColorByHexString or StatusBar.backgroundColorByName. One way to do that would be:

if (cordova.platformId == 'android') {
    StatusBar.backgroundColorByHexString("#333");
}

It is also possible to make the status bar semi-transparent. Android uses hexadecimal ARGB values, which are formatted as #AARRGGBB. That first pair of letters, the AA, represent the alpha channel. You must convert your decimal opacity values to a hexadecimal value. You can read more about it here.

For example, a black status bar with 20% opacity:

if (cordova.platformId == 'android') {
    StatusBar.overlaysWebView(true);
    StatusBar.backgroundColorByHexString('#33000000');
}

iOS Quirks

Starting with iOS 11 you must include viewport-fit=cover in your viewport meta tag if you want the status bar to overlay the webview:

<meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">

Hiding at startup

During runtime you can use the StatusBar.hide function below, but if you want the StatusBar to be hidden at app startup on iOS, you must modify your app's Info.plist file.

Add/edit these two attributes if not present. Set "Status bar is initially hidden" to "YES" and set "View controller-based status bar appearance" to "NO". If you edit it manually without Xcode, the keys and values are:

<key>UIStatusBarHidden</key>
<true/>
<key>UIViewControllerBasedStatusBarAppearance</key>
<false/>

Methods

This plugin defines global StatusBar object.

Although in the global scope, it is not available until after the deviceready event.

document.addEventListener("deviceready", onDeviceReady, false);
function onDeviceReady() {
    console.log(StatusBar);
}

    StatusBar.overlaysWebView
    StatusBar.styleDefault
    StatusBar.styleLightContent
    StatusBar.backgroundColorByName
    StatusBar.backgroundColorByHexString
    StatusBar.hide
    StatusBar.show

Properties

    StatusBar.isVisible

Events

    statusTap

StatusBar.overlaysWebView

Make the statusbar overlay or not overlay the WebView.

StatusBar.overlaysWebView(true);

Description

Set to true to make the statusbar overlay on top of your app. Ensure that you adjust your styling accordingly so that your app's title bar or content is not covered. Set to false to make the statusbar solid and not overlay your app. You can then set the style and background color to suit using the other functions.
Supported Platforms

    iOS
    Android 5+

Quick Example

StatusBar.overlaysWebView(true);
StatusBar.overlaysWebView(false);

StatusBar.styleDefault

Use the default statusbar (dark text, for light backgrounds).

StatusBar.styleDefault();

Supported Platforms

    iOS
    Android 6+

StatusBar.styleLightContent

Use the lightContent statusbar (light text, for dark backgrounds).

StatusBar.styleLightContent();

Supported Platforms

    iOS
    Android 6+

StatusBar.backgroundColorByName

On iOS, when you set StatusBar.overlaysWebView to false, you can set the background color of the statusbar by color name.

StatusBar.backgroundColorByName("red");

Supported color names are:

black, darkGray, lightGray, white, gray, red, green, blue, cyan, yellow, magenta, orange, purple, brown

Supported Platforms

    iOS
    Android

StatusBar.backgroundColorByHexString

Sets the background color of the statusbar by a hex string.

StatusBar.backgroundColorByHexString("#C0C0C0");

CSS shorthand properties are also supported.

StatusBar.backgroundColorByHexString("#333"); // => #333333
StatusBar.backgroundColorByHexString("#FAB"); // => #FFAABB

On iOS, when you set StatusBar.overlaysWebView to false, you can set the background color of the statusbar by a hex string (#RRGGBB).

On Android, when StatusBar.overlaysWebView is true, and on WP7&8, you can also specify values as #AARRGGBB, where AA is an alpha value.
Supported Platforms

    iOS
    Android

StatusBar.hide

Hide the statusbar.

StatusBar.hide();

Supported Platforms

    iOS
    Android

StatusBar.show

Shows the statusbar.

StatusBar.show();

Supported Platforms

    iOS
    Android

StatusBar.isVisible

Read this property to see if the statusbar is visible or not.

if (StatusBar.isVisible) {
	// do something
}

Supported Platforms

    iOS
    Android

statusTap

Listen for this event to know if the statusbar was tapped.

window.addEventListener('statusTap', function() {
    // scroll-up with document.body.scrollTop = 0; or do whatever you want
});

Supported Platforms

    iOS


title 	description
Browser Splashscreen
	
Control the browser platform splash screen for your app.
cordova-plugin-splashscreen

Chrome Testsuite Lint Test

This plugin displays and hides a splash screen while your web application is launching. Using its methods you can also show and hide the splash screen manually.

    cordova-plugin-splashscreen
        Installation
        Supported Platforms
        Platform Splash Screen Image Configuration
            Example Configuration
        Preferences
            config.xml
            Quirks
        Methods
            splashscreen.hide
            splashscreen.show

Installation

// npm hosted (new) id
cordova plugin add cordova-plugin-splashscreen

// you may also install directly from this repo
cordova plugin add https://github.com/apache/cordova-plugin-splashscreen.git

Supported Platforms

    Browser

Platform Splash Screen Image Configuration
Example Configuration

In the top-level config.xml file (not the one in platforms), add configuration elements like those specified here.

The value of the "src" attribute is relative to the project root directory and NOT to the www directory (see Directory structure below). You can name the source image file whatever you like. The internal name in the application is automatically determined by Cordova.

Directory structure:

projectRoot
    hooks
    platforms
    plugins
    www
        css
        img
        js
    res
        screen

<preference name="SplashScreenDelay" value="10000" />

Preferences
config.xml

AutoHideSplashScreen (boolean, default to true). Indicates whether to hide splash screen automatically or not. The splash screen is hidden after the amount of time specified in the SplashScreenDelay preference.

<preference name="AutoHideSplashScreen" value="true" />

SplashScreenDelay (number, default to 3000). Amount of time in milliseconds to wait before automatically hide splash screen.

<preference name="SplashScreenDelay" value="3000" />

This value used to be in seconds (but is now milliseconds) so values less than 30 will continue to be treated as seconds. (Consider this a deprecated patch that will disapear in some future version.)

To disable the splashscreen add the following preference to config.xml:

<preference name="SplashScreenDelay" value="0"/>

FadeSplashScreen (boolean, defaults to true): Set to false to prevent the splash screen from fading in and out when its display state changes.

<preference name="FadeSplashScreen" value="false"/>

FadeSplashScreenDuration (float, defaults to 500): Specifies the number of milliseconds for the splash screen fade effect to execute.

<preference name="FadeSplashScreenDuration" value="750"/>

Note: FadeSplashScreenDuration is included into SplashScreenDelay, for example if you have <preference name="SplashScreenDelay" value="3000" /> and <preference name="FadeSplashScreenDuration" value="1000"/> defined in config.xml:

    00:00 - splashscreen is shown
    00:02 - fading has started
    00:03 - splashscreen is hidden

Turning the fading off via <preference name="FadeSplashScreen" value="false"/> technically means fading duration to be 0 so that in this example the overall splash screen delay will still be 3 seconds.

Note: This only applies to the application startup - you need to take the fading timeout into account when manually showing/hiding the splash screen in your application's code:

navigator.splashscreen.show();
window.setTimeout(function () {
    navigator.splashscreen.hide();
}, splashDuration - fadeDuration);

Quirks

You can use the following preferences in your config.xml:

<platform name="browser">
    <preference name="SplashScreen" value="/images/browser/splashscreen.jpg" /> <!-- defaults to "/img/logo.png" -->
    <preference name="AutoHideSplashScreen" value="true" /> <!-- defaults to "true" -->
    <preference name="SplashScreenDelay" value="3000" /> <!-- defaults to "3000" -->
    <preference name="SplashScreenBackgroundColor" value="green" /> <!-- defaults to "#464646" -->
    <preference name="ShowSplashScreen" value="false" /> <!-- defaults to "true" -->
    <preference name="SplashScreenWidth" value="600" /> <!-- defaults to "170" -->
    <preference name="SplashScreenHeight" value="300" /> <!-- defaults to "200" -->
</platform>

Note: SplashScreen value should be absolute in order to work in a sub-page.
Methods

    splashscreen.show
    splashscreen.hide

splashscreen.hide

Dismiss the splash screen.

navigator.splashscreen.hide();

splashscreen.show

Displays the splash screen.

navigator.splashscreen.show();

Your application cannot call navigator.splashscreen.show() until the application has started and the deviceready event has fired. But since typically the splash screen is meant to be visible before your application has started, that would seem to defeat the purpose of the splash screen. Providing any parameters in config.xml will automatically show the splash screen immediately after your application is launched and before it has fully started and received the deviceready event. For this reason, it is unlikely you will need to call navigator.splashscreen.show() to make the splash screen visible for application startup.

No longer maintained.

Gavin Henry (ghenry22) has been maintaining a fork that should be updated and working better than this one. Please use his fork.

https://github.com/ghenry22/cordova-music-controls-plugin
Cordova Music Controls Plugin

Music controls for Cordova applications. Display a 'media' notification with play/pause, previous, next buttons, allowing the user to control the play. Handle also headset event (plug, unplug, headset button).
Supported platforms

    Android (4.1+)
    Windows (10+, by filfat)
    iOS 8+ (by 0505gonzalez)

Installation

cordova plugin add https://github.com/homerours/cordova-music-controls-plugin
Methods

    Create the media controls:

MusicControls.create({
	track       : 'Time is Running Out',		// optional, default : ''
	artist      : 'Muse',						// optional, default : ''
	album       : 'Absolution',     // optional, default: ''
 	cover       : 'albums/absolution.jpg',		// optional, default : nothing
	// cover can be a local path (use fullpath 'file:///storage/emulated/...', or only 'my_image.jpg' if my_image.jpg is in the www folder of your app)
	//			 or a remote url ('http://...', 'https://...', 'ftp://...')
	isPlaying   : true,							// optional, default : true
	dismissable : true,							// optional, default : false

	// hide previous/next/close buttons:
	hasPrev   : false,		// show previous button, optional, default: true
	hasNext   : false,		// show next button, optional, default: true
	hasClose  : true,		// show close button, optional, default: false

	// iOS only, optional
	
	duration : 60, // optional, default: 0
	elapsed : 10, // optional, default: 0
  	hasSkipForward : true, //optional, default: false. true value overrides hasNext.
  	hasSkipBackward : true, //optional, default: false. true value overrides hasPrev.
  	skipForwardInterval : 15, //optional. default: 0.
	skipBackwardInterval : 15, //optional. default: 0.
	hasScrubbing : false, //optional. default to false. Enable scrubbing from control center progress bar 

	// Android only, optional
	// text displayed in the status bar when the notification (and the ticker) are updated
	ticker	  : 'Now playing "Time is Running Out"',
	//All icons default to their built-in android equivalents
	//The supplied drawable name, e.g. 'media_play', is the name of a drawable found under android/res/drawable* folders
	playIcon: 'media_play',
	pauseIcon: 'media_pause',
	prevIcon: 'media_prev',
	nextIcon: 'media_next',
	closeIcon: 'media_close',
	notificationIcon: 'notification'
}, onSuccess, onError);

    Destroy the media controller:

MusicControls.destroy(onSuccess, onError);

    Subscribe events to the media controller:

function events(action) {

  const message = JSON.parse(action).message;
	switch(message) {
		case 'music-controls-next':
			// Do something
			break;
		case 'music-controls-previous':
			// Do something
			break;
		case 'music-controls-pause':
			// Do something
			break;
		case 'music-controls-play':
			// Do something
			break;
		case 'music-controls-destroy':
			// Do something
			break;

		// External controls (iOS only)
    	case 'music-controls-toggle-play-pause' :
			// Do something
			break;
    	case 'music-controls-seek-to':
			const seekToInSeconds = JSON.parse(action).position;
			MusicControls.updateElapsed({
				elapsed: seekToInSeconds,
				isPlaying: true
			});
			// Do something
			break;

		// Headset events (Android only)
		// All media button events are listed below
		case 'music-controls-media-button' :
			// Do something
			break;
		case 'music-controls-headset-unplugged':
			// Do something
			break;
		case 'music-controls-headset-plugged':
			// Do something
			break;
		default:
			break;
	}
}

// Register callback
MusicControls.subscribe(events);

// Start listening for events
// The plugin will run the events function each time an event is fired
MusicControls.listen();

    Toggle play/pause:

MusicControls.updateIsPlaying(true); // toggle the play/pause notification button
MusicControls.updateDismissable(true);

    iOS Specific Events: Allows you to listen for iOS events fired from the scrubber in control center.

MusicControls.updateElapsed({
	elapsed: 208, // seconds
	isPlaying: true
});

List of media button events

    Default:

'music-controls-media-button'

    Android only:

'music-controls-media-button-next', 'music-controls-media-button-pause', 'music-controls-media-button-play',
'music-controls-media-button-play-pause', 'music-controls-media-button-previous', 'music-controls-media-button-stop',
'music-controls-media-button-fast-forward', 'music-controls-media-button-rewind', 'music-controls-media-button-skip-backward',
'music-controls-media-button-skip-forward', 'music-controls-media-button-step-backward', 'music-controls-media-button-step-forward',
'music-controls-media-button-meta-left', 'music-controls-media-button-meta-right', 'music-controls-media-button-music',
'music-controls-media-button-volume-up', 'music-controls-media-button-volume-down', 'music-controls-media-button-volume-mute',
'music-controls-media-button-headset-hook'

    iOS Only:

'music-controls-skip-forward', 'music-controls-skip-backward'

Contributing

    Fork it
    Create your feature branch (git checkout -b my-new-feature)
    Commit your changes (git commit -am 'Add some feature')
    Push to the branch (git push origin my-new-feature)
    Create new Pull Request

Ionic Web View for Cordova

A Web View plugin for Cordova, focused on providing the highest performance experience for Ionic apps (but can be used with any Cordova app).

This plugin uses WKWebView on iOS and the latest evergreen webview on Android. Additionally, this plugin makes it easy to use HTML5 style routing that web developers expect for building single-page apps.

Note: This repo and its documentation are for cordova-plugin-ionic-webview @ 5.x, which uses the new features that may not work with all apps. See Requirements and Migrating to 5.x.

2.x documentation can be found here.

 Documentation: https://beta.ionicframework.com/docs/building/webview

 Support/Questions? Please see our Support Page for general support questions. The issues on GitHub should be reserved for bug reports and feature requests.

 Want to contribute? Please see CONTRIBUTING.md.
Configuration

This plugin has several configuration options that can be set in config.xml.
Android and iOS Preferences

Preferences available for both iOS and Android
Hostname

<preference name="Hostname" value="app" />

Default value is localhost.

Example ionic://app on iOS, http://app on Android.

If you change it, you'll need to add a new allow-navigation entry in the config.xml for the configured url (i.e <allow-navigation href="http://app/*"/> if Hostname is set to app). This is only needed for the Android url when using http://, https:// or a custom scheme. All ionic:// urls are whitelisted by the plugin.
Android Preferences

Preferences only available Android platform
Scheme

<preference name="Scheme" value="https" />

Default value is http

Configures the Scheme the app uses to load the content.
ResolveServiceWorkerRequests

<preference name="ResolveServiceWorkerRequests" value="true" />

Default value is false

Enable to resolve requests made by Service Workers through the local server.
MixedContentMode

<preference name="MixedContentMode" value="2" />

Configures the WebView's behavior when an origin attempts to load a resource from a different origin.

Default value is 0 (MIXED_CONTENT_ALWAYS_ALLOW), which allows loading resources from other origins.

Other possible values are 1 (MIXED_CONTENT_NEVER_ALLOW) and 2 (MIXED_CONTENT_COMPATIBILITY_MODE)

Android documentation
iOS Preferences

Preferences only available for iOS platform
iosScheme

<preference name="iosScheme" value="httpsionic" />

Default value is ionic

Configures the Scheme the app uses to load the content.

Values like http, https or file are not valid and will use default value instead.

If you change it, you'll need to add a new allow-navigation entry in the config.xml for the configured scheme (i.e <allow-navigation href="httpsionic://*"/> if iosScheme is set to httpsionic).
WKSuspendInBackground

<preference name="WKSuspendInBackground" value="false" />

Default value is true (suspend).

Set to false to stop WKWebView suspending in background too eagerly.
KeyboardAppearanceDark

<preference name="KeyboardAppearanceDark" value="false" />

Whether to use a dark styled keyboard on iOS
ScrollEnabled

<preference name="ScrollEnabled" value="true" />

Ionic apps work better if the WKWebView is not scrollable, so the scroll is disabled by default, but can be enabled with this preference. This only affects the main ScrollView of the WKWebView, so only affects the body, not other scrollable components.
Plugin Requirements

    Cordova CLI: 7.1.0+
    iOS: iOS 11+ and cordova-ios 4+
    Android: Android 5+ and cordova-android 6.4+

Migrating to 5.x

Remove and re-add the Web View plugin:

cordova plugin rm cordova-plugin-ionic-webview
cordova plugin add cordova-plugin-ionic-webview@latest

If using cordova-android < 9, make sure you have <preference name="android-minSdkVersion" value="21" /> in the config.xml as this version of the plugin only supports Android 5+ (SDK 21+). If using cordova-android >= 9 is not neccessary as cordova-android 9 only supports Android 5.1+ (SDK 22+)

Since version 2, apps are served from HTTP on Android by default.

    The default origin for requests from the Android WebView is http://localhost. If Hostname and Scheme preferences are set, then origin will be schemeValue://HostnameValue.

Since version 3, apps are served from ionic:// scheme on iOS by default.

    The default origin for requests from the iOS WebView is ionic://localhost. If Hostname and iosScheme preferences are set, then origin will be iosSchemeValue://HostnameValue.

The WebView is not able to display images, videos or other files from file or content protocols or if it doesn't have protocol at all. For those cases use window.Ionic.WebView.convertFileSrc() to get the proper url.

Replace any usages of window.Ionic.normalizeURL() and window.wkRewriteURL() with window.Ionic.WebView.convertFileSrc().

    For Ionic Angular projects, there is an Ionic Native wrapper:

    npm install @ionic-native/ionic-webview@latest


cordova-plugin-ionic-keyboard

This plugin has been designed to work seamlessly with cordova-plugin-ionic-webview, so make sure you have it installed first:

    https://github.com/ionic-team/cordova-plugin-ionic-webview
    https://ionicframework.com/docs/wkwebview/

Installation

cordova plugin add cordova-plugin-ionic-keyboard --save

Preferences
KeyboardResize (for iOS only)

    Boolean (true by default)

Possible values

    true: Showing/hiding the keyboard will trigger some kind of resizing of the app (see KeyboardResizeMode)
    false: Web will not be resized when the keyboard shows up.

<preference name="KeyboardResize" value="true" />

KeyboardResizeMode (for iOS only)

    String ('native' by default)

Possible values

    native: The whole native webview will be resized when the keyboard shows/hides, it will affect the vh relative unit.
    body: Only the html <body> element will be resized. Relative units are not affected, because the viewport does not change.
    ionic: Only the html ion-app element will be resized. Only for ionic apps.

<preference name="KeyboardResizeMode" value="native" />

KeyboardStyle (for iOS only)

    String ('light' by default)

Possible values

    light
    dark

<preference name="KeyboardStyle" value="dark" />

HideKeyboardFormAccessoryBar (for iOS only)

    Boolean (true by default)

Possible values

    true: hides the keyboard accessory bar.
    false: shows the keyboard accessory bar.

<preference name="HideKeyboardFormAccessoryBar" value="false" />

resizeOnFullScreen (for Android only)

There is an Android bug that prevents the keyboard from resizing the WebView when the app is in full screen (i.e. if StatusBar plugin is used to hide the StatusBar). This setting, if set to true, add a workaround that resizes the WebView even when the app is in full screen.

    Boolean (false by default)

Possible values

    false: doesn't resize the WebView when the app is in full screen.
    true: resizes the WebView when the app is in full screen.

<preference name="resizeOnFullScreen" value="true" />

Methods
Keyboard.hideFormAccessoryBar (for iOS only)

    Hide the keyboard toolbar.

Set to true to hide the additional toolbar that is on top of the keyboard. This toolbar features the Prev, Next, and Done buttons.

Keyboard.hideFormAccessoryBar(value, successCallback);

Quick Example

Keyboard.hideFormAccessoryBar(true);
Keyboard.hideFormAccessoryBar(false);
Keyboard.hideFormAccessoryBar(null, (currentValue) => { console.log(currentValue); });

Keyboard.hide

    Hide the keyboard

Call this method to hide the keyboard

Keyboard.hide();

Keyboard.show (for Android only)

    Show the keyboard

Call this method to show the keyboard.

Keyboard.show();

Keyboard.setResizeMode (for iOS only)

    Programmatically set the resize mode

Call the method with parameter to set the resize mode.

// Possible values are the same as for 'KeyboardResizeMode' preference
Keyboard.setResizeMode('native');
Keyboard.setResizeMode('body');
Keyboard.setResizeMode('ionic');

Keyboard.setKeyboardStyle (for iOS only)

    Programmatically set the keyboard style

// Possible values are the same as for 'KeyboardStyle' preference
Keyboard.setKeyboardStyle('light'); // <- default
Keyboard.setKeyboardStyle('dark');

Keyboard.disableScroll (for iOS only)

    Programmatically enable or disable the WebView scroll

Keyboard.disableScroll(true); // <- default
Keyboard.disableScroll(false);

Properties
Keyboard.isVisible

    Determine if the keyboard is visible.

Read this property to determine if the keyboard is visible.

if (Keyboard.isVisible) {
    // do something
}

Events
keyboardDidHide

    This event is fired when the keyboard is fully closed.

Attach handler to this event to be able to receive notification when keyboard is closed.

window.addEventListener('keyboardDidHide', () => {
    // Describe your logic which will be run each time keyboard is closed.
});

keyboardDidShow

    This event is fired when the keyboard is fully open.

Attach handler to this event to be able to receive notification when keyboard is opened.

window.addEventListener('keyboardDidShow', (event) => {
    // Describe your logic which will be run each time when keyboard is about to be shown.
    console.log(event.keyboardHeight);
});

keyboardWillShow

    This event fires before keyboard will be shown.

Attach handler to this event to be able to receive notification when keyboard is about to be shown on the screen.

window.addEventListener('keyboardWillShow', (event) => {
    // Describe your logic which will be run each time when keyboard is about to be shown.
    console.log(event.keyboardHeight);
});

keyboardWillHide

    This event fires before keyboard will be closed.

Attach handler to this event to be able to receive notification when keyboard is about to be closed.

window.addEventListener('keyboardWillHide', () => {
    // Describe your logic which will be run each time when keyboard is about to be closed.
});

PLUGINS COMUNIDADE:

App Icon

@capacitor-community/app-icon

Capacitor community plugin for managing an app's icon. The main feature being that you can programmatically change the app icon.


Maintainers
Maintainer 	GitHub 	Social
John Borges 	johnborges 	@johnborges
Before Starting

    This plugin only changes the main app icon on the device homescreen. The icon in springboard and in other areas will not change and continue to show the original. (iOS)

    Changing the app icon is only allowed when the app is in the foreground (iOS).

Installation

npm install @capacitor-community/app-icon
npx cap sync

Configuration

The alternate icons need to be included within the app bundle and referenced in the project prior to using this plugin. It is not possible to switch to any icon on the fly without adding it to the project first. Below are the configurations steps for each platform.
Android Configuration
Add Alternate Icons

Add the alternate icons directly to your android project in app/src/main/res.
Setup ApplicationManifest.xml

Each alternate icon is represented by an <activity-alias>. Add all the alternative icons to the ApplicationManifest.xml as child elements under <application>. The name attribute on <activity-alias> must be prefixed with dot . See ApplicationManifest.xml for full example.

<application>
    <!-- ... -->
    <activity
        android:name=".MainActivity"
        android:exported="true"
        android:launchMode="singleTask"
        android:configChanges="orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode"
        android:label="@string/title_activity_main"
        android:theme="@style/AppTheme.NoActionBarLaunch">

        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <!-- <category android:name="android.intent.category.LAUNCHER" /> -->
        </intent-filter>

    </activity>
    <activity-alias
        android:label="Stencil"
        android:icon="@drawable/stencil"
        android:roundIcon="@drawable/stencil"
        android:name=".stencil"
        android:enabled="true"
        android:exported="true"
        android:targetActivity=".MainActivity">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity-alias>
  
  <!-- additional <activity-alias> -->

<application>

iOS Configuration

    Taken from https://www.youtube.com/watch?v=AT89ofYpWTU

Create the alternate icons in assets catalog

In XCode go to Assets and create the App Icons.
Then fill with images 1024x1024px

XCode Assets Alternate Icons

    The name of the asset should correspond to the name used in the code

Change build settings

    Visit Build Settings
    Search For App icon,
    Select "yes" for Include All App Icon Assets
    Include a list (in Alternate App Icon Sets) with precise names of the app icons in the Assets Catalogue.

Build Settings XCode
Usage

import { AppIcon } from '@capacitor-community/app-icon';

const changeIcon = async (iconName) => {
  await AppIcon.change({name: iconName, suppressNotification: true});
}

const getName = async () => {
  const { value } = await AppIcon.getName();
  console.log(value);
}

const resetIcon = async () => {
  const disable: string[] = ['stencil']; // all added aliaces names 
  await AppIcon.reset({ suppressNotification: true, disable });
}

API

    isSupported()
    getName()
    change(...)
    reset(...)
    Interfaces

isSupported()

isSupported() => Promise<{ value: boolean; }>

Checks if changing the app icon is supported. (iOS only)

Returns: Promise<{ value: boolean; }>

Since: 1.0.0
getName()

getName() => Promise<{ value: string | null; }>

Gets the name of currently set alternate icon. If original icon is set, returns null.

Returns: Promise<{ value: string | null; }>

Since: 1.0.0
change(...)

change(options: IconOptions) => Promise<void>

Changes app icon to specified alternate.
Param 	Type
options 	IconOptions

Since: 1.0.0
reset(...)

reset(options: ResetOptions) => Promise<void>

Reverts app icon to original.
Param 	Type
options 	ResetOptions

Since: 1.0.0
Interfaces
IconOptions
Prop 	Type 	Description 	Since
name 	string 	Name of alternate icon to set 	
disable 	string[] 	Name of icons to disable. This is not used for iOS, but required for Android. 	3.1.0
suppressNotification 	boolean 	Flag controlling the in app notification which shows after icon is changed. (iOS) 	
ResetOptions
Prop 	Type 	Description 	Since
suppressNotification 	boolean 	Flag controlling the in app notification which shows after icon is changed (iOS). 	
disable 	string[] 	Name of icons to disable. This is not used for iOS, but required for Android. 	3.1.1


Bluetooth Low Energy

@capacitor-community/bluetooth-le

Capacitor plugin for Bluetooth Low Energy


Maintainers
Maintainer 	GitHub
Patrick Wespi 	pwespi
Philip Peitsch 	peitschie
Versions
Plugin 	Capacitor 	Documentation
7.x 	7.x 	README
6.x 	6.x 	README
3.x 	5.x 	README
2.x 	4.x 	README
1.x 	3.x 	README
0.x 	2.x 	README
Introduction

This is a Capacitor plugin for Bluetooth Low Energy. It supports the web, Android and iOS.

The goal is to support the same features on all platforms. Therefore the Web Bluetooth API is taken as a guidline for what features to implement.

This plugin only supports Bluetooth Low Energy, not Bluetooth serial / classic.

Furthermore the plugin only supports the central role of the Bluetooth Low Energy protocol. If you need the peripheral role, take a look a these plugins:

    https://github.com/randdusing/cordova-plugin-bluetoothle
    https://github.com/don/cordova-plugin-ble-peripheral

For support of Web Bluetooth in various browsers, see implementation status.

Below is an index of all the methods available.

    initialize(...)
    isEnabled()
    requestEnable()
    enable()
    disable()
    startEnabledNotifications(...)
    stopEnabledNotifications()
    isLocationEnabled()
    openLocationSettings()
    openBluetoothSettings()
    openAppSettings()
    setDisplayStrings(...)
    requestDevice(...)
    requestLEScan(...)
    stopLEScan()
    getDevices(...)
    getBondedDevices()
    getConnectedDevices(...)
    connect(...)
    createBond(...)
    isBonded(...)
    disconnect(...)
    getServices(...)
    discoverServices(...)
    getMtu(...)
    requestConnectionPriority(...)
    readRssi(...)
    read(...)
    write(...)
    writeWithoutResponse(...)
    readDescriptor(...)
    writeDescriptor(...)
    startNotifications(...)
    stopNotifications(...)
    Interfaces
    Enums

See Platform Support for an overview of supported methods on Android, iOS and web.
Installation

npm install @capacitor-community/bluetooth-le
npx cap sync

iOS

On iOS, add the NSBluetoothAlwaysUsageDescription to Info.plist, otherwise the app will crash when trying to use Bluetooth (see here).

If the app needs to use Bluetooth while it is in the background, you also have to add bluetooth-central to UIBackgroundModes (for details see here).

./ios/App/App/Info.plist:

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>CFBundleDevelopmentRegion</key>
	<string>en</string>
  ...
+	<key>NSBluetoothAlwaysUsageDescription</key>
+	<string>Uses Bluetooth to connect and interact with peripheral BLE devices.</string>
+	<key>UIBackgroundModes</key>
+	<array>
+		<string>bluetooth-central</string>
+	</array>
</dict>
</plist>

Note: Bluetooth is not available in the iOS simulator. The initialize call will be rejected with an error "BLE unsupported". You have to test your app on a real device.
Android

On Android, no further steps are required to use the plugin.
(Optional) Android 12 Bluetooth permissions

If your app targets Android 12 (API level 31) or higher and your app doesn't use Bluetooth scan results to derive physical location information, you can strongly assert that your app doesn't derive physical location. This allows the app to scan for Bluetooth devices without asking for location permissions. See the Android documentation.

The following steps are required to scan for Bluetooth devices without location permission on Android 12 devices:

    In android/variables.gradle, make sure compileSdkVersion and targetSdkVersion are at least 31 (changing those values can have other consequences on your app, so make sure you know what you're doing).
    In android/app/src/main/AndroidManifest.xml, update the permissions:

        <!-- Permissions -->
    +   <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" android:maxSdkVersion="30" />
    +   <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" android:maxSdkVersion="30" />
    +   <uses-permission android:name="android.permission.BLUETOOTH_SCAN"
    +     android:usesPermissionFlags="neverForLocation"
    +     tools:targetApi="s" />

Set the androidNeverForLocation flag to true when initializing the BleClient.

import { BleClient } from '@capacitor-community/bluetooth-le';
await BleClient.initialize({ androidNeverForLocation: true });

    Note: If you include neverForLocation in your android:usesPermissionFlags, some BLE beacons are filtered from the scan results.

Configuration

You can configure the strings that are displayed in the device selection dialog on iOS and Android when using requestDevice():

./capacitor.config.json:

{
  "...": "other configuration",
  "plugins": {
    "BluetoothLe": {
      "displayStrings": {
        "scanning": "Am Scannen...",
        "cancel": "Abbrechen",
        "availableDevices": "Verfgbare Gerte",
        "noDeviceFound": "Kein Gert gefunden"
      }
    }
  }
}

The default values are:

{
  "plugins": {
    "BluetoothLe": {
      "displayStrings": {
        "scanning": "Scanning...",
        "cancel": "Cancel",
        "availableDevices": "Available devices",
        "noDeviceFound": "No device found"
      }
    }
  }
}

The display strings can also be set at run-time using setDisplayStrings(...).
Usage

There is a plugin wrapper class BleClient which makes events and method arguments easier to work with.

// Import the wrapper class
import { BleClient } from '@capacitor-community/bluetooth-le';

Note: It is not recommended to use the BluetoothLe plugin class directly.
Heart rate monitor

Here is an example of how to use the plugin. It shows how to read the heart rate from a BLE heart rate monitor such as the Polar H10.

import { BleClient, numbersToDataView, numberToUUID } from '@capacitor-community/bluetooth-le';

const HEART_RATE_SERVICE = '0000180d-0000-1000-8000-00805f9b34fb';
const HEART_RATE_MEASUREMENT_CHARACTERISTIC = '00002a37-0000-1000-8000-00805f9b34fb';
const BODY_SENSOR_LOCATION_CHARACTERISTIC = '00002a38-0000-1000-8000-00805f9b34fb';
const BATTERY_SERVICE = numberToUUID(0x180f);
const BATTERY_CHARACTERISTIC = numberToUUID(0x2a19);
const POLAR_PMD_SERVICE = 'fb005c80-02e7-f387-1cad-8acd2d8df0c8';
const POLAR_PMD_CONTROL_POINT = 'fb005c81-02e7-f387-1cad-8acd2d8df0c8';

export async function main(): Promise<void> {
  try {
    await BleClient.initialize();

    const device = await BleClient.requestDevice({
      services: [HEART_RATE_SERVICE],
      optionalServices: [BATTERY_SERVICE, POLAR_PMD_SERVICE],
    });

    // connect to device, the onDisconnect callback is optional
    await BleClient.connect(device.deviceId, (deviceId) => onDisconnect(deviceId));
    console.log('connected to device', device);

    const result = await BleClient.read(device.deviceId, HEART_RATE_SERVICE, BODY_SENSOR_LOCATION_CHARACTERISTIC);
    console.log('body sensor location', result.getUint8(0));

    const battery = await BleClient.read(device.deviceId, BATTERY_SERVICE, BATTERY_CHARACTERISTIC);
    console.log('battery level', battery.getUint8(0));

    await BleClient.write(device.deviceId, POLAR_PMD_SERVICE, POLAR_PMD_CONTROL_POINT, numbersToDataView([1, 0]));
    console.log('written [1, 0] to control point');

    await BleClient.startNotifications(
      device.deviceId,
      HEART_RATE_SERVICE,
      HEART_RATE_MEASUREMENT_CHARACTERISTIC,
      (value) => {
        console.log('current heart rate', parseHeartRate(value));
      },
    );

    // disconnect after 10 sec
    setTimeout(async () => {
      await BleClient.stopNotifications(device.deviceId, HEART_RATE_SERVICE, HEART_RATE_MEASUREMENT_CHARACTERISTIC);
      await BleClient.disconnect(device.deviceId);
      console.log('disconnected from device', device);
    }, 10000);
  } catch (error) {
    console.error(error);
  }
}

function onDisconnect(deviceId: string): void {
  console.log(`device ${deviceId} disconnected`);
}

function parseHeartRate(value: DataView): number {
  const flags = value.getUint8(0);
  const rate16Bits = flags & 0x1;
  let heartRate: number;
  if (rate16Bits > 0) {
    heartRate = value.getUint16(1, true);
  } else {
    heartRate = value.getUint8(1);
  }
  return heartRate;
}

Scanning API

Here is an example of using the scanning API.

import { BleClient, numberToUUID } from '@capacitor-community/bluetooth-le';

const HEART_RATE_SERVICE = numberToUUID(0x180d);

export async function scan(): Promise<void> {
  try {
    await BleClient.initialize();

    await BleClient.requestLEScan(
      {
        services: [HEART_RATE_SERVICE],
      },
      (result) => {
        console.log('received new scan result', result);
      },
    );

    setTimeout(async () => {
      await BleClient.stopLEScan();
      console.log('stopped scanning');
    }, 5000);
  } catch (error) {
    console.error(error);
  }
}

Example Applications

    BLE Tester (Ionic/React)
    OpenGoPro (Ionic/Angular)
    Quasar BLE (Quasar/Vue)

Platform Support

Note: web support depends on the browser, see implementation status.
method 	Android 	iOS 	web
initialize() 	 	 	
isEnabled() 	 	 	--
requestEnable() 	 	 	
enable() 	 	 	
disable() 	 	 	
startEnabledNotifications(...) 	 	 	--
stopEnabledNotifications() 	 	 	--
isLocationEnabled() 	 	 	
openLocationSettings() 	 	 	
openBluetoothSettings() 	 	 	
openAppSettings() 	 	 	
setDisplayStrings(...) 	 	 	--
requestDevice(...) 	 	 	
requestLEScan(...) 	 	 	
stopLEScan() 	 	 	
getDevices(...) 	 	 	
getBondedDevices(...) 	 	 	
getConnectedDevices(...) 	 	 	
connect(...) 	 	 	
createBond(...) 	 	 	
isBonded(...) 	 	 	
disconnect(...) 	 	 	
getServices(...) 	 	 	
discoverServices(...) 	 	 	
getMtu(...) 	 	 	
requestConnectionPriority(...) 	 	 	
readRssi(...) 	 	 	
read(...) 	 	 	
write(...) 	 	 	
readDescriptor(...) 	 	 	
writeDescriptor(...) 	 	 	
writeWithoutResponse(...) 	 	 	
startNotifications(...) 	 	 	
stopNotifications(...) 	 	 	
Legend

     supported
     not supported (throws an unavailable error)
     behind a flag in Chrome (see implementation status)
    -- not supported, but does not throw an error

API
initialize(...)

initialize(options?: InitializeOptions | undefined) => Promise<void>

Initialize Bluetooth Low Energy (BLE). If it fails, BLE might be unavailable on this device. On Android it will ask for the location permission. On iOS it will ask for the Bluetooth permission. For an example, see usage.
Param 	Type
options 	InitializeOptions
isEnabled()

isEnabled() => Promise<boolean>

Reports whether Bluetooth is enabled on this device. Always returns true on web.

Returns: Promise<boolean>
requestEnable()

requestEnable() => Promise<void>

Request enabling Bluetooth. Show a system activity that allows the user to turn on Bluetooth. See https://developer.android.com/reference/android/bluetooth/BluetoothAdapter#ACTION_REQUEST_ENABLE Only available on Android.
enable()

enable() => Promise<void>

Enable Bluetooth. Only available on Android. Deprecated Will fail on Android SDK >= 33. Use requestEnable instead. See https://developer.android.com/reference/android/bluetooth/BluetoothAdapter#enable()
disable()

disable() => Promise<void>

Disable Bluetooth. Only available on Android. Deprecated Will fail on Android SDK >= 33. See https://developer.android.com/reference/android/bluetooth/BluetoothAdapter#disable()
startEnabledNotifications(...)

startEnabledNotifications(callback: (value: boolean) => void) => Promise<void>

Register a callback function that will be invoked when Bluetooth is enabled (true) or disabled (false) on this device. Not available on web (the callback will never be invoked).
Param 	Type 	Description
callback 	(value: boolean) => void 	Callback function to use when the Bluetooth state changes.
stopEnabledNotifications()

stopEnabledNotifications() => Promise<void>

Stop the enabled notifications registered with startEnabledNotifications.
isLocationEnabled()

isLocationEnabled() => Promise<boolean>

Reports whether Location Services are enabled on this device. Only available on Android.

Returns: Promise<boolean>
openLocationSettings()

openLocationSettings() => Promise<void>

Open Location settings. Only available on Android.
openBluetoothSettings()

openBluetoothSettings() => Promise<void>

Open Bluetooth settings. Only available on Android.
openAppSettings()

openAppSettings() => Promise<void>

Open App settings. Not available on web. On iOS when a user declines the request to use Bluetooth on the first call of initialize, it is not possible to request for Bluetooth again from within the app. In this case Bluetooth has to be enabled in the app settings for the app to be able use it.
setDisplayStrings(...)

setDisplayStrings(displayStrings: DisplayStrings) => Promise<void>

Set the strings that are displayed in the requestDevice dialog.
Param 	Type
displayStrings 	DisplayStrings
requestDevice(...)

requestDevice(options?: RequestBleDeviceOptions | undefined) => Promise<BleDevice>

Request a peripheral BLE device to interact with. This will scan for available devices according to the filters in the options and show a dialog to pick a device. For an example, see usage.
Param 	Type 	Description
options 	RequestBleDeviceOptions 	Device filters, see RequestBleDeviceOptions

Returns: Promise<BleDevice>
requestLEScan(...)

requestLEScan(options: RequestBleDeviceOptions, callback: (result: ScanResult) => void) => Promise<void>

Start scanning for BLE devices to interact with according to the filters in the options. The callback will be invoked on each device that is found. Scanning will continue until stopLEScan is called. For an example, see usage. Note: Use with care on web platform, the required API is still behind a flag in most browsers.
Param 	Type
options 	RequestBleDeviceOptions
callback 	(result: ScanResult) => void
stopLEScan()

stopLEScan() => Promise<void>

Stop scanning for BLE devices. For an example, see usage.
getDevices(...)

getDevices(deviceIds: string[]) => Promise<BleDevice[]>

On iOS and web, if you want to connect to a previously connected device without scanning first, you can use getDevice. Uses retrievePeripherals on iOS and getDevices on web. On Android, you can directly connect to the device with the deviceId.
Param 	Type 	Description
deviceIds 	string[] 	List of device IDs, e.g. saved from a previous app run.

Returns: Promise<BleDevice[]>
getBondedDevices()

getBondedDevices() => Promise<BleDevice[]>

Get a list of currently bonded devices. Only available on Android. Uses getBondedDevices on Android

Returns: Promise<BleDevice[]>
getConnectedDevices(...)

getConnectedDevices(services: string[]) => Promise<BleDevice[]>

Get a list of currently connected devices. Uses retrieveConnectedPeripherals on iOS, getConnectedDevices on Android and getDevices on web.
Param 	Type 	Description
services 	string[] 	List of services to filter the devices by. If no service is specified, no devices will be returned. Only applies to iOS.

Returns: Promise<BleDevice[]>
connect(...)

connect(deviceId: string, onDisconnect?: ((deviceId: string) => void) | undefined, options?: TimeoutOptions | undefined) => Promise<void>

Connect to a peripheral BLE device. For an example, see usage.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)
onDisconnect 	((deviceId: string) => void) 	Optional disconnect callback function that will be used when the device disconnects
options 	TimeoutOptions 	Options for plugin call
createBond(...)

createBond(deviceId: string, options?: TimeoutOptions | undefined) => Promise<void>

Create a bond with a peripheral BLE device. Only available on Android. On iOS bonding is handled by the OS.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)
options 	TimeoutOptions 	Options for plugin call
isBonded(...)

isBonded(deviceId: string) => Promise<boolean>

Report whether a peripheral BLE device is bonded. Only available on Android. On iOS bonding is handled by the OS.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)

Returns: Promise<boolean>
disconnect(...)

disconnect(deviceId: string) => Promise<void>

Disconnect from a peripheral BLE device. For an example, see usage.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)
getServices(...)

getServices(deviceId: string) => Promise<BleService[]>

Get services, characteristics and descriptors of a device.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)

Returns: Promise<BleService[]>
discoverServices(...)

discoverServices(deviceId: string) => Promise<void>

Discover services, characteristics and descriptors of a device. You only need this method if your peripheral device changes its services and characteristics at runtime. If the discovery was successful, the remote services can be retrieved using the getServices function. Not available on web.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)
getMtu(...)

getMtu(deviceId: string) => Promise<number>

Get the MTU of a connected device. Note that the maximum write value length is 3 bytes less than the MTU. Not available on web.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)

Returns: Promise<number>
requestConnectionPriority(...)

requestConnectionPriority(deviceId: string, connectionPriority: ConnectionPriority) => Promise<void>

Request a connection parameter update. Only available on Android. https://developer.android.com/reference/android/bluetooth/BluetoothGatt#requestConnectionPriority(int)
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)
connectionPriority 	ConnectionPriority 	Request a specific connection priority. See ConnectionPriority
readRssi(...)

readRssi(deviceId: string) => Promise<number>

Read the RSSI value of a connected device. Not available on web.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)

Returns: Promise<number>
read(...)

read(deviceId: string, service: string, characteristic: string, options?: TimeoutOptions | undefined) => Promise<DataView>

Read the value of a characteristic. For an example, see usage.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)
service 	string 	UUID of the service (see UUID format)
characteristic 	string 	UUID of the characteristic (see UUID format)
options 	TimeoutOptions 	Options for plugin call

Returns: Promise<DataView>
write(...)

write(deviceId: string, service: string, characteristic: string, value: DataView, options?: TimeoutOptions | undefined) => Promise<void>

Write a value to a characteristic. For an example, see usage.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)
service 	string 	UUID of the service (see UUID format)
characteristic 	string 	UUID of the characteristic (see UUID format)
value 	DataView 	The value to write as a DataView. To create a DataView from an array of numbers, there is a helper function, e.g. numbersToDataView([1, 0])
options 	TimeoutOptions 	Options for plugin call
writeWithoutResponse(...)

writeWithoutResponse(deviceId: string, service: string, characteristic: string, value: DataView, options?: TimeoutOptions | undefined) => Promise<void>

Write a value to a characteristic without waiting for a response.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)
service 	string 	UUID of the service (see UUID format)
characteristic 	string 	UUID of the characteristic (see UUID format)
value 	DataView 	The value to write as a DataView. To create a DataView from an array of numbers, there is a helper function, e.g. numbersToDataView([1, 0])
options 	TimeoutOptions 	Options for plugin call
readDescriptor(...)

readDescriptor(deviceId: string, service: string, characteristic: string, descriptor: string, options?: TimeoutOptions | undefined) => Promise<DataView>

Read the value of a descriptor.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)
service 	string 	UUID of the service (see UUID format)
characteristic 	string 	UUID of the characteristic (see UUID format)
descriptor 	string 	UUID of the descriptor (see UUID format)
options 	TimeoutOptions 	Options for plugin call

Returns: Promise<DataView>
writeDescriptor(...)

writeDescriptor(deviceId: string, service: string, characteristic: string, descriptor: string, value: DataView, options?: TimeoutOptions | undefined) => Promise<void>

Write a value to a descriptor.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)
service 	string 	UUID of the service (see UUID format)
characteristic 	string 	UUID of the characteristic (see UUID format)
descriptor 	string 	UUID of the descriptor (see UUID format)
value 	DataView 	The value to write as a DataView. To create a DataView from an array of numbers, there is a helper function, e.g. numbersToDataView([1, 0])
options 	TimeoutOptions 	Options for plugin call
startNotifications(...)

startNotifications(deviceId: string, service: string, characteristic: string, callback: (value: DataView) => void, options?: TimeoutOptions | undefined) => Promise<void>

Start listening to changes of the value of a characteristic. Note that you should only start the notifications once per characteristic in your app and share the data and not call startNotifications in every component that needs the data. For an example, see usage.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)
service 	string 	UUID of the service (see UUID format)
characteristic 	string 	UUID of the characteristic (see UUID format)
callback 	(value: DataView) => void 	Callback function to use when the value of the characteristic changes
options 	TimeoutOptions 	Options for plugin call. Timeout not supported on web.
stopNotifications(...)

stopNotifications(deviceId: string, service: string, characteristic: string) => Promise<void>

Stop listening to the changes of the value of a characteristic. For an example, see usage.
Param 	Type 	Description
deviceId 	string 	The ID of the device to use (obtained from requestDevice or requestLEScan)
service 	string 	UUID of the service (see UUID format)
characteristic 	string 	UUID of the characteristic (see UUID format)
Interfaces
InitializeOptions
Prop 	Type 	Description 	Default
androidNeverForLocation 	boolean 	If your app doesn't use Bluetooth scan results to derive physical location information, you can strongly assert that your app doesn't derive physical location. (Android only) Requires adding 'neverForLocation' to AndroidManifest.xml https://developer.android.com/guide/topics/connectivity/bluetooth/permissions#assert-never-for-location 	false
DisplayStrings
Prop 	Type 	Default 	Since
scanning 	string 	"Scanning..." 	0.0.1
cancel 	string 	"Cancel" 	0.0.1
availableDevices 	string 	"Available devices" 	0.0.1
noDeviceFound 	string 	"No device found" 	0.0.1
BleDevice
Prop 	Type 	Description
deviceId 	string 	ID of the device, which will be needed for further calls. On Android this is the BLE MAC address. On iOS and web it is an identifier.
name 	string 	Name of the peripheral device.
uuids 	string[] 	
RequestBleDeviceOptions
Prop 	Type 	Description 	Default
services 	string[] 	Filter devices by service UUIDs. UUIDs have to be specified as 128 bit UUID strings, e.g. ['0000180d-0000-1000-8000-00805f9b34fb'] There is a helper function to convert numbers to UUIDs. e.g. [numberToUUID(0x180f)]. (see UUID format) 	
name 	string 	Filter devices by name 	
namePrefix 	string 	Filter devices by name prefix 	
optionalServices 	string[] 	For web, all services that will be used have to be listed under services or optionalServices, e.g. [numberToUUID(0x180f)] (see UUID format) 	
allowDuplicates 	boolean 	Normally scans will discard the second and subsequent advertisements from a single device. If you need to receive them, set allowDuplicates to true (only applicable in requestLEScan). (default: false) 	
scanMode 	ScanMode 	Android scan mode (default: ScanMode.SCAN_MODE_BALANCED) 	
manufacturerData 	ManufacturerDataFilter[] 	Allow scanning for devices with a specific manufacturer data https://developer.mozilla.org/en-US/docs/Web/API/Bluetooth/requestDevice#manufacturerdata 	
displayMode 	'alert' | 'list' 	Display mode for the device list in requestDevice (iOS only). - "alert": Classic alert dialog (default) - "list": Scrollable list view 	"alert"
ManufacturerDataFilter
Prop 	Type 	Description
companyIdentifier 	number 	Company ID (sometimes called the manufacturer ID) to search for in the manufacturer data field.
dataPrefix 	Uint8Array 	Prefix to match in the manufacturer data field. On Android this field is mandatory.
mask 	Uint8Array 	Set filter on partial manufacture data. For any bit in the mask, set it the 1 if it needs to match the one in manufacturer data, otherwise set it to 0. The mask must have the same length of dataPrefix.
ScanResult
Prop 	Type 	Description
device 	BleDevice 	The peripheral device that was found in the scan. Android and web: device.name is always identical to localName. iOS: device.name is identical to localName the first time a device is discovered, but after connecting device.name is the cached GAP name in subsequent scans.
localName 	string 	The name of the peripheral device from the advertisement data.
rssi 	number 	Received Signal Strength Indication.
txPower 	number 	Transmit power in dBm. A value of 127 indicates that it is not available.
manufacturerData 	{ [key: string]: DataView; } 	Manufacturer data, key is a company identifier and value is the data.
serviceData 	{ [key: string]: DataView; } 	Service data, key is a service UUID and value is the data.
uuids 	string[] 	Advertised services.
rawAdvertisement 	DataView 	Raw advertisement data (Android only).
DataView
Prop 	Type
buffer 	ArrayBuffer
byteLength 	number
byteOffset 	number
Method 	Signature 	Description
getFloat32 	(byteOffset: number, littleEndian?: boolean | undefined) => number 	Gets the Float32 value at the specified byte offset from the start of the view. There is no alignment constraint; multi-byte values may be fetched from any offset.
getFloat64 	(byteOffset: number, littleEndian?: boolean | undefined) => number 	Gets the Float64 value at the specified byte offset from the start of the view. There is no alignment constraint; multi-byte values may be fetched from any offset.
getInt8 	(byteOffset: number) => number 	Gets the Int8 value at the specified byte offset from the start of the view. There is no alignment constraint; multi-byte values may be fetched from any offset.
getInt16 	(byteOffset: number, littleEndian?: boolean | undefined) => number 	Gets the Int16 value at the specified byte offset from the start of the view. There is no alignment constraint; multi-byte values may be fetched from any offset.
getInt32 	(byteOffset: number, littleEndian?: boolean | undefined) => number 	Gets the Int32 value at the specified byte offset from the start of the view. There is no alignment constraint; multi-byte values may be fetched from any offset.
getUint8 	(byteOffset: number) => number 	Gets the Uint8 value at the specified byte offset from the start of the view. There is no alignment constraint; multi-byte values may be fetched from any offset.
getUint16 	(byteOffset: number, littleEndian?: boolean | undefined) => number 	Gets the Uint16 value at the specified byte offset from the start of the view. There is no alignment constraint; multi-byte values may be fetched from any offset.
getUint32 	(byteOffset: number, littleEndian?: boolean | undefined) => number 	Gets the Uint32 value at the specified byte offset from the start of the view. There is no alignment constraint; multi-byte values may be fetched from any offset.
setFloat32 	(byteOffset: number, value: number, littleEndian?: boolean | undefined) => void 	Stores an Float32 value at the specified byte offset from the start of the view.
setFloat64 	(byteOffset: number, value: number, littleEndian?: boolean | undefined) => void 	Stores an Float64 value at the specified byte offset from the start of the view.
setInt8 	(byteOffset: number, value: number) => void 	Stores an Int8 value at the specified byte offset from the start of the view.
setInt16 	(byteOffset: number, value: number, littleEndian?: boolean | undefined) => void 	Stores an Int16 value at the specified byte offset from the start of the view.
setInt32 	(byteOffset: number, value: number, littleEndian?: boolean | undefined) => void 	Stores an Int32 value at the specified byte offset from the start of the view.
setUint8 	(byteOffset: number, value: number) => void 	Stores an Uint8 value at the specified byte offset from the start of the view.
setUint16 	(byteOffset: number, value: number, littleEndian?: boolean | undefined) => void 	Stores an Uint16 value at the specified byte offset from the start of the view.
setUint32 	(byteOffset: number, value: number, littleEndian?: boolean | undefined) => void 	Stores an Uint32 value at the specified byte offset from the start of the view.
ArrayBuffer

Represents a raw buffer of binary data, which is used to store data for the different typed arrays. ArrayBuffers cannot be read from or written to directly, but can be passed to a typed array or DataView Object to interpret the raw buffer as needed.
Prop 	Type 	Description
byteLength 	number 	Read-only. The length of the ArrayBuffer (in bytes).
Method 	Signature 	Description
slice 	(begin: number, end?: number | undefined) => ArrayBuffer 	Returns a section of an ArrayBuffer.
TimeoutOptions
Prop 	Type 	Description
timeout 	number 	Timeout in milliseconds for plugin call. Default is 10000 for connect and 5000 for other plugin methods.
BleService
Prop 	Type
uuid 	string
characteristics 	BleCharacteristic[]
BleCharacteristic
Prop 	Type
uuid 	string
properties 	BleCharacteristicProperties
descriptors 	BleDescriptor[]
BleCharacteristicProperties
Prop 	Type
broadcast 	boolean
read 	boolean
writeWithoutResponse 	boolean
write 	boolean
notify 	boolean
indicate 	boolean
authenticatedSignedWrites 	boolean
reliableWrite 	boolean
writableAuxiliaries 	boolean
extendedProperties 	boolean
notifyEncryptionRequired 	boolean
indicateEncryptionRequired 	boolean
BleDescriptor
Prop 	Type
uuid 	string
Enums
ScanMode
Members 	Value 	Description
SCAN_MODE_LOW_POWER 	0 	Perform Bluetooth LE scan in low power mode. This mode is enforced if the scanning application is not in foreground. https://developer.android.com/reference/android/bluetooth/le/ScanSettings#SCAN_MODE_LOW_POWER
SCAN_MODE_BALANCED 	1 	Perform Bluetooth LE scan in balanced power mode. (default) Scan results are returned at a rate that provides a good trade-off between scan frequency and power consumption. https://developer.android.com/reference/android/bluetooth/le/ScanSettings#SCAN_MODE_BALANCED
SCAN_MODE_LOW_LATENCY 	2 	Scan using highest duty cycle. It's recommended to only use this mode when the application is running in the foreground. https://developer.android.com/reference/android/bluetooth/le/ScanSettings#SCAN_MODE_LOW_LATENCY
ConnectionPriority
Members 	Value 	Description
CONNECTION_PRIORITY_BALANCED 	0 	Use the connection parameters recommended by the Bluetooth SIG. This is the default value if no connection parameter update is requested. https://developer.android.com/reference/android/bluetooth/BluetoothGatt#CONNECTION_PRIORITY_BALANCED
CONNECTION_PRIORITY_HIGH 	1 	Request a high priority, low latency connection. An application should only request high priority connection parameters to transfer large amounts of data over LE quickly. Once the transfer is complete, the application should request CONNECTION_PRIORITY_BALANCED connection parameters to reduce energy use. https://developer.android.com/reference/android/bluetooth/BluetoothGatt#CONNECTION_PRIORITY_HIGH
CONNECTION_PRIORITY_LOW_POWER 	2 	Request low power, reduced data rate connection parameters. https://developer.android.com/reference/android/bluetooth/BluetoothGatt#CONNECTION_PRIORITY_LOW_POWER
UUID format

All UUIDs have to be provided in 128 bit format as string, e.g. '0000180d-0000-1000-8000-00805f9b34fb'. There is a helper function to convert 16 bit UUID numbers to string:

import { numberToUUID } from '@capacitor-community/bluetooth-le';

const HEART_RATE_SERVICE = numberToUUID(0x180d);
// '0000180d-0000-1000-8000-00805f9b34fb'

Troubleshooting
Connection fails on Android

On some Android devices connect() may fail when the device was connected before, even if the device is not actually connected. In that case you should first call disconnect(), e.g.:

const device = await BleClient.requestDevice({
   // ...
});
// ...
await BleClient.disconnect(device.deviceId);
await BleClient.connect(device.deviceId);

No devices found on Android

On Android, the initialize call requests the location permission. However, if location services are disable on the OS level, the app will not find any devices. You can check if the location is enabled and open the settings when not.

async function initialize() {
  // Check if location is enabled
  if (Capacitor.getPlatform() === 'android') {
    const isLocationEnabled = await BleClient.isLocationEnabled();
    if (!isLocationEnabled) {
      await BleClient.openLocationSettings();
    }
  }
  await BleClient.initialize();
}


Stripe

Capacitor community plugin for native Stripe.

packages
package name 	description 	path
@capacitor-community/stripe 	Support for non-personal payments using Stripe 	/packages/payment
@capacitor-community/stripe-identity 	Supports identity verification using Stripe 	/packages/identity
@capacitor-community/stripe-terminal 	Support for in-person payments using Stripe 	/packages/terminal
Hint
Using v7, we recommend to remove buildscript from app/build.gradle

Good news for users who added a buildscript in v6 to eliminate the Unable to get provider androidx.startup.InitializationProvider error, it is no longer needed in Capacitor v7. Please remove the following

- buildscript {
-   ext.kotlin_version = '2.0.+'
-   repositories {
-       google()
-       mavenCentral()
-   }
-   dependencies {
-     classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
-   }
- }
- apply plugin: 'kotlin-android'

Versions

Users of Capacitor v6 should use version v6 of the Plugin.

% npm install @capacitor-community/stripe@6
% npm install @capacitor-community/stripe-identity@6
% npm install @capacitor-community/stripe-terminal@6

How to use Stripe Android currently package

Capacitor Android 7's default settings is here:

minSdkVersion = 22
compileSdkVersion = 35
targetSdkVersion = 35

To use the latest Stripe Android, you need to version these up. To use the latest features, follow these steps.

    Open android/variables.gradle and change sdkVersion version, if need.
    Add stripeAndroidVersion, identityVersion or stripeterminalCoreVersion and set required version. Release information is here:

    https://github.com/stripe/stripe-android/releases
    https://github.com/stripe/stripe-terminal-android/releases

  ext {
-   minSdkVersion = 23
+   minSdkVersion = 26
    compileSdkVersion = 35
    targetSdkVersion = 35
    androidxActivityVersion = '1.9.2'
    androidxAppCompatVersion = '1.7.0'
    androidxCoordinatorLayoutVersion = '1.2.0'
    androidxCoreVersion = '1.15.0'
    androidxFragmentVersion = '1.8.4'
    coreSplashScreenVersion = '1.0.1'
    androidxWebkitVersion = '1.12.1'
    junitVersion = '4.13.2'
    androidxJunitVersion = '1.2.1'
    androidxEspressoCoreVersion = '3.6.1'
    cordovaAndroidVersion = '10.1.1'

    // If you use @capacitor-community/stripe:
+   stripeAndroidVersion = '21.3.+'

    // If you use @capacitor-community/stripe-identity:
+   identityVersion = '21.3.+'

    // If you use @capacitor-community/stripe-terminal:
+   stripeterminalCoreVersion = '4.5.0'
+   stripeterminalTapToPayVersion = '4.5.0'
  }

Note: @capacitor-community/stripe-terminal does not work with the default sdkVersion, so these updates are mandatory. See /packages/terminal for more information.
Error when running cap update ios

[!] CocoaPods could not find compatible versions for pod "StripePaymentSheet":
  In snapshot (Podfile.lock):
..
You have either:
 * out-of-date source repos which you can update with `pod repo update` or with `pod install --repo-update`.
 * changed the constraints of dependency `StripePaymentSheet` inside your development pod `CapacitorCommunityStripe`.
   You should run `pod update StripePaymentSheet` to apply changes you've made.

You will see this error often when using Capacitor iOS. The solution is simple: do the following:

% cd ios/App && pod install --repo-update

or

% cd ios/App && pod update

Maintainers
Maintainer 	GitHub 	Social
Hidetaka Okamoto 	hideokamoto 	@hide__dev
Masahiko Sakakibara 	rdlabo 	@rdlabo



SQLITE DATABASE

@capacitor-community/sqlite

Capacitor community plugin for Native and Electron SQLite Databases. - In Native, databases could be encrypted with `SQLCipher` - In Electron, databases could be encrypted with `better-sqlite3-multiple-ciphers`


Maintainers
Maintainer 	GitHub 	Social
Robin Genz 	robingenz 	@robin_genz
Installation

Important

This plugin uses the SQLCipher library (even for unencrypted databases), which is subject to the Encryption Export Regulations and may require you to submit a year-end self-classification report to the U.S. government. Read more here.

npm install --save @capacitor-community/sqlite
npx cap sync

yarn add @capacitor-community/sqlite
npx cap sync

pnpm install --save @capacitor-community/sqlite
pnpm install --save jeep-sqlite
pnpm install --save sql.js
npx cap sync

then add plugin to main capacitor.config.ts file:

import { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  appId: 'com.jeep.app.ionic7.angular.sqlite',
  appName: 'ionic7-angular-sqlite-starter',
  webDir: 'www',
  server: {
    androidScheme: 'https'
  },
  plugins: {
    CapacitorSQLite: {
      iosDatabaseLocation: 'Library/CapacitorDatabase',
      iosIsEncryption: true,
      iosKeychainPrefix: 'angular-sqlite-app-starter',
      iosBiometric: {
        biometricAuth: false,
        biometricTitle : "Biometric login for capacitor sqlite"
      },
      androidIsEncryption: true,
      androidBiometric: {
        biometricAuth : false,
        biometricTitle : "Biometric login for capacitor sqlite",
        biometricSubTitle : "Log in using your biometric"
      },
      electronIsEncryption: true,
      electronWindowsLocation: "C:\\ProgramData\\CapacitorDatabases",
      electronMacLocation: "/Volumes/Development_Lacie/Development/Databases",
      electronLinuxLocation: "Databases"
    }
  }
};
export default config;

More Reading:

    Updating to Capacitor 5
    Releases
    Changelog
    Issues
    Capacitor documentation
    Datatypes In SQLite Version 3
    IncrementalUpgradeDatabaseVersion

Tutorials Blog

    JeepQ Capacitor Plugin Tutorials

Web Quirks

The plugin follows the guidelines from the Capacitor Team,

    Capacitor Browser Support

Meaning that it will not work in IE11 without additional JavaScript transformations, e.g. with Babel. You'll need the usual capacitor/android/react npm script to build and copy the assets folder.
For Angular framework

    Copy manually the file sql-wasm.wasm from node_modules/sql.js/dist/sql-wasm.wasm to the src/assets folder of YOUR_APP

For Vue & React frameworks

    Copy manually the file sql-wasm.wasm from node_modules/sql.js/dist/sql-wasm.wasm to the public/assets folder of YOUR_APP

Android Quirks

    In case you get the following error when building your app in Android Studio: x files found with path 'build-data.properties'. You can add the following code to app/build.gradle:

    packagingOptions {
        exclude 'build-data.properties'
    }

See #301 and SO question for more information.

    Check/Add the following: Gradle JDK version 21 Android Gradle Plugin Version 8.7.2 In variables.gradle

    minSdkVersion = 23
    compileSdkVersion = 35
    targetSdkVersion = 35

In AndroidManifest.xml

    <application
      android:allowBackup="false"
      android:fullBackupContent="false"
      android:dataExtractionRules="@xml/data_extraction_rules"

In res/xml create a file data_extraction_rules.xml containing:

<?xml version="1.0" encoding="utf-8"?>
<data-extraction-rules>
    <cloud-backup>
      <exclude domain="root" />
      <exclude domain="database" />
      <exclude domain="sharedpref" />
      <exclude domain="external" />
    </cloud-backup>
    <device-transfer>
      <exclude domain="root" />
      <exclude domain="database" />
      <exclude domain="sharedpref" />
      <exclude domain="external" />
    </device-transfer>
</data-extraction-rules>

Electron Quirks

    On Electron, go to the Electron folder of YOUR_APPLICATION

cd electron
npm install --save better-sqlite3-multiple-ciphers
npm install --save electron-json-storage
npm install --save jszip
npm install --save node-fetch@2.6.7
npm install --save crypto
npm install --save crypto-js
npm install --save-dev @types/better-sqlite3
npm install --save-dev @types/electron-json-storage
npm install --save-dev @types/crypto-js

    Important: node-fetch version must be <=2.6.7; otherwise you'll get an error running the app.

    Important: if you are using @capacitor-community/electron v5
        you have to stick to Electron@25.8.4 till further notice so do:

npm install --save-dev electron@25.8.4
npm uninstall --save-dev electron-rebuild
npm install --save-dev @electron/rebuild
npm install --save-dev electron-builder@24.6.4

    in electron folder open the tsconfig.json file and add "skipLibCheck": true,

IOS Quirks

    on iOS, no further steps needed.

Supported Methods by Platform
Name 	Android 	iOS 	Electron 	Web
createConnection (ReadWrite) 	 	 	 	
createConnection (ReadOnly) 	 	 	 	
closeConnection (ReadWrite) 	 	 	 	
closeConnection (ReadOnly) 	 	 	 	
isConnection (ReadWrite) 	 	 	 	
isConnection (ReadOnly) 	 	 	 	
open (non-encrypted DB) 	 	 	 	
open (encrypted DB) 	 	 	 	
close 	 	 	 	
getUrl 	 	 	 	
getVersion 	 	 	 	
execute 	 	 	 	
executeSet 	 	 	 	
run 	 	 	 	
query 	 	 	 	
deleteDatabase 	 	 	 	
importFromJson 	 	 	 	
exportToJson 	 	 	 	
deleteExportedRows 	 	 	 	
createSyncTable 	 	 	 	
setSyncDate 	 	 	 	
getSyncDate 	 	 	 	
isJsonValid 	 	 	 	
isDBExists 	 	 	 	
addUpgradeStatement 	 	 	 	
copyFromAssets 	 	 	 	
isDBOpen 	 	 	 	
isDatabase 	 	 	 	
isTableExists 	 	 	 	
getTableList 	 	 	 	
getDatabaseList 	 	 	 	
getMigratableDbList 	 	 	 	
addSQLiteSuffix 	 	 	 	
deleteOldDatabases 	 	 	 	
moveDatabasesAndAddSuffix 	 	 	 	
checkConnectionsConsistency 	 	 	 	
isSecretStored 	 	 	 	
setEncryptionSecret 	 	 	 	
changeEncryptionSecret 	 	 	 	
clearEncryptionSecret 	 	 	 	
checkEncryptionSecret 	 	 	 	
initWebStore 	 	 	 	
saveToStore 	 	 	 	
getNCDatabasePath 	 	 	 	
createNCConnection 	 	 	 	
closeNCConnection 	 	 	 	
isNCDatabase 	 	 	 	
transaction 	 	 	 	
getFromHTTPRequest 	 	 	 	
isDatabaseEncrypted 	 	 	 	
isInConfigEncryption 	 	 	 	
isInConfigBiometricAuth 	 	 	 	
getFromLocalDiskToStore 	 	 	 	
saveToLocalDisk 	 	 	 	
beginTransaction 	 	 	 	
commitTransaction 	 	 	 	
rollbackTransaction 	 	 	 	
isTransactionActive 	 	 	 	
Documentation & APIs

    API

    API Connection Wrapper

    API DB Connection Wrapper

    Import-Export Json

    Upgrade Database Version

    Migrating Cordova Databases

    Type ORM

    TypeORM-From-5.6.0

    Web Usage

    Non Conformed Databases

    Biometric Authentication

    Enable SQLite Schema Error Syntax Highlighting

    Electron Better SQLite3

    Enable minified build on Android

Applications demonstrating the use of the plugin and related documentation
Ionic/Angular

    Web ionic7-angular-sqlite-app Ionic 7 Angular 16 Capacitor 5 SQLite CRUD operations for Web.

    Native ionic7-angular-sqlite-app Ionic 7 Angular 16 Capacitor 5 SQLite CRUD operations for iOS, Android and Electron.

    angular-sqlite-synchronize-app (Not Updated)

Ionic/Angular TypeORM app (Not Updated)

    ionic-sqlite-typeorm-app

Ionic/React

    Web ionic7-react-sqlite-app Ionic7 React18.2.0 Vite4.3.9 Capacitor 5 SQLite CRUD operations for Web.

    Web ionic7-react-sqlite-app Ionic7 React18.2.0 Vite4.3.9 Capacitor 5 SQLite CRUD operations for iOS, Android and Electron.

Ionic/React Capacitor SQLite + TypeORM Example App

    capacitor-sqlite-react-typeorm-app

Ionic/Vue

    Web ionic7-vue-sqlite-app Ionic7 Vue3.2.45 Vite4.3.9 Capacitor 5 SQLite CRUD operations for Web.

    Web ionic7-vue-sqlite-app Ionic7 Vue3.2.45 Vite4.3.9 Capacitor 5 SQLite CRUD operations for iOS, Android and Electron.

Vue (Not Updated)

    vue-sqlite-app

Vue TypeORM app (Not Updated)

    vue-typeorm-app

SolidJS+Vite (Not Updated)

    solidjs-vite-sqlite-app

Nuxt3 + Kysely

    nuxt3-capacitor-sqlite-kysely-example

Quasar

    Web quasar-sqlite-app Quasar2.6.0 Capacitor 5 SQLite CRUD operations for Web.

    Native quasar-sqlite-app Quasar2.6.0 Capacitor 5 SQLite CRUD operations for iOS, Android and Electron.

SvelteKit

    Web/Native vite-sveltekit-capacitor-sqlite

Dependencies

The iOS and Android codes are using SQLCipher allowing for database encryption. The iOS code is using ZIPFoundation for unzipping assets files The Electron code is using better-sqlite3-multiple-ciphers , electron-json-storage and node-fetch from 5.0.4. The Web code is using the Stencil component jeep-sqlite based on sql.js, localforage. and jszip


Generic OAuth 2

@capacitor-community/generic-oauth2

Generic Capacitor OAuth 2 client plugin.


Introduction

This is a generic OAuth 2 client plugin. It lets you configure the oauth parameters yourself instead of using SDKs. Therefore, it is usable with various providers. See identity providers the community has already used this plugin with.
Installation

npm install @capacitor-community/generic-oauth2
npx cap sync

Versions
Plugin 	For Capacitor 	Docs 	Notes
7.x 	7.x.x 	README 	Xcode 16.0+ required!
6.x 	6.x.x 	README 	Breaking changes. As of this version the changelog will be available in the Releases tab in GitHub. XCode 15.0 needs this version
5.x 	5.x.x 	README 	Breaking changes see Changelog. XCode 14.1 needs this version
Supported flows

See the excellent article about OAuth2 response type combinations.

https://medium.com/@darutk/diagrams-of-all-the-openid-connect-flows-6968e3990660

The plugin on the other will behave differently depending on the existence of certain config parameters:

These parameters are:

    accessTokenEndpoint
    resourceUrl

e.g.

    If responseType=code, pkceDisable=true and accessTokenEndpoint is missing the authorizationCode will be resolve along with the whole authorization response. This only works for the Web and Android. On iOS the used lib does not allows to cancel after the authorization request see #13.

    If you just need the id_token JWT you have to set accessTokenEndpoint and resourceUrl to null.

Tested / working flows

These flows are already working and were tested by me.
Implicit flow

responseType: "token"

Code flow + PKCE

...
responseType: "code"
pkceEnabled: true
...

Supported on Web with the new method redirectFlowCodeListener which should be called on your app init process so it watches for the URL queryString code to generate an access_token correctly.

Please be aware that some providers (OneDrive, Auth0) allow Code Flow + PKCE only for native apps. Web apps have to use implicit flow.
Important

For security reasons this plugin does/will not support Code Flow without PKCE.

That would include storing your client secret in client code which is highly insecure and not recommended. That flow should only be used on the backend (server).
Configuration
Use it

import {GenericOAuth2} from '@capacitor-community/generic-oauth2';

@Component({
    template:
        '<button (click)="onOAuthBtnClick()">Login with OAuth</button>' +
        '<button (click)="onOAuthRefreshBtnClick()">Refresh token</button>',
})
export class SignupComponent {
    accessToken: string;
    refreshToken: string;

    onOAuthBtnClick() {
        GenericOAuth2.authenticate(oauth2Options)
            .then(response => {
                this.accessToken = response['access_token'];
                this.refreshToken = response['refresh_token'];

                // only if you include a resourceUrl protected user values are included in the response!
                let oauthUserId = response['id'];
                let name = response['name'];

                // go to backend
            })
            .catch(reason => {
                console.error('OAuth rejected', reason);
            });
    }

    // Refreshing tokens only works on iOS/Android for now
    onOAuthRefreshBtnClick() {
        if (!this.refreshToken) {
            console.error('No refresh token found. Log in with OAuth first.');
        }

        GenericOAuth2.refreshToken(oauth2RefreshOptions)
            .then(response => {
                this.accessToken = response['access_token'];
                // Don't forget to store the new refresh token as well!
                this.refreshToken = response['refresh_token'];
                // Go to backend
            })
            .catch(reason => {
                console.error('Refreshing token failed', reason);
            });
    }
}

Options

See the oauth2Options and oauth2RefreshOptions interfaces at https://github.com/capacitor-community/generic-oauth2/blob/main/src/definitions.ts for details.

Example:

{
      authorizationBaseUrl: "https://accounts.google.com/o/oauth2/auth",
      accessTokenEndpoint: "https://www.googleapis.com/oauth2/v4/token",
      scope: "email profile",
      resourceUrl: "https://www.googleapis.com/userinfo/v2/me",
      logsEnabled: true,
      web: {
        appId: environment.oauthAppId.google.web,
        responseType: "token", // implicit flow
        accessTokenEndpoint: "", // clear the tokenEndpoint as we know that implicit flow gets the accessToken from the authorizationRequest
        redirectUrl: "http://localhost:4200",
        windowOptions: "height=600,left=0,top=0"
      },
      android: {
        appId: environment.oauthAppId.google.android,
        responseType: "code", // if you configured a android app in google dev console the value must be "code"
        redirectUrl: "com.companyname.appname:/" // package name from google dev console
      },
      ios: {
        appId: environment.oauthAppId.google.ios,
        responseType: "code", // if you configured a ios app in google dev console the value must be "code"
        redirectUrl: "com.companyname.appname:/" // Bundle ID from google dev console
      }
    }

authenticate()

Overrideable Base Parameter

These parameters are overrideable in every platform
parameter 	default 	required 	description 	since
appId 		yes 	aka clientId, serviceId, ... 	
authorizationBaseUrl 		yes 		
responseType 		yes 		
redirectUrl 		yes 		2.0.0
accessTokenEndpoint 			If empty the authorization response incl code is returned. Known issue: Not on iOS! 	
resourceUrl 			If empty the tokens are return instead. If you need just the id_token you have to set both accessTokenEndpoint and resourceUrl to null or empty ``. 	
additionalResourceHeaders 			Additional headers for the resource request 	3.0.0
pkceEnabled 	false 		Enable PKCE if you need it. Note: On iOS because of #111 boolean values are not overwritten. You have to explicitly define the param in the subsection. 	
logsEnabled 	false 		Enable extensive logging. All plugin outputs are prefixed with I/Capacitor/GenericOAuth2Plugin: across all platforms. Note: On iOS because of #111 boolean values are not overwritten. You have to explicitly define the param in the subsection. 	3.0.0
scope 				
state 			The plugin always uses a state.
If you don't provide one we generate it. 	
additionalParameters 			Additional parameters for anything you might miss, like none, response_mode.

Just create a key value pair.
{ "key1": "value", "key2": "value, "response_mode": "value"} 	

Platform Web
parameter 	default 	required 	description 	since
windowOptions 			e.g. width=500,height=600,left=0,top=0 	
windowTarget 	_blank 			
windowReplace 				3.0.0
sendCacheControlHeader 	true 		Whether to send the cache control header with the token request, unsupported by some providers. 	6.1.0

Platform Android
parameter 	default 	required 	description 	since
customHandlerClass 			Provide a class name implementing com.getcapacitor.community.genericoauth2.handler.OAuth2CustomHandler 	
handleResultOnNewIntent 	false 		Alternative to handle the activity result. The onNewIntent method is only call if the App was killed while logging in. 	
handleResultOnActivityResult 	true 			

Platform iOS
parameter 	default 	required 	description 	since
customHandlerClass 			Provide a class name implementing CapacitorCommunityGenericOauth2.OAuth2CustomHandler 	
siwaUseScope 			SiWA default scope is name email if you want to use the configured one set this param true 	2.1.0
logout()

The existing logout() method has some issues and is not currently functional. See Issue #97 for possible workarounds.
refreshToken()
parameter 	default 	required 	description 	since
appId 		yes 	aka clientId, serviceId, ... 	
accessTokenEndpoint 		yes 		
refreshToken 		yes 		
scope 				
Error Codes
authenticate()

    ERR_PARAM_NO_APP_ID ... The appId / clientId is missing. (web, android, ios)
    ERR_PARAM_NO_AUTHORIZATION_BASE_URL ... The authorization base url is missing. (web, android, ios)
    ERR_PARAM_NO_RESPONSE_TYPE ... The response type is missing. (web, android, ios)
    ERR_PARAM_NO_REDIRECT_URL ... The redirect url is missing. (web, android, ios)
    ERR_STATES_NOT_MATCH ... The state included in the authorization code request does not match the one in the redirect. Security risk! (web, android, ios)
    ERR_AUTHORIZATION_FAILED ... The authorization failed.
    ERR_NO_ACCESS_TOKEN ... No access_token found. (web, android)
    ERR_NO_AUTHORIZATION_CODE ... No authorization code was returned in the redirect response. (web, android, ios)
    USER_CANCELLED ... The user cancelled the login flow. (web, android, ios)
    ERR_CUSTOM_HANDLER_LOGIN ... Login through custom handler class failed. See logs and check your code. (android, ios)
    ERR_CUSTOM_HANDLER_LOGOUT ... Logout through custom handler class failed. See logs and check your code. (android, ios)
    ERR_ANDROID_NO_BROWSER ... No suitable browser could be found! (Android)
    ERR_ANDROID_RESULT_NULL ... The auth result is null. The intent in the ActivityResult is null. This might be a valid state but make sure you configured Android part correctly! See Platform Android
    ERR_GENERAL ... A unspecific error. Check the logs to see want exactly happened. (web, android, ios)

refreshToken()

    ERR_PARAM_NO_APP_ID ... The appId / clientId is missing. (android, ios)
    ERR_PARAM_NO_ACCESS_TOKEN_ENDPOINT ... The access token endpoint url is missing. It is only needed on refresh, on authenticate it is optional. (android, ios)
    ERR_PARAM_NO_REFRESH_TOKEN ... The refresh token is missing. (android, ios)
    ERR_NO_ACCESS_TOKEN ... No access_token found. (web, android)
    ERR_GENERAL ... A unspecific error. Check the logs to see want exactly happened. (android, ios)

Platform: Web/PWA

This implementation just opens a browser window to let users enter their credentials.

As there is no provider SDK used to accomplish OAuth, no additional javascript files must be loaded and so there is no performance impact using this plugin in a web application.
Platform: Android

There are two options when configuring an OAuth 2 protocol:

    Some OAuth providers allow using their service without implementing their SDK. For these providers, you can use the default config available,
    Other OAuth providers (e.g. Facebook) force developers to use their SDK. For these providers, you can implement a Custom OAuth Handler.

1. Android Default Config

Note

You can skip this, if you're only exclusively configuring providers using a Custom OAuth Handler.

Note

For more information about configuring your Android app, refer to the offical Capacitor documentation
android/app/src/main/res/AndroidManifest.xml

The AndroidManifest.xml in your Capacitor Android project already contains

<intent-filter>
    <action android:name="android.intent.action.VIEW"/>
    <category android:name="android.intent.category.DEFAULT"/>
    <category android:name="android.intent.category.BROWSABLE"/>
    <data android:scheme="@string/custom_url_scheme"/>
</intent-filter>

Find the following line in your AndroidManifest.xml

<data android:scheme="@string/custom_url_scheme"/>

and change it to

<data android:scheme="@string/custom_url_scheme" android:host="oauth"/>

Note

Actually any value for android:host will do. It does not have to be oauth.

This will fix an issues within the oauth workflow where the application is shown twice.

See Issue #15 for details what happens.
android/app/src/main/res/values/strings.xml

In your strings.xml change the custom_url_scheme string to your actual scheme value. Do NOT include ://oauth/redirect or other endpoint urls here!

<string name="custom_url_scheme">com.example.yourapp</string>

        <!-- wrong -->
        <!-- <string name="custom_url_scheme">com.example.yourapp://endpoint/path</string> -->

android/app/build.gradle

android.defaultConfig.manifestPlaceholders = [
        // change to the 'custom_url_scheme' value in your strings.xml. They need to be the same. e.g.
        "appAuthRedirectScheme": "com.example.yourapp"
]

Troubleshooting

    If your appAuthRedirectScheme does not get recognized because you are using a library that replaces it (e.g.: onesignal-cordova-plugin), you will have to add it to your buildTypes like the following:

android.buildTypes.debug.manifestPlaceholders = [
        'appAuthRedirectScheme': '<@string/custom_url_scheme from string.xml>' // e.g. com.companyname.appname
]
android.buildTypes.release.manifestPlaceholders = [
        'appAuthRedirectScheme': '<@string/custom_url_scheme from string.xml>' // e.g. com.companyname.appname
]

    "ERR_ANDROID_RESULT_NULL": See Issue #52 for details. I cannot reproduce this behaviour. Moreover, there might be situation this state is valid. In other cases e.g. in the linked issue a configuration tweak fixed it.

    To prevent some logout issues on certain OAuth2 providers (like Salesforce for example), you should provide the id_token parameter on the logout(...) function. This ensures that not only the cookies are deleted, but also the logout link is called from the OAuth2 provider. Also, it uses the system browser that the plugin uses (and not the user's default browser) to call the logout URL. This additionally ensures that the cookies are deleted in the correct browser.

2. Custom OAuth Handler

Some OAuth providers (e.g. Facebook) force developers to use their SDK.

This plugin should be as generic as possible, so I don't want to include provider specific dependencies.

Therefore, I created a mechanism which let developers integrate custom SDK features in this plugin. Simply configure a full qualified classname in the option property android.customHandlerClass. This class has to implement com.getcapacitor.community.genericoauth2.handler.OAuth2CustomHandler.

Refer to the Facebook example below for a reference implementation.
Platform: iOS

There are two options when configuring an OAuth 2 protocol:

    Some OAuth providers allow using their service without implementing their SDK. For these providers, you can use the default config available,
    Other OAuth providers (e.g. Facebook) force developers to use their SDK. For these providers, you can implement a Custom OAuth Handler.

1. iOS Default Config

Note

You can skip this, if you're only exclusively configuring providers using a Custom OAuth Handler.

Open ios/App/App/Info.plist in XCode (Context menu -> Open as -> Source) and add the value of redirectUrl from your config without :/ like that

<key>CFBundleURLTypes</key>
<array>
<dict>
    <key>CFBundleURLSchemes</key>
    <array>
        <string>com.companyname.appname</string>
    </array>
</dict>
</array>

2. Custom OAuth Handler

Some OAuth providers (e.g. Facebook) force developers to use their SDK.

This plugin should be as generic as possible, so I don't want to include provider specific dependencies.

Therefore, I created a mechanism which let developers integrate custom SDK features in this plugin. Simply configure the class name in the option property ios.customHandlerClass. This class has to implement CapacitorCommunityGenericOauth2.OAuth2CustomHandler.

Refer to the Facebook example below for a reference implementation.
Platform: Electron

    No timeline.

Where to store access tokens?

You can use the capacitor-secure-storage plugin for this.

This plugin stores data in secure locations for natives devices.

    For Android, it will store data in a AndroidKeyStore and a SharedPreferences.
    For iOS, it will store data in a SwiftKeychainWrapper.

List of Providers

These are some of the providers that can be configured with this plugin. I'm happy to add others ot the list, if you let me know.
Name 	Example (config,...) 	Notes
Google 	see below 	
Facebook 	see below 	
Azure 	see below 	
Apple 	see below 	ios only
Examples
Apple
iOS 13+

Minimum config

appleLogin()
{
    GenericOAuth2.authenticate({
        appId: "xxxxxxxxx",
        authorizationBaseUrl: "https://appleid.apple.com/auth/authorize",
    });
}

The plugin requires authorizationBaseUrl as it triggers the native support and because it is needed for other platforms anyway. Those platforms are not supported yet.

appId is required as well for internal, generic reasons and any not blank value is fine.

It is also possible to control the scope although Apple only supports email and/or fullName. Add siwaUseScope: true to the ios section. Then you can use scope: "fullName", scope: "email" or both but the latter is the default one if siwaUseScope is not set or false.

appleLogin()
{
    GenericOAuth2.authenticate({
        appId: "xxxxxxxxx",
        authorizationBaseUrl: "https://appleid.apple.com/auth/authorize",
        ios: {
            siwaUseScope: true,
            scope: "fullName"
        }
    });
}

As "Signin with Apple" is only supported since iOS 13 you should show the according button only in that case.

In Angular do sth like

import {Component, OnInit} from '@angular/core';
import {Device, DeviceInfo} from '@capacitor/device';
import {GenericOAuth2} from '@capacitor-community/generic-oauth2';

@Component({
    templateUrl: './siwa.component.html',
})
export class SiwaComponent implements OnInit {
    ios: boolean;
    siwaSupported: boolean;
    deviceInfo: DeviceInfo;

    async ngOnInit() {
        this.deviceInfo = await Device.getInfo();
        this.ios = this.deviceInfo.platform === 'ios';
        if (this.ios) {
            const majorVersion: number = +this.deviceInfo.osVersion.split('.')[0];
            this.siwaSupported = majorVersion >= 13;
        }
    }
}

And show the button only if siwaSupported is true.

The response contains these fields:

"id"
"given_name"
"family_name"
"email"
"real_user_status"
"state"
"id_token"
"code"

iOS <12

not supported
PWA

not supported
Android

not supported
Azure Active Directory / Azure AD B2C

It's important to use the urls you see in the Azure portal for the specific platform.

Note: Don't be confused by the fact that the Azure portal shows "Azure Active Directory" and "Azure AD B2C" services. They share the same core features and therefore the plugin should work either way.
PWA

import {
    OAuth2AuthenticateOptions,
    GenericOAuth2,
} from '@capacitor-community/generic-oauth2';

export class AuthService {
    getAzureB2cOAuth2Options(): OAuth2AuthenticateOptions {
        return {
            appId: environment.oauthAppId.azureBc2.appId,
            authorizationBaseUrl: `https://login.microsoftonline.com/${environment.oauthAppId.azureBc2.tenantId}/oauth2/v2.0/authorize`,
            scope: 'https://graph.microsoft.com/User.Read', // See Azure Portal -> API permission
            accessTokenEndpoint: `https://login.microsoftonline.com/${environment.oauthAppId.azureBc2.tenantId}/oauth2/v2.0/token`,
            resourceUrl: 'https://graph.microsoft.com/v1.0/me/',
            responseType: 'code',
            pkceEnabled: true,
            logsEnabled: true,
            web: {
                redirectUrl: environment.redirectUrl,
                windowOptions: 'height=600,left=0,top=0',
            },
            android: {
                redirectUrl: 'msauth://{package-name}/{url-encoded-signature-hash}', // See Azure Portal -> Authentication -> Android Configuration "Redirect URI"
            },
            ios: {
                pkceEnabled: true, // workaround for bug #111
                redirectUrl: 'msauth.{package-name}://auth',
            },
        };
    }
}

Custom Scopes

If you need to use custom scopes configured in "API permissions" and created in "Expose an API" in Azure Portal you might need to remove the resourceUrl parameter if your scopes are not included in the response. I can not give a clear advise on those Azure specifics. Try to experiment with the config until Azure includes everything you need in the response.
A configuration with custom scopes might look like this:

A configuration with custom scopes might look like this:

Prior configs
Other configs that works in prior versions

Other configs that works in prior versions

Other configs that works in prior versions

Android

If you have only Azure B2C as identity provider you have to add a new intent-filter to your main activity in AndroidManifest.xml.

<!-- azure ad b2c -->
<intent-filter>
    <action android:name="android.intent.action.VIEW"/>
    <category android:name="android.intent.category.DEFAULT"/>
    <category android:name="android.intent.category.BROWSABLE"/>
    <data android:scheme="@string/azure_b2c_scheme" android:host="@string/package_name"
          android:path="@string/azure_b2c_signature_hash"/>
</intent-filter>

If you have multiple identity providers or your logins always ends in a USER_CANCELLED error like in #178 you have to create an additional Activity in AndroidManifest.xml.

These are both activities! Make sure to replace com.company.project.MainActivity with your real qualified class path!

<activity
        android:configChanges="orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode"
        android:name="com.company.project.MainActivity"
        android:label="@string/title_activity_main"
        android:launchMode="singleTask"
        android:theme="@style/AppTheme.NoActionBarLaunch">

    <intent-filter>
        <action android:name="android.intent.action.MAIN"/>
        <category android:name="android.intent.category.LAUNCHER"/>
    </intent-filter>

    <intent-filter>
        <action android:name="android.intent.action.VIEW"/>
        <category android:name="android.intent.category.DEFAULT"/>
        <category android:name="android.intent.category.BROWSABLE"/>
        <data android:scheme="@string/custom_url_scheme" android:host="@string/custom_host"/>
    </intent-filter>

</activity>

<activity android:name="net.openid.appauth.RedirectUriReceiverActivity" android:exported="true">
<intent-filter>
    <action android:name="android.intent.action.VIEW"/>
    <category android:name="android.intent.category.DEFAULT"/>
    <category android:name="android.intent.category.BROWSABLE"/>
    <data android:scheme="@string/custom_url_scheme" android:host="@string/custom_host"/>
</intent-filter>

<intent-filter>
    <action android:name="android.intent.action.VIEW"/>
    <category android:name="android.intent.category.DEFAULT"/>
    <category android:name="android.intent.category.BROWSABLE"/>
    <data android:scheme="@string/azure_b2c_scheme" android:host="@string/package_name"
          android:path="@string/azure_b2c_signature_hash"/>
</intent-filter>
</activity>

Values for android/app/src/main/res/values/string.xml. Replace the example values!

  <string name="title_activity_main">Your Project's Name/string>
  <string name="custom_url_scheme">com.company.project</string>
  <string name="custom_host">foo</string><!-- any value is fine -->
  <string name="package_name">com.company.project</string>
  <string name="azure_b2c_scheme">msauth</string>
  <string name="azure_b2c_signature_hash">/your-signature-hash</string><!-- The leading slash is required. Copied from Azure Portal Android Config "Signature hash" field -->

See Android Default Config
iOS

Open Info.plist in XCode by clicking right on that file -> Open as -> Source Code. Note: XCode does not "like" files opened and changed externally.

<key>CFBundleURLTypes</key>
<array>
<dict>
    <key>CFBundleURLSchemes</key>
    <array>
        <!-- msauth.BUNDLE_ID -->
        <string>msauth.com.yourcompany.yourproject</string>
    </array>
</dict>
</array>

Important:

    Do not enter :// as part of your redirect url
    Make sure the msauth. prefix is present

Troubleshooting

In case of problems please read #91 and #96

See this example repo by @loonix.
Google
PWA

import {GenericOAuth2} from "@capacitor-community/generic-oauth2";

googleLogin()
{
    GenericOAuth2.authenticate({
        authorizationBaseUrl: "https://accounts.google.com/o/oauth2/auth",
        accessTokenEndpoint: "https://www.googleapis.com/oauth2/v4/token",
        scope: "email profile",
        resourceUrl: "https://www.googleapis.com/userinfo/v2/me",
        web: {
            appId: environment.oauthAppId.google.web,
            responseType: "token", // implicit flow
            accessTokenEndpoint: "", // clear the tokenEndpoint as we know that implicit flow gets the accessToken from the authorizationRequest
            redirectUrl: "http://localhost:4200",
            windowOptions: "height=600,left=0,top=0"
        },
        android: {
            appId: environment.oauthAppId.google.android,
            responseType: "code", // if you configured a android app in google dev console the value must be "code"
            redirectUrl: "com.companyname.appname:/" // package name from google dev console
        },
        ios: {
            appId: environment.oauthAppId.google.ios,
            responseType: "code", // if you configured a ios app in google dev console the value must be "code"
            redirectUrl: "com.companyname.appname:/" // Bundle ID from google dev console
        }
    }).then(resourceUrlResponse => {
        // do sth e.g. check with your backend
    }).catch(reason => {
        console.error("Google OAuth rejected", reason);
    });
}

Android

See Android Default Config
iOS

See iOS Default Config
Facebook
PWA

import {GenericOAuth2} from "@capacitor-community/generic-oauth2";

facebookLogin()
{
    let fbApiVersion = "2.11";
    GenericOAuth2.authenticate({
        appId: "YOUR_FACEBOOK_APP_ID",
        authorizationBaseUrl: "https://www.facebook.com/v" + fbApiVersion + "/dialog/oauth",
        resourceUrl: "https://graph.facebook.com/v" + fbApiVersion + "/me",
        web: {
            responseType: "token",
            redirectUrl: "http://localhost:4200",
            windowOptions: "height=600,left=0,top=0"
        },
        android: {
            customHandlerClass: "com.companyname.appname.YourAndroidFacebookOAuth2Handler",
        },
        ios: {
            customHandlerClass: "App.YourIOsFacebookOAuth2Handler",
        }
    }).then(resourceUrlResponse => {
        // do sth e.g. check with your backend
    }).catch(reason => {
        console.error("FB OAuth rejected", reason);
    });
}

Android and iOS

Since October 2018 Strict Mode for Redirect Urls is always on.

    Use Strict Mode for Redirect URIs

    Only allow redirects that use the Facebook SDK or that exactly match the Valid OAuth Redirect URIs. Strongly recommended.

Before that it was able to use fb<your_app_id>:/authorize in a Android or iOS app and get the accessToken.

Unfortunately now we have to use the SDK for Facebook Login.

I don't want to have a dependency to facebook for users, who don't need Facebook OAuth.

To address this problem I created a integration with custom code in your app customHandlerClass
Android

See https://developers.facebook.com/docs/facebook-login/android/ for more background on how to configure Facebook in your Android app.

    Add implementation 'com.facebook.android:facebook-login:4.36.0' to android/app/build.gradle as dependency.

    Add to string.xml

<string name="facebook_app_id">
    <YOUR_FACEBOOK_APP_ID>
</string>
<string name="fb_login_protocol_scheme">fb
<YOUR_FACEBOOK_APP_ID>
</string>

    Add to AndroidManifest.xml

<meta-data android:name="com.facebook.sdk.ApplicationId" android:value="@string/facebook_app_id"/>

<activity android:name="com.facebook.FacebookActivity"
          android:configChanges=
                  "keyboard|keyboardHidden|screenLayout|screenSize|orientation"
          android:label="@string/app_name"/>

<activity android:name="com.facebook.CustomTabActivity" android:exported="true">
<intent-filter>
    <action android:name="android.intent.action.VIEW"/>
    <category android:name="android.intent.category.DEFAULT"/>
    <category android:name="android.intent.category.BROWSABLE"/>
    <data android:scheme="@string/fb_login_protocol_scheme"/>
</intent-filter>
</activity>

    Create a custom handler class

package com.companyname.appname;

import android.app.Activity;
import com.companyname.appname.MainActivity;
import com.facebook.AccessToken;
import com.facebook.FacebookCallback;
import com.facebook.FacebookException;
import com.facebook.login.DefaultAudience;
import com.facebook.login.LoginBehavior;
import com.facebook.login.LoginManager;
import com.facebook.login.LoginResult;
import com.getcapacitor.PluginCall;
import com.getcapacitor.community.genericoauth2.handler.AccessTokenCallback;
import com.getcapacitor.community.genericoauth2.handler.OAuth2CustomHandler;

import java.util.Collections;

public class YourAndroidFacebookOAuth2Handler implements OAuth2CustomHandler {

    @Override
    public void getAccessToken(
            Activity activity,
            PluginCall pluginCall,
            final AccessTokenCallback callback
    ) {
        AccessToken accessToken = AccessToken.getCurrentAccessToken();
        if (AccessToken.isCurrentAccessTokenActive()) {
            callback.onSuccess(accessToken.getToken());
        } else {
            LoginManager l = LoginManager.getInstance();
            l.logInWithReadPermissions(
                    activity,
                    Collections.singletonList("public_profile")
            );
            l.setLoginBehavior(LoginBehavior.WEB_ONLY);
            l.setDefaultAudience(DefaultAudience.NONE);
            LoginManager
                    .getInstance()
                    .registerCallback(
                            ((MainActivity) activity).getCallbackManager(),
                            new FacebookCallback<LoginResult>() {
                                @Override
                                public void onSuccess(LoginResult loginResult) {
                                    callback.onSuccess(loginResult.getAccessToken().getToken());
                                }

                                @Override
                                public void onCancel() {
                                    callback.onCancel();
                                }

                                @Override
                                public void onError(FacebookException error) {
                                    callback.onCancel();
                                }
                            }
                    );
        }
    }

    @Override
    public boolean logout(Activity activity, PluginCall pluginCall) {
        LoginManager.getInstance().logOut();
        return true;
    }
}

    Change your MainActivity like

public class MainActivity extends BridgeActivity {

    private CallbackManager callbackManager;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        // Initialize Facebook SDK
        FacebookSdk.sdkInitialize(this.getApplicationContext());
        callbackManager = CallbackManager.Factory.create();
    }

    @Override
    protected void onActivityResult(
            int requestCode,
            int resultCode,
            Intent data
    ) {
        super.onActivityResult(requestCode, resultCode, data);
        if (callbackManager.onActivityResult(requestCode, resultCode, data)) {
            return;
        }
    }

    public CallbackManager getCallbackManager() {
        return callbackManager;
    }
}

iOS

See https://developers.facebook.com/docs/swift/getting-started and https://developers.facebook.com/docs/swift/login

    Add Facebook pods to ios/App/Podfile and run pod install afterwards

platform :ios, '13.0'
use_frameworks!

# workaround to avoid Xcode caching of Pods that requires
# Product -> Clean Build Folder after new Cordova plugins installed
# Requires CocoaPods 1.6 or newer
install! 'cocoapods', :disable_input_output_paths => true

def capacitor_pods
  pod 'Capacitor', :path => '../../node_modules/@capacitor/ios'
  pod 'CapacitorCordova', :path => '../../node_modules/@capacitor/ios'
  pod 'CapacitorCommunityGenericOauth2', :path => '../../node_modules/@capacitor-community/generic-oauth2'
  # core plugins
  pod 'CapacitorApp', :path => '../../node_modules/@capacitor/app'
  pod 'CapacitorDevice', :path => '../../node_modules/@capacitor/device'
  pod 'CapacitorKeyboard', :path => '../../node_modules/@capacitor/keyboard'
  pod 'CapacitorSplashScreen', :path => '../../node_modules/@capacitor/splash-screen'
  pod 'CapacitorStatusBar', :path => '../../node_modules/@capacitor/status-bar'
end

target 'App' do
  capacitor_pods
  # Add your Pods here
  pod 'FacebookCore'
  pod 'FacebookLogin'
end

    Add some Facebook configs to your Info.plist

<key>CFBundleURLTypes</key>
<array>
<dict>
    <key>CFBundleURLSchemes</key>
    <array>
        <string>fb{your-app-id}</string>
    </array>
</dict>
</array>
<key>FacebookAppID</key>
<string>{your-app-id}</string>
<key>FacebookDisplayName</key>
<string>{your-app-name}</string>
<key>LSApplicationQueriesSchemes</key>
<array>
<string>fbapi</string>
<string>fb-messenger-share-api</string>
<string>fbauth2</string>
<string>fbshareextension</string>
</array>

    Create a custom handler class

import Foundation
import FacebookCore
import FacebookLogin
import Capacitor
import CapacitorCommunityGenericOauth2

@objc class YourIOsFacebookOAuth2Handler: NSObject, OAuth2CustomHandler {

    required override init() {
    }

    func getAccessToken(viewController: UIViewController, call: CAPPluginCall, success: @escaping (String) -> Void, cancelled: @escaping () -> Void, failure: @escaping (Error) -> Void) {
        if let accessToken = AccessToken.current {
            success(accessToken.tokenString)
        } else {
            DispatchQueue.main.async {
                let loginManager = LoginManager()
                // I only need the most basic permissions but others are available
                loginManager.logIn(permissions: [ .publicProfile ], viewController: viewController) { result in
                    switch result {
                    case .success(_, _, let accessToken):
                        success(accessToken.tokenString)
                    case .failed(let error):
                        failure(error)
                    case .cancelled:
                        cancelled()
                    }
                }
            }
        }
    }

    func logout(viewController: UIViewController, call: CAPPluginCall) -> Bool {
        let loginManager = LoginManager()
        loginManager.logOut()
        return true
    }
}

This handler will be automatically discovered up by the plugin and handles the login using the Facebook SDK. See https://developers.facebook.com/docs/swift/login/#custom-login-button for details.

    The users that have redirect problem after success grant add the following code to ios/App/App/AppDelegate.swift. This code correctly delegate the FB redirect url to be managed by Facebook SDK.

import UIKit
import FacebookCore
import FacebookLogin
import Capacitor

@UIApplicationMain
class AppDelegate: UIResponder, UIApplicationDelegate {

    var window: UIWindow?

    // other methods

    func application(_ app: UIApplication, open url: URL, options: [UIApplicationOpenURLOptionsKey : Any] = [:]) -> Bool {
      // Called when the app was launched with a url. Feel free to add additional processing here,
      // but if you want the App API to support tracking app url opens, make sure to keep this call

      if let scheme = url.scheme, let host = url.host {
        let appId: String = Settings.appID!
        if scheme == "fb\(appId)" && host == "authorize" {
          return ApplicationDelegate.shared.application(app, open: url, options: options)
        }
      }

      return CAPBridge.handleOpenUrl(url, options)
    }

    // other methods
}


Keep Awake

@capacitor-community/keep-awake

 Capacitor plugin to prevent devices from dimming or locking the screen.


Maintainers
Maintainer 	GitHub 	Social
Kevin Boosten 	kevinboosten 	@kevinboosten
Robin Genz 	robingenz 	@robin_genz
Installation

npm install @capacitor-community/keep-awake
npx cap sync

Configuration

No configuration required for this plugin.
Demo

A working example can be found in example-app folder.
Usage

import { KeepAwake } from '@capacitor-community/keep-awake';

const keepAwake = async () => {
  await KeepAwake.keepAwake();
};

const allowSleep = async () => {
  await KeepAwake.allowSleep();
};

const isSupported = async () => {
  const result = await KeepAwake.isSupported();
  return result.isSupported;
};

const isKeptAwake = async () => {
  const result = await KeepAwake.isKeptAwake();
  return result.isKeptAwake;
};

API

    keepAwake()
    allowSleep()
    isSupported()
    isKeptAwake()
    Interfaces

keepAwake()

keepAwake() => Promise<void>

Prevent the device from dimming the screen.
allowSleep()

allowSleep() => Promise<void>

Allow the device to dim the screen.
isSupported()

isSupported() => Promise<IsSupportedResult>

Whether keep awake is supported or not.

Returns: Promise<IsSupportedResult>
isKeptAwake()

isKeptAwake() => Promise<IsKeptAwakeResult>

Check if the device is kept awake.

Returns: Promise<IsKeptAwakeResult>
Interfaces
IsSupportedResult
Prop 	Type
isSupported 	boolean
IsKeptAwakeResult
Prop 	Type
isKeptAwake 	boolean
Changelog

See CHANGELOG.md.
License
See LICENSE.


Native Audio

@capacitor-community/native-audio

 Capacitor plugin for playing sounds natively.


Maintainers
Maintainer 	GitHub 	Social
Maxim Bazuev 	bazuka5801 	Telegram
Demo

YouTube Example
Preparation

All audio place in specific platform folder

Andoid: android/app/src/assets

iOS: ios/App/App/sounds

Web: assets/sounds
Installation

To use npm

npm install @capacitor-community/native-audio

To use yarn

yarn add @capacitor-community/native-audio

Sync native files

npx cap sync

On iOS, Android and Web, no further steps are needed.
Configuration

No configuration required for this plugin.
Supported methods
Name 	Android 	iOS 	Web
configure 	 	 	
preload 	 	 	
play 	 	 	
pause 	 	 	
resume 	 	 	
loop 	 	 	
stop 	 	 	
unload 	 	 	
setVolume 	 	 	
getDuration 	 	 	
getCurrentTime 	 	 	
isPlaying 	 	 	
Usage

Example repository OR another complete Ionic/Angular application demonstrating every plugin method is available in the example-app directory

import {NativeAudio} from '@capacitor-community/native-audio'


/**
 * This method will load more optimized audio files for background into memory.
 * @param assetPath - relative path of the file or absolute url (file://)
 *        assetId - unique identifier of the file
 *        audioChannelNum - number of audio channels
 *        isUrl - pass true if assetPath is a `file://` url
 * @returns void
 */
NativeAudio.preload({
    assetId: "fire",
    assetPath: "fire.mp3",
    audioChannelNum: 1,
    isUrl: false
});

/**
 * This method will play the loaded audio file if present in the memory.
 * @param assetId - identifier of the asset
 * @param time - (optional) play with seek. example: 6.0 - start playing track from 6 sec
 * @returns void
 */
NativeAudio.play({
    assetId: 'fire',
    // time: 6.0 - seek time
});

/**
 * This method will loop the audio file for playback.
 * @param assetId - identifier of the asset
 * @returns void
 */
NativeAudio.loop({
  assetId: 'fire',
});


/**
 * This method will stop the audio file if it's currently playing.
 * @param assetId - identifier of the asset
 * @returns void
 */
NativeAudio.stop({
  assetId: 'fire',
});

/**
 * This method will unload the audio file from the memory.
 * @param assetId - identifier of the asset
 * @returns void
 */
NativeAudio.unload({
  assetId: 'fire',
});

/**
 * This method will set the new volume for a audio file.
 * @param assetId - identifier of the asset
 *        volume - numerical value of the volume between 0.1 - 1.0
 * @returns void
 */
NativeAudio.setVolume({
  assetId: 'fire',
  volume: 0.4,
});

/**
 * this method will get the duration of an audio file.
 * only works if channels == 1
 */
NativeAudio.getDuration({
  assetId: 'fire'
})
.then(result => {
  console.log(result.duration);
})

/**
 * this method will get the current time of a playing audio file.
 * only works if channels == 1
 */
NativeAudio.getCurrentTime({
  assetId: 'fire'
});
.then(result => {
  console.log(result.currentTime);
})

/**
 * This method will return false if audio is paused or not loaded.
 * @param assetId - identifier of the asset
 * @returns {isPlaying: boolean}
 */
NativeAudio.isPlaying({
  assetId: 'fire'
})
.then(result => {
  console.log(result.isPlaying);
})

API
configure(...)

configure(options: ConfigureOptions) => Promise<void>

Param 	Type
options 	ConfigureOptions
preload(...)

preload(options: PreloadOptions) => Promise<void>

Param 	Type
options 	PreloadOptions
play(...)

play(options: { assetId: string; time?: number; }) => Promise<void>

Param 	Type
options 	{ assetId: string; time?: number; }
pause(...)

pause(options: { assetId: string; }) => Promise<void>

Param 	Type
options 	{ assetId: string; }
resume(...)

resume(options: { assetId: string; }) => Promise<void>

Param 	Type
options 	{ assetId: string; }
loop(...)

loop(options: { assetId: string; }) => Promise<void>

Param 	Type
options 	{ assetId: string; }
stop(...)

stop(options: { assetId: string; }) => Promise<void>

Param 	Type
options 	{ assetId: string; }
unload(...)

unload(options: { assetId: string; }) => Promise<void>

Param 	Type
options 	{ assetId: string; }
setVolume(...)

setVolume(options: { assetId: string; volume: number; }) => Promise<void>

Param 	Type
options 	{ assetId: string; volume: number; }
getCurrentTime(...)

getCurrentTime(options: { assetId: string; }) => Promise<{ currentTime: number; }>

Param 	Type
options 	{ assetId: string; }

Returns: Promise<{ currentTime: number; }>
getDuration(...)

getDuration(options: { assetId: string; }) => Promise<{ duration: number; }>

Param 	Type
options 	{ assetId: string; }

Returns: Promise<{ duration: number; }>
isPlaying(...)

isPlaying(options: { assetId: string; }) => Promise<{ isPlaying: boolean; }>

Param 	Type
options 	{ assetId: string; }

Returns: Promise<{ isPlaying: boolean; }>
addListener('complete', ...)

addListener(eventName: 'complete', listenerFunc: (event: { assetId: string; }) => void) => Promise<PluginListenerHandle>

Listen for asset completed playing event
Param 	Type
eventName 	'complete'
listenerFunc 	(event: { assetId: string; }) => void

Returns: Promise<PluginListenerHandle>

Since: 5.0.1
Interfaces
ConfigureOptions
Prop 	Type 	Description 	Default
fade 	boolean 	Indicating whether or not to fade audio. 	false
focus 	boolean 	Indicating whether or not to disable mixed audio. 	false
PreloadOptions
Prop 	Type
assetPath 	string
assetId 	string
volume 	number
audioChannelNum 	number
isUrl 	boolean
PluginListenerHandle
Prop 	Type
remove 	() => Promise<void>


Capacitor Camera Preview

@capacitor-community/camera-preview

CAPACITOR 7

Capacitor plugin that allows camera interaction from Javascript and HTML
(based on cordova-plugin-camera-preview).

Version 7 of this plugin requires Capacitor 7.

If you are using Capacitor 6, use version 6.1

If you are using Capacitor 5, use version 5

If you are using Capacitor 4, use version 4

If you are using Capacitor 3, use version 3

If you are using Capacitor 2, use version 1

PR's are greatly appreciated.

-- @arielhernandezmusa and @pbowyer, current maintainers
Installation

yarn add @capacitor-community/camera-preview

or

npm install @capacitor-community/camera-preview

Then run

npx cap sync

Extra Android installation steps

Important camera-preview 3+ requires Gradle 7. If you are using Gradle 4, please use version 2 of this plugin.

Open android/app/src/main/AndroidManifest.xml and above the closing </manifest> tag add this line to request the CAMERA permission:

<uses-permission android:name="android.permission.CAMERA" />

For more help consult the Capacitor docs.
Variables

This plugin will use the following project variables (defined in your app's variables.gradle file):

    androidxExifInterfaceVersion: version of androidx.exifinterface:exifinterface (default: 1.3.6)

Extra iOS installation steps

You will need to add two permissions to Info.plist. Follow the Capacitor docs and add permissions with the raw keys NSCameraUsageDescription and NSMicrophoneUsageDescription. NSMicrophoneUsageDescription is only required, if audio will be used. Otherwise set the disableAudio option to true, which also disables the microphone permission request.
Extra Web installation steps

Add import { CameraPreview } from '@capacitor-community/camera-preview'; in the file where you want to use the plugin.

then in html add <div id="cameraPreview"></div>

and CameraPreview.start({ parent: "cameraPreview"}); will work.
Methods
start(options)

Starts the camera preview instance.

Option 	values 	descriptions
position 	front | rear 	Show front or rear camera when start the preview. Defaults to front
width 	number (integer !) 	(optional) The preview width in pixels, default window.screen.width (applicable to the android and ios platforms only)
height 	number (integer !) 	(optional) The preview height in pixels, default window.screen.height (applicable to the android and ios platforms only)
x 	number (integer !) 	(optional) The x origin, default 0 (applicable to the android and ios platforms only)
y 	number (integer !) 	(optional) The y origin, default 0 (applicable to the android and ios platforms only)
toBack 	boolean 	(optional) Brings your html in front of your preview, default false (applicable to the android and ios platforms only)
paddingBottom 	number 	(optional) The preview bottom padding in pixes. Useful to keep the appropriate preview sizes when orientation changes (applicable to the android and ios platforms only)
rotateWhenOrientationChanged 	boolean 	(optional) Rotate preview when orientation changes (applicable to the ios platforms only; default value is true)
storeToFile 	boolean 	(optional) Capture images to a file and return back the file path instead of returning base64 encoded data, default false.
disableExifHeaderStripping 	boolean 	(optional) Disable automatic rotation of the image, and let the browser deal with it, default true (applicable to the android and ios platforms only)
enableHighResolution 	boolean 	(optional) Defaults to false - iOS only - Activate high resolution image capture so that output images are from the highest resolution possible on the device
disableAudio 	boolean 	(optional) Disables audio stream to prevent permission requests, default false. (applicable to web and iOS only)
lockAndroidOrientation 	boolean 	(optional) Locks device orientation when camera is showing, default false. (applicable to Android only)
enableOpacity 	boolean 	(optional) Make the camera preview see-through. Ideal for augmented reality uses. Default false (applicable to Android and web only)
enableZoom 	boolean 	(optional) Set if you can pinch to zoom. Default false (applicable to the android and ios platforms only)

import { CameraPreview, CameraPreviewOptions } from '@capacitor-community/camera-preview';

const cameraPreviewOptions: CameraPreviewOptions = {
  position: 'rear',
  height: 1920,
  width: 1080
};
CameraPreview.start(cameraPreviewOptions);

Remember to add the style below on your app's HTML or body element:

ion-content {
  --background: transparent;
}

Take into account that this will make transparent all ion-content on application, if you want to show camera preview only in one page, just add a custom class to your ion-content and make it transparent:

.my-custom-camera-preview-content {
  --background: transparent;
}

If the camera preview is not displaying after applying the above styles, apply transparent background color to the root div element of the parent component Ex: VueJS >> App.vue component

<template>
  <ion-app id="app">
    <ion-router-outlet />
  </ion-app>
</template>

<style>
#app {
  background-color: transparent !important;
}
<style>

stop()

Stops the camera preview instance.

CameraPreview.stop();

flip()

Switch between rear and front camera only for android and ios, web is not supported javascript CameraPreview.flip() 
capture(options)
Option 	values 	descriptions
quality 	number 	(optional) The picture quality, 0 - 100, default 85
width 	number 	(optional) The picture width, default 0 (Device default)
height 	number 	(optional) The picture height, default 0 (Device default)

import { CameraPreviewPictureOptions } from '@capacitor-community/camera-preview';

const cameraPreviewPictureOptions: CameraPreviewPictureOptions = {
  quality: 50
};

const result = await CameraPreview.capture(cameraPreviewPictureOptions);
const base64PictureData = result.value;

// do sometime with base64PictureData

captureSample(options)
Option 	values 	descriptions
quality 	number 	(optional) The picture quality, 0 - 100, default 85
Captures a sample image from the video stream. Only for Android and iOS, web implementation falls back to `capture` method. This can be used to perform real-time analysis on the current frame in the video. The argument `quality` defaults to `85` and specifies the quality/compression value: `0=max compression`, `100=max quality`.

import { CameraSampleOptions } from '@capacitor-community/camera-preview';

const cameraSampleOptions: CameraSampleOptions = {
  quality: 50
};

const result = await CameraPreview.captureSample(cameraSampleOptions);
const base64PictureData = result.value;

// do something with base64PictureData

getSupportedFlashModes()
Get the flash modes supported by the camera device currently started. Returns an array containing supported flash modes. See [FLASH_MODE](#camera_Settings.FlashMode) for possible values that can be returned

import { CameraPreviewFlashMode } from '@capacitor-community/camera-preview';

const flashModes = await CameraPreview.getSupportedFlashModes();
const supportedFlashModes: CameraPreviewFlashMode[] = flashModes.result;

setFlashMode(options)
Set the flash mode. See [FLASH_MODE](#camera_Settings.FlashMode) for details about the possible values for flashMode.

const CameraPreviewFlashMode: CameraPreviewFlashMode = 'torch';

CameraPreview.setFlashMode(cameraPreviewFlashMode);

startRecordVideo(options) ---- ANDROID and iOS only

Start capturing video

const cameraPreviewOptions: CameraPreviewOptions = {
  position: 'front',
  width: window.screen.width,
  height: window.screen.height,
};

CameraPreview.startRecordVideo(cameraPreviewOptions);

stopRecordVideo() ---- ANDROID and iOS only

Finish capturing a video. The captured video will be returned as a file path and the video format is .mp4

const resultRecordVideo = await CameraPreview.stopRecordVideo();

setOpacity(options: CameraOpacityOptions): Promise<{}>; ---- ANDROID only

Set the opacity for the camera preview

const myCamera = CameraPreview.start({ enableOpacity: true });
myCamera.setOpacity({ opacity: 0.4 });

isCameraStarted() ---- ANDROID and iOS only

Check or detect if the camera has been started

const { value } = await CameraPreview.isCameraStarted();

Settings

FLASH_MODE

Flash mode settings:
Name 	Type 	Default 	Note
OFF 	string 	off 	
ON 	string 	on 	
AUTO 	string 	auto 	
RED_EYE 	string 	red-eye 	Android Only
TORCH 	string 	torch 	
Demo/Example App

A working example can be found at Example App



